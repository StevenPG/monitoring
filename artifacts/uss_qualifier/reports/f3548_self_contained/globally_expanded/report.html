<html>
<style>
  body {
    margin: 0;
    color: #24292f;
    background-color: #ffffff;
    font-family: -apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
    font-size: 16px;
    line-height: 1.5;
    word-wrap: break-word;
  }
  table {
    border-spacing: 0;
    border-collapse: collapse;
    width: max-content;
    max-width: 100%;
    overflow: auto;
  }
  tr {
    border-top: 1px solid hsla(210,18%,87%,1);
  }
  table tr:nth-child(2n) {
    background-color: #f6f8fa;
  }
  td {
    padding: 6px 6px;
    vertical-align: top;
    border: 1px solid #d0d7de;
  }
  th {
    padding: 6px 6px;
    text-align: left;
    background-color: rgb(230, 230, 230);
    border: 1px solid #d0d7de;
    height: 40px;
  }
  a {
    background-color: transparent;
    color: #0969da;
    text-decoration: none;
  }
  p, ul, table {
    margin-top: 0.1em;
    margin-bottom: 0.1em;
    margin-left: 2.4em;
  }
  ul {
    padding-inline-start: 1em;
  }
  ul ul {
    margin-left: 0em;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: var(--base-size-24);
    margin-bottom: var(--base-size-16);
    font-weight: var(--base-text-weight-semibold, 600);
    line-height: 1.25;
  }

  h2 {
    margin-top: 1.4em;
    margin-left: 0.4em;
    font-weight: var(--base-text-weight-semibold, 600);
    padding-bottom: .3em;
    font-size: 2.0em;
    border-bottom: 1px solid var(--borderColor-muted);
  }

  h3 {
    margin-top: 1.1em;
    margin-left: 0.8em;
    font-weight: var(--base-text-weight-semibold, 600);
    font-size: 1.6em;
  }

  h4 {
    margin-top: 0.8em;
    margin-left: 1.2em;
    font-weight: var(--base-text-weight-semibold, 600);
    font-size: 1.2em;
  }

  h5 {
    margin-top: 0.5em;
    margin-left: 1.6em;
    font-weight: var(--base-text-weight-semibold, 600);
    font-size: 1.0em;
  }

  h6 {
    margin-top: 0.2em;
    margin-left: 2.0em;
    font-weight: var(--base-text-weight-semibold, 600);
    font-size: 0.8em;
    color: var(--fgColor-muted);
  }
</style>
<body>
<h1>Test run 7616a92</h1>
<h2>Table of contents</h2>
<h3>Setup</h3>
<ul>
<li>Test run information</li>
<li>Resource pool</li>
</ul>
<h3>Test scenarios</h3>
<ul>
<li>[1] Get system versions</li>
<li>[2] ASTM F3548 flight planners preparation</li>
<li>[3] ASTM SCD DSS: Implicit Subscription handling</li>
<li>[4] ASTM SCD DSS: Operational Intent Reference Simple</li>
<li>[5] ASTM SCD DSS: Constraint Reference Simple</li>
<li>[6] ASTM SCD DSS: Constraint Reference Synchronization</li>
<li>[7] ASTM SCD DSS: USS Availability Synchronization</li>
<li>[8] ASTM F3548-21 UTM DSS Operational Intent Reference State Transitions</li>
<li>[9] ASTM SCD DSS: Subscription and entity deletion interaction</li>
<li>[10] ASTM SCD DSS: Subscription and entity interaction</li>
<li>[11] ASTM SCD DSS: Operational Intent Reference Key Validation</li>
<li>[12] ASTM SCD DSS: Operational Intent Reference Synchronization</li>
<li>[13] ASTM SCD DSS: Interfaces authentication</li>
<li>[14] ASTM SCD DSS: Subscription Simple</li>
<li>[15] ASTM SCD DSS: Subscription Validation</li>
<li>[16] ASTM F3548-21 UTM DSS Operational Intent Reference Access Control</li>
<li>[17] ASTM F3548-21 UTM DSS interoperability</li>
<li>[18] ASTM SCD DSS: Subscription Synchronization</li>
<li>[skipped] ASTM UTM DSS: Direct CRDB access</li>
<li>[skipped] OVN Request Optional Extension to ASTM F3548-21</li>
<li>[19] ASTM SCD DSS: Report</li>
<li>[20] ASTM SCD DSS: Implicit Subscription handling</li>
<li>[21] ASTM SCD DSS: Operational Intent Reference Simple</li>
<li>[22] ASTM SCD DSS: Constraint Reference Simple</li>
<li>[23] ASTM SCD DSS: Constraint Reference Synchronization</li>
<li>[24] ASTM SCD DSS: USS Availability Synchronization</li>
<li>[25] ASTM F3548-21 UTM DSS Operational Intent Reference State Transitions</li>
<li>[26] ASTM SCD DSS: Subscription and entity deletion interaction</li>
<li>[27] ASTM SCD DSS: Subscription and entity interaction</li>
<li>[28] ASTM SCD DSS: Operational Intent Reference Key Validation</li>
<li>[29] ASTM SCD DSS: Operational Intent Reference Synchronization</li>
<li>[30] ASTM SCD DSS: Interfaces authentication</li>
<li>[31] ASTM SCD DSS: Subscription Simple</li>
<li>[32] ASTM SCD DSS: Subscription Validation</li>
<li>[33] ASTM F3548-21 UTM DSS Operational Intent Reference Access Control</li>
<li>[34] ASTM F3548-21 UTM DSS interoperability</li>
<li>[35] ASTM SCD DSS: Subscription Synchronization</li>
<li>[skipped] ASTM UTM DSS: Direct CRDB access</li>
<li>[skipped] OVN Request Optional Extension to ASTM F3548-21</li>
<li>[36] ASTM SCD DSS: Report</li>
<li>[37] Solo happy path</li>
<li>[38] Solo happy path</li>
<li>[39] Validation of operational intents</li>
<li>[40] Validation of operational intents</li>
<li>[skipped] All actions from action generator</li>
<li>[41] Nominal planning: not permitted conflict with equal priority</li>
<li>[42] Nominal planning: not permitted conflict with equal priority</li>
<li>[43] Nominal planning: not permitted conflict with equal priority</li>
<li>[44] Nominal planning: not permitted conflict with equal priority</li>
<li>[45] Data Validation of GET operational intents by USS</li>
<li>[46] Data Validation of GET operational intents by USS</li>
<li>[47] Awareness of relevant operational intents</li>
<li>[48] Awareness of relevant operational intents</li>
<li>[skipped] All actions from action generator</li>
<li>[skipped] All actions from action generator</li>
<li>[49] ASTM F3548 flight planners preparation</li>
<li>[50] ASTM F3548-21 evaluate system versions</li>
<li>[51] ASTM F3548 UTM aggregate checks</li>
</ul>
<h2>Test run information</h2>
<table>
  <tr>
    <th>Test characteristic</th>
    <th>Value</th>
  </tr>
  <tr>
    <td>Test run identifier</td>
    <td>TR-7616a92</td>
  </tr>
  <tr>
    <td>Start time</td>
    <td>2024-11-18 16:33:27 UTC</td>
  </tr>
  <tr>
    <td>End time</td>
    <td>2024-11-18 16:34:28 UTC</td>
  </tr>
  <tr>
    <td>Test baseline identifier</td>
    <td>TB-255d650</td>
  </tr>
  <tr>
    <td>Environment identifier</td>
    <td>TE-a199907</td>
  </tr>
  <tr>
    <td>Codebase version</td>
    <td>interuss/monitoring/v0.0.0-ab32155</td>
  </tr>
  <tr>
    <td>Commit hash</td>
    <td>ab321559aa3b6680cbc1911acfabde4e1afddf6e</td>
  </tr>
</table>
<p><em>This artifact was generated by interuss/monitoring/v0.0.0-ab32155</em></p>
<h2>Resource pool</h2>
<h3>Environment</h3>
<h4><code>utm_auth</code> (resources.communications.AuthAdapterResource)</h4>
<ul>
<li>
Specification<ul>
<li>environment_variable_containing_auth_spec: AUTH_SPEC</li>
<li>
scopes_authorized<ul>
<li>Item 1:
interuss.flight_planning.direct_automated_test</li>
<li>Item 2:
interuss.flight_planning.plan</li>
<li>Item 3:
interuss.versioning.read_system_versions</li>
<li>Item 4:
utm.strategic_coordination</li>
<li>Item 5:
utm.availability_arbitration</li>
<li>Item 6:
utm.constraint_management</li>
<li>Item 7:</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>second_utm_auth</code> (resources.communications.AuthAdapterResource)</h4>
<ul>
<li>
Specification<ul>
<li>environment_variable_containing_auth_spec: AUTH_SPEC_2</li>
<li>scopes_authorized: [ utm.strategic_coordination ]</li>
</ul>
</li>
</ul>
<h4><code>test_env_version_providers</code> (resources.versioning.VersionProvidersResource)</h4>
<ul>
<li>
Specification<ul>
<li>
instances<ul>
<li>
Item 1:<ul>
<li>participant_id: uss1_core</li>
<li>
interuss<ul>
<li>base_url: <a href="http://scdsc.uss1.localutm/versioning">http://scdsc.uss1.localutm/versioning</a></li>
</ul>
</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>participant_id: uss2_core</li>
<li>
interuss<ul>
<li>base_url: <a href="http://scdsc.uss2.localutm/versioning">http://scdsc.uss2.localutm/versioning</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
Dependencies<ul>
<li><code>auth_adapter</code>: From <code>utm_auth</code> resource</li>
</ul>
</li>
</ul>
<h4><code>flight_planners</code> (resources.flight_planning.FlightPlannersResource)</h4>
<ul>
<li>
Specification<ul>
<li>
flight_planners<ul>
<li>
Item 1:<ul>
<li>participant_id: uss1_core</li>
<li>v1_base_url: <a href="http://scdsc.uss1.localutm/flight_planning/v1">http://scdsc.uss1.localutm/flight_planning/v1</a></li>
<li>timeout_seconds: None</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>participant_id: uss2_core</li>
<li>v1_base_url: <a href="http://scdsc.uss2.localutm/flight_planning/v1">http://scdsc.uss2.localutm/flight_planning/v1</a></li>
<li>timeout_seconds: None</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
Dependencies<ul>
<li><code>auth_adapter</code>: From <code>utm_auth</code> resource</li>
</ul>
</li>
</ul>
<h4><code>dss</code> (resources.astm.f3548.v21.DSSInstanceResource)</h4>
<ul>
<li>
Specification<ul>
<li>participant_id: uss1_dss</li>
<li>base_url: <a href="http://dss.uss1.localutm">http://dss.uss1.localutm</a></li>
</ul>
</li>
<li>
Dependencies<ul>
<li><code>auth_adapter</code>: From <code>utm_auth</code> resource</li>
</ul>
</li>
</ul>
<h4><code>dss_instances</code> (resources.astm.f3548.v21.DSSInstancesResource)</h4>
<ul>
<li>
Specification<ul>
<li>
dss_instances<ul>
<li>
Item 1:<ul>
<li>participant_id: uss1_dss</li>
<li>user_participant_ids: [ mock_uss ]</li>
<li>base_url: <a href="http://dss.uss1.localutm">http://dss.uss1.localutm</a></li>
</ul>
</li>
<li>
Item 2:<ul>
<li>participant_id: uss2_dss</li>
<li>base_url: <a href="http://dss.uss2.localutm">http://dss.uss2.localutm</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
Dependencies<ul>
<li><code>auth_adapter</code>: From <code>utm_auth</code> resource</li>
</ul>
</li>
</ul>
<h4><code>mock_uss</code> (resources.interuss.mock_uss.client.MockUSSResource)</h4>
<ul>
<li>
Specification<ul>
<li>participant_id: mock_uss</li>
<li>mock_uss_base_url: <a href="http://scdsc.log.uss6.localutm">http://scdsc.log.uss6.localutm</a></li>
<li>timeout_seconds: None</li>
</ul>
</li>
<li>
Dependencies<ul>
<li><code>auth_adapter</code>: From <code>utm_auth</code> resource</li>
</ul>
</li>
</ul>
<h3>Baseline</h3>
<h4><code>prod_env_version_providers</code> (resources.versioning.VersionProvidersResource)</h4>
<ul>
<li>
Specification<ul>
<li>
instances<ul>
<li>
Item 1:<ul>
<li>participant_id: uss1_core</li>
<li>
interuss<ul>
<li>base_url: <a href="http://scdsc.uss1.localutm/versioning">http://scdsc.uss1.localutm/versioning</a></li>
</ul>
</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>participant_id: uss2_core</li>
<li>
interuss<ul>
<li>base_url: <a href="http://scdsc.uss2.localutm/versioning">http://scdsc.uss2.localutm/versioning</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
Dependencies<ul>
<li><code>auth_adapter</code>: From <code>utm_auth</code> resource</li>
</ul>
</li>
</ul>
<h4><code>test_exclusions</code> (resources.dev.TestExclusionsResource)</h4>
<ul>
<li>
Specification<ul>
<li>allow_private_addresses: True</li>
<li>allow_cleartext_queries: True</li>
</ul>
</li>
</ul>
<h4><code>utm_client_identity</code> (resources.communications.ClientIdentityResource)</h4>
<ul>
<li>
Specification<ul>
<li>whoami_audience: localhost</li>
<li>whoami_scope: utm.strategic_coordination</li>
</ul>
</li>
<li>
Dependencies<ul>
<li><code>auth_adapter</code>: From <code>utm_auth</code> resource</li>
</ul>
</li>
</ul>
<h4><code>id_generator</code> (resources.interuss.IDGeneratorResource)</h4>
<ul>
<li>Specification</li>
<li>
Dependencies<ul>
<li><code>client_identity</code>: From <code>utm_client_identity</code> resource</li>
</ul>
</li>
</ul>
<h4><code>planning_area</code> (resources.astm.f3548.v21.PlanningAreaResource)</h4>
<ul>
<li>
Specification<ul>
<li>base_url: <a href="https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/configurations/dev/f3548_self_contained/planning_area">https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/configurations/dev/f3548_self_contained/planning_area</a></li>
<li>
volume<ul>
<li>
outline_polygon<ul>
<li>
vertices<ul>
<li>
Item 1:<ul>
<li>lat: 37.1853</li>
<li>lng: -80.614</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>lat: 37.2148</li>
<li>lng: -80.614</li>
</ul>
</li>
<li>
Item 3:<ul>
<li>lat: 37.2148</li>
<li>lng: -80.544</li>
</ul>
</li>
<li>
Item 4:<ul>
<li>lat: 37.1853</li>
<li>lng: -80.544</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
altitude_lower<ul>
<li>value: 0.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>
altitude_upper<ul>
<li>value: 3048.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>outline_circle: None</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>problematically_big_area</code> (resources.VerticesResource)</h4>
<ul>
<li>
Specification<ul>
<li>
vertices<ul>
<li>
Item 1:<ul>
<li>lat: 38.0</li>
<li>lng: -81.0</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>lat: 37.0</li>
<li>lng: -81.0</li>
</ul>
</li>
<li>
Item 3:<ul>
<li>lat: 37.0</li>
<li>lng: -80.0</li>
</ul>
</li>
<li>
Item 4:<ul>
<li>lat: 38.0</li>
<li>lng: -80.0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>conflicting_flights</code> (resources.flight_planning.FlightIntentsResource)</h4>
<ul>
<li>
Specification<ul>
<li>
file<ul>
<li>path: file://./test_data/flight_intents/standard/conflicting_flights.yaml</li>
<li>hash_sha512: 4e31fc0aca63285f72a1f91b9603ffe28c3d0bb63c2754855336bcf382d4c49ac53a9696318b64bdca308543735c76a598a6d09b14ed59f4c09872c3428e0d80</li>
</ul>
</li>
<li>
transformations<ul>
<li>
Item 1:<ul>
<li>
relative_translation<ul>
<li>degrees_north: 32.7181</li>
<li>degrees_east: -96.7587</li>
<li>meters_up: 93.0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>invalid_flight_intents</code> (resources.flight_planning.FlightIntentsResource)</h4>
<ul>
<li>
Specification<ul>
<li>
intent_collection<ul>
<li>
intents<ul>
<li>
valid_flight<ul>
<li>
full<ul>
<li>
basic_information<ul>
<li>usage_state: Planned</li>
<li>uas_state: Nominal</li>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
outline_polygon<ul>
<li>
vertices<ul>
<li>
Item 1:<ul>
<li>lng: 0.0</li>
<li>lat: 0.0</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>lng: -0.0003</li>
<li>lat: 0.00042</li>
</ul>
</li>
<li>
Item 3:<ul>
<li>lng: 0.0003</li>
<li>lat: 0.00042</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
altitude_lower<ul>
<li>value: 0.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>
altitude_upper<ul>
<li>value: 30.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>
start_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: StartOfScenario</li>
<li>next_sun_position: None</li>
<li>offset_from: None</li>
<li>absolute_time: None</li>
<li>next_day: None</li>
<li>use_timezone: None</li>
</ul>
</li>
<li>offset: -1s</li>
</ul>
</li>
<li>next_sun_position: None</li>
<li>time_during_test: None</li>
<li>absolute_time: None</li>
<li>next_day: None</li>
<li>use_timezone: None</li>
</ul>
</li>
<li>duration: 45m</li>
<li>end_time: None</li>
<li>outline_circle: None</li>
<li>transformations: None</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
astm_f3548_21<ul>
<li>priority: 0</li>
</ul>
</li>
<li>
uspace_flight_authorisation<ul>
<li>uas_serial_number: 1AF49UL5CC5J6K</li>
<li>operation_category: Open</li>
<li>operation_mode: Vlos</li>
<li>uas_class: C0</li>
<li>identification_technologies: [ ASTMNetRID ]</li>
<li>connectivity_methods: [ cellular ]</li>
<li>endurance_minutes: 50</li>
<li>emergency_procedure_url: <a href="https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/test_data/flight_intents/standard/flight_auths/standard/emergency">https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/test_data/flight_intents/standard/flight_auths/standard/emergency</a></li>
<li>operator_id: CHEo5kut30e0mt01-qwe</li>
<li>uas_id: &quot;&quot;</li>
<li>uas_type_certificate: &quot;&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
valid_activated<ul>
<li>
delta<ul>
<li>source: valid_flight</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>usage_state: InUse</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
invalid_too_far_away<ul>
<li>
delta<ul>
<li>source: valid_flight</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
start_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: StartOfScenario</li>
</ul>
</li>
<li>offset: 32d</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
invalid_recently_ended<ul>
<li>
delta<ul>
<li>source: valid_flight</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
start_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: TimeOfEvaluation</li>
</ul>
</li>
<li>offset: -1m</li>
</ul>
</li>
</ul>
</li>
<li>
end_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: TimeOfEvaluation</li>
</ul>
</li>
<li>offset: -5s</li>
</ul>
</li>
</ul>
</li>
<li>duration: None</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
valid_conflict_tiny_overlap<ul>
<li>
delta<ul>
<li>source: valid_flight</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
outline_polygon<ul>
<li>
vertices<ul>
<li>
Item 1:<ul>
<li>lng: 0.0</li>
<li>lat: 1e-07</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>lng: -0.0003</li>
<li>lat: -0.00042</li>
</ul>
</li>
<li>
Item 3:<ul>
<li>lng: 0.0003</li>
<li>lat: -0.00042</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
transformations<ul>
<li>
Item 1:<ul>
<li>
relative_translation<ul>
<li>degrees_north: 32.7181</li>
<li>degrees_east: -96.7587</li>
<li>meters_up: 93.0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
transformations<ul>
<li>
Item 1:<ul>
<li>
relative_translation<ul>
<li>degrees_north: 32.7181</li>
<li>degrees_east: -96.7587</li>
<li>meters_up: 93.0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>non_conflicting_flights</code> (resources.flight_planning.FlightIntentsResource)</h4>
<ul>
<li>
Specification<ul>
<li>
intent_collection<ul>
<li>
intents<ul>
<li>
flight_1<ul>
<li>
full<ul>
<li>
basic_information<ul>
<li>usage_state: Planned</li>
<li>uas_state: Nominal</li>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
outline_polygon<ul>
<li>
vertices<ul>
<li>
Item 1:<ul>
<li>lat: 0.0</li>
<li>lng: 0.0</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>lat: 0.00717</li>
<li>lng: -0.00835</li>
</ul>
</li>
<li>
Item 3:<ul>
<li>lat: 0.00939</li>
<li>lng: -0.00364</li>
</ul>
</li>
<li>
Item 4:<ul>
<li>lat: 0.00821</li>
<li>lng: -0.00101</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
altitude_lower<ul>
<li>value: -9.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>
altitude_upper<ul>
<li>value: 76.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>
start_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: StartOfScenario</li>
<li>next_sun_position: None</li>
<li>offset_from: None</li>
<li>absolute_time: None</li>
<li>next_day: None</li>
<li>use_timezone: None</li>
</ul>
</li>
<li>offset: -1s</li>
</ul>
</li>
<li>next_sun_position: None</li>
<li>time_during_test: None</li>
<li>absolute_time: None</li>
<li>next_day: None</li>
<li>use_timezone: None</li>
</ul>
</li>
<li>duration: 45m</li>
<li>end_time: None</li>
<li>outline_circle: None</li>
<li>transformations: None</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
astm_f3548_21<ul>
<li>priority: 0</li>
</ul>
</li>
<li>
uspace_flight_authorisation<ul>
<li>uas_serial_number: 1AF49UL5CC5J6K</li>
<li>operation_category: Open</li>
<li>operation_mode: Vlos</li>
<li>uas_class: C0</li>
<li>identification_technologies: [ ASTMNetRID ]</li>
<li>connectivity_methods: [ cellular ]</li>
<li>endurance_minutes: 50</li>
<li>emergency_procedure_url: <a href="https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/test_data/flight_intents/standard/flight_auths/standard/emergency">https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/test_data/flight_intents/standard/flight_auths/standard/emergency</a></li>
<li>operator_id: CHEo5kut30e0mt01-qwe</li>
<li>uas_id: &quot;&quot;</li>
<li>uas_type_certificate: &quot;&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
flight_2<ul>
<li>
full<ul>
<li>
basic_information<ul>
<li>usage_state: Planned</li>
<li>uas_state: Nominal</li>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
outline_polygon<ul>
<li>
vertices<ul>
<li>
Item 1:<ul>
<li>lat: 0.0077</li>
<li>lng: -0.00065</li>
</ul>
</li>
<li>
Item 2:<ul>
<li>lat: 0.00596</li>
<li>lng: 0.00316</li>
</ul>
</li>
<li>
Item 3:<ul>
<li>lat: -0.00431</li>
<li>lng: 0.00059</li>
</ul>
</li>
<li>
Item 4:<ul>
<li>lat: 0.00753</li>
<li>lng: -0.01035</li>
</ul>
</li>
<li>
Item 5:<ul>
<li>lat: -0.00025</li>
<li>lng: 0.00013</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
altitude_lower<ul>
<li>value: 0.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>
altitude_upper<ul>
<li>value: 58.0</li>
<li>reference: W84</li>
<li>units: M</li>
</ul>
</li>
<li>
start_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: StartOfScenario</li>
<li>next_sun_position: None</li>
<li>offset_from: None</li>
<li>absolute_time: None</li>
<li>next_day: None</li>
<li>use_timezone: None</li>
</ul>
</li>
<li>offset: -1s</li>
</ul>
</li>
<li>next_sun_position: None</li>
<li>time_during_test: None</li>
<li>absolute_time: None</li>
<li>next_day: None</li>
<li>use_timezone: None</li>
</ul>
</li>
<li>duration: 45m</li>
<li>end_time: None</li>
<li>outline_circle: None</li>
<li>transformations: None</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
astm_f3548_21<ul>
<li>priority: 0</li>
</ul>
</li>
<li>
uspace_flight_authorisation<ul>
<li>uas_serial_number: 1AF49UL5CC5J6K</li>
<li>operation_category: Open</li>
<li>operation_mode: Vlos</li>
<li>uas_class: C0</li>
<li>identification_technologies: [ ASTMNetRID ]</li>
<li>connectivity_methods: [ cellular ]</li>
<li>endurance_minutes: 50</li>
<li>emergency_procedure_url: <a href="https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/test_data/flight_intents/standard/flight_auths/standard/emergency">https://testdummy.interuss.org/interuss/monitoring/uss_qualifier/test_data/flight_intents/standard/flight_auths/standard/emergency</a></li>
<li>operator_id: CHEo5kut30e0mt01-qwe</li>
<li>uas_id: &quot;&quot;</li>
<li>uas_type_certificate: &quot;&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
flight_1_planned<ul>
<li>
delta<ul>
<li>source: flight_1</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
start_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: TimeOfEvaluation</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
flight_1_activated<ul>
<li>
delta<ul>
<li>source: flight_1_planned</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>usage_state: InUse</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
flight_2_planned<ul>
<li>
delta<ul>
<li>source: flight_2</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
start_time<ul>
<li>
offset_from<ul>
<li>
starting_from<ul>
<li>time_during_test: TimeOfEvaluation</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
flight_2_planned_modified<ul>
<li>
delta<ul>
<li>source: flight_2_planned</li>
<li>
mutation<ul>
<li>
basic_information<ul>
<li>
area<ul>
<li>
Item 1:<ul>
<li>
altitude_upper<ul>
<li>value: 65</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
transformations<ul>
<li>
Item 1:<ul>
<li>
relative_translation<ul>
<li>degrees_north: 32.7181</li>
<li>degrees_east: -96.7587</li>
<li>meters_up: 93.0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
transformations<ul>
<li>
Item 1:<ul>
<li>
relative_translation<ul>
<li>degrees_north: 32.7181</li>
<li>degrees_east: -96.7587</li>
<li>meters_up: 93.0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>[1] Get system versions</h2>
<p>This test scenario obtains versions for the specified systems.</p>
<h3>Resources</h3>
<h4>version_providers</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/versioning/client.py"><code>VersionProvidersResource</code></a> containing the means by which to query system versions for each applicable participant.</p>
<p>Provided by test_env_version_providers in top-level resource pool.</p>
<h4>system_identity</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/versioning/system_identity.py"><code>SystemIdentityResource</code></a> indicating the identity of the system for which to query the version from all providers.</p>
<p>Provided by system_identity in suites.astm.utm.f3548_21.</p>
<h3>Get versions test case</h3>
<h4>Get versions test step</h4>
<p>Each version provider is queried for the version of its system (identified by system_identity) and the result is recorded as a note in the report.</p>
<h5>Valid response check</h5>
<p>If a valid response is not received from a version provider, they will have failed to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/versioning.md">versioning.ReportSystemVersion</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:27.427298Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.439296Z)</p>
<h2>[2] ASTM F3548 flight planners preparation</h2>
<h3>Description</h3>
<p>This scenario prepares flight planner systems for execution of controlled test scenarios by checking planner systems' readiness and having them remove any existing flights that may already be in the test area.</p>
<h3>Resources</h3>
<h4>flight_planners</h4>
<p>FlightPlannersResource listing all USSs undergoing planning tests so that they can be checked for readiness and instructed to remove any existing flights from the area in this scenario.</p>
<p>Provided by flight_planners in top-level resource pool.</p>
<h4>mock_uss</h4>
<p>(Optional) MockUSSResource is checked for readiness and instructed to remove any existing flights from the area in this scenario.</p>
<p>Provided by mock_uss in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource to check for lingering operational intents after the area has been cleared.</p>
<p>Provided by dss in top-level resource pool.</p>
<h4>flight_intents</h4>
<p>FlightIntentsResource containing flight intents that will be used in subsequent tests, so all planners should be instructed to clear any area involved with any of these intents of flights it manages.</p>
<p>Provided by invalid_flight_intents in top-level resource pool.</p>
<h4>flight_intents3</h4>
<p>(Optional) If more than one FlightIntentsResource will be used in subsequent tests, additional intents may be specified with this resource.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>flight_intents4</h4>
<p>(Optional) If more than one FlightIntentsResource will be used in subsequent tests, additional intents may be specified with this resource.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h3>Flight planners preparation test case</h3>
<h4>Check for flight planning readiness test step</h4>
<p>All USSs are queried for their readiness to ensure later tests can proceed.</p>
<h5>⚠️ Valid response to readiness query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ImplementAPI</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:27.453863Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.463415Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.476558Z)</p>
<h5>⚠️ Flight planning USS ready check</h5>
<p>This readiness indicates the USS's ability to inject test data, so if this check fails, not only has the USS not met <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.Readiness</a></strong>, but it also does not meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0310</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:27.453937Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.463484Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.476639Z)</p>
<h4>Area clearing test step</h4>
<p>All USSs are requested to remove all flights from the area under test.</p>
<h5>⚠️ Valid response to clearing query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ImplementAPI</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:27.515247Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.550705Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.586178Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:27.602556Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.619899Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.637394Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:27.654110Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.670291Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.686569Z)</p>
<h5>⚠️ Area cleared successfully check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ClearArea</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:27.515332Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.550793Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.586271Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:27.602649Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.620003Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.637510Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:27.654224Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:27.670399Z)</p>
<p>✅ mock_uss (2024-11-18T16:33:27.686696Z)</p>
<h4>Clear area validation test step</h4>
<p>uss_qualifier verifies with the DSS that there are no operational intents remaining in the area.</p>
<h5>🛑 DSS responses check</h5>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area, or fails to allow the deletion of
an operational intent from its own creator, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.692921Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.696471Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.700116Z)</p>
<h5>🛑 Area is clear of op intents check</h5>
<p>If operational intents exist in the 4D area(s) that should be clear, then the current state of the test environment is not suitable to conduct tests so this check will fail.</p>
<p>This step examines whether any operational intents remain.  If any foreign (other than uss_qualifier-owned) operational intents remain, then this step's checks will fail.  If any uss_qualifier-owned operational intents remain, the checks for this step do not fail but instead we proceed to the next test case.  If the area is clear, we skip the next test case.</p>
<p>✅  (2024-11-18T16:33:27.693028Z)</p>
<p>✅  (2024-11-18T16:33:27.696565Z)</p>
<p>✅  (2024-11-18T16:33:27.700213Z)</p>
<h2>[3] ASTM SCD DSS: Implicit Subscription handling</h2>
<h3>Overview</h3>
<p>Checks that implicit subscriptions are properly created, mutated and cleaned up.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>utm_client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> provides the identity that will be used to interact with the DSS.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.708416Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.710607Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.712772Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.705357Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.716587Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.719318Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no OIRs with the known test IDs exists in the DSS.</p>
<h3>Single OIR implicit subscription is removed upon OIR deletion test case</h3>
<h4>Create an OIR with implicit subscription test step</h4>
<p>This step creates an OIR with an implicit subscription and confirms that the subscription can be queried</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.742090Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.753545Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.754875Z)</p>
<h4>Delete the OIR with implicit subscription test step</h4>
<h5>Delete OIR</h5>
<p>This test step fragment validates that operational intent references can be deleted</p>
<h6>🛑 Delete operational intent reference query succeeds check</h6>
<p>A query to delete an operational intent reference, by its owner and when the correct OVN is provided, should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.769561Z)</p>
<h6>🛑 Delete operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>🛑 Delete operational intent reference response content is correct check</h6>
<p>A successful operational intent reference deletion query is expected to return a body, the content of which reflects the operational intent reference at the moment of deletion.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<h5>🛑 The implicit subscription was removed check</h5>
<p>Upon deletion of an OIR that is associated to an implicit subscription, if the subscription has no other
associated OIRs, the DSS is expected to remove it.</p>
<p>If a query attempting to fetch the implicit subscription succeeds, it implies that the implicit subscription has not
been removed, and the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.771889Z)</p>
<h5>🛑 After removal of the only created OIR, subscriptions should be as before its creation check</h5>
<p>If, after the DSS is left in the same state as it was 'found' for an area, the subscriptions currently active do not correspond to the ones
that were present when the test case started, the DSS may be failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.771941Z)</p>
<h3>Implicit subscriptions always properly cover their OIR test case</h3>
<p>This test case verifies that implicit subscriptions belonging to OIRs that are created, updated and deleted
are properly managed.</p>
<p>In particular, the scenario verifies that:</p>
<ul>
<li>implicit subscriptions attached to an OIR always correctly cover the OIR after it was created or mutated;</li>
<li>implicit subscriptions are properly removed when they are no longer necessary.</li>
</ul>
<h4>Create an OIR with implicit subscription test step</h4>
<p>Create an OIR with which interactions will be tested and request an implicit
subscription to be created.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.787639Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.796542Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.797838Z)</p>
<h4>Create an overlapping OIR without any subscription test step</h4>
<p>This step creates an OIR in the <code>ACCEPTED</code> state that overlaps with the previously created OIR:
it does not request the creation of an implicit subscription and does not attach the OIR to any subscription explicitly.</p>
<p>This step expects that the implicit subscription from the previously created OIR is mentioned in the response's notifications,
and that no new implicit subscription is created.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.811948Z)</p>
<h5>🛑 New OIR creation response contains previous implicit subscription to notify check</h5>
<p>If the newly created OIR does not mention the implicit subscription from the previous OIR in its notifications,
the DSS is either improperly managing implicit subscriptions, or failing to report the subscriptions relevant to an OIR,
and therefore in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> respectively.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.814702Z)</p>
<h5>🛑 No implicit subscription was attached check</h5>
<p>If the DSS attached an implicit subscription, by either creating or re-using an existing one, to the OIR that was created in this step,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.814651Z)</p>
<h4>Mutate OIR with implicit subscription to not overlap anymore test step</h4>
<p>This step mutates the first OIR, which has an implicit subscription, to no longer overlap with the second OIR.</p>
<p>The mutation request does not specify an existing subscription, and provides the parameters required for the creation of an implicit subscription.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that operational intent references can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.833647Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that updates to operational intent references return a body in the correct format.</p>
<h6>🛑 Mutate operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format</p>
<h6>🛑 Mutate operational intent reference response content is correct check</h6>
<p>A successful operational intent reference mutation query is expected to return a well-defined body, the content of which reflects the updated operational intent reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<h5>🛑 The implicit subscription can be queried check</h5>
<p>The implicit subscription attached to the mutated OIR should be able to be queried.</p>
<p>If it cannot, the DSS is either improperly managing implicit subscriptions for OIRs, or failing to report the subscriptions relevant to an OIR,
in which case the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, respectively.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.842062Z)</p>
<h5>Correct temporal bounds</h5>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.843314Z)</p>
<h5>🛑 Non-mutated implicit subscription is deleted check</h5>
<p>If the DSS chose to create a new implicit subscription instead of updating the existing one, and the DSS did not remove the previous subscription,
the DSS is in violation of either <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.846213Z)</p>
<h4>Create an OIR overlapping with the second OIR but not the first test step</h4>
<p>This step creates a new OIR that only overlaps the OIR that has no implicit subscription,
and expects to not have to notify any subscription related to the OIRs created in this scenario.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.859400Z)</p>
<h5>🛑 Within a temporal frame not overlapping a newly created implicit subscription, subscriptions should be the same as at the start of the test case check</h5>
<p>Within a geotemporal area that does not intersect with any of the implicit subscriptions that are left within the DSS,
the subscriptions returned for an OIR created within said area should correspond to the ones
that were present when the test case started.</p>
<p>Otherwise, the DSS may be failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.861898Z)</p>
<h5>🛑 No implicit subscription was attached check</h5>
<p>If the DSS attached an implicit subscription, by either creating or re-using an existing one, to the OIR that was created in this step,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.861851Z)</p>
<h3>Implicit subscriptions are properly deleted when required by OIR mutation test case</h3>
<p>This test case verifies that implicit subscriptions are properly removed if they become unnecessary following the mutation of an OIR.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.922710Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.924818Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.927678Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.920164Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.894247Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.907726Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.920107Z)</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.930441Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.932497Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Reset the workspace for this test case.</p>
<h4>Create two OIRs with implicit subscription test step</h4>
<p>Creates two OIRs with an implicit subscription, which will then be replaced by an explicitly created subscription
and deleted by an update that requests no subscription, respectively.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.946545Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.972938Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.955339Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.983086Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.956581Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.984321Z)</p>
<h4>Create a subscription test step</h4>
<p>This test step creates a subscription that will be used to replace the implicit subscription that was created for an OIR.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check creation succeeds and response is correct.</p>
<p>✅ uss1_dss (2024-11-18T16:33:27.995467Z)</p>
<h4>Update OIR with implicit subscription to use explicit subscription test step</h4>
<p>This step updates the OIR to use the subscription that was created in the previous step,
and expects the previous implicit subscription to be removed.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.017931Z)</p>
<h5>🛑 Previously attached implicit subscription was deleted check</h5>
<p>If the implicit subscription that was attached to the OIR is still present after the OIR is updated to use another subscription,
the DSS is failing to properly manage implicit subscriptions for OIRs, and is therefore in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.024945Z)</p>
<h4>Update OIR with implicit subscription to use no subscription test step</h4>
<p>This step updates the OIR to not use any subscription, and expects the implicit subscription to be removed.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.041782Z)</p>
<h5>🛑 Previously attached implicit subscription was deleted check</h5>
<p>If the implicit subscription that was attached to the OIR is still present after the OIR is updated to use another subscription,
the DSS is failing to properly manage implicit subscriptions for OIRs, and is therefore in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.050387Z)</p>
<h3>Implicit subscriptions are expanded as needed test case</h3>
<p>This test case checks that a DSS will properly expand an implicit subscription to cover an OIR that is being attached to it.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.079965Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.084033Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.086896Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.077397Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.067517Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.077356Z)</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.090520Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.095394Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.116953Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.113941Z)</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Reset the workspace for this test case.</p>
<h4>Create an OIR with implicit subscription test step</h4>
<p>Create an OIR with which interactions will be tested and request an implicit
subscription to be created.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.133636Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.142726Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.144077Z)</p>
<h4>Expand the OIR while keeping the same implicit subscription test step</h4>
<p>Expand the previously created OIR's duration while explicitly specifying the implicit subscription that
was automatically created for it.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.162260Z)</p>
<h5>🛑 The implicit subscription can be queried check</h5>
<p>The implicit subscription attached to the mutated OIR should be able to be queried.</p>
<p>If it cannot, the DSS is either improperly managing implicit subscriptions for OIRs, or failing to report the subscriptions relevant to an OIR,
in which case the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, respectively.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.170229Z)</p>
<h5>Correct temporal bounds</h5>
<p>This test step fragment validates the time-bounds of an implicit subscription
with respect to the OIRs it needs to cover.</p>
<h6>🛑 Implicit subscription has wide enough temporal parameters check</h6>
<p>If the implicit subscription's time boundaries do not cover every OIR attached to it, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Ensure that the attached implicit subscription has been expanded</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.171553Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.195468Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.198307Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.200511Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.189057Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.189012Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.203452Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.205628Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[4] ASTM SCD DSS: Operational Intent Reference Simple</h2>
<h3>Overview</h3>
<p>Verifies the behavior of a DSS for simple interactions pertaining to operational intent references.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the base entity ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> the client identity that will be used to create and update operational intent references.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which operational intent references will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.213750Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.211420Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.217302Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no entities with the known test IDs exists in the DSS.</p>
<h4>Create an operational intent reference test step</h4>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h5>🛑 Create operational intent reference query succeeds check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Create an operational intent reference to be used in this scenario.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.232519Z)</p>
<h3>Deletion requires correct OVN test case</h3>
<p>Ensures that a DSS will only delete OIRs when the correct OVN is presented.</p>
<h4>Attempt deletion with missing OVN test step</h4>
<p>This step verifies that an existing OIR cannot be deleted with a missing OVN.</p>
<h5>🛑 Request to delete OIR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing OIR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.234107Z)</p>
<h4>Attempt deletion with incorrect OVN test step</h4>
<p>This step verifies that an existing OIR cannot be deleted with an incorrect OVN.</p>
<h5>🛑 Request to delete OIR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing OIR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.240336Z)</p>
<h3>Mutation requires correct OVN test case</h3>
<p>Test DSS behavior when mutation requests are not providing the required OVN.</p>
<h4>Attempt mutation with missing OVN test step</h4>
<p>This step verifies that an existing OIR cannot be mutated with a missing OVN.</p>
<h5>🛑 Request to mutate OIR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing OIR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.247367Z)</p>
<h4>Attempt mutation with incorrect OVN test step</h4>
<p>This step verifies that an existing OIR cannot be mutated with an incorrect OVN.</p>
<h5>🛑 Request to mutate OIR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing OIR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.252522Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.276751Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.269196Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.269154Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.280737Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[5] ASTM SCD DSS: Constraint Reference Simple</h2>
<h3>Overview</h3>
<p>Verifies the behavior of a DSS for simple interactions pertaining to constraint references.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the base entity ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> the client identity that will be used to create and update constraint references.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which constraint references will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.295887Z)</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.292750Z)</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no entities with the known test IDs exists in the DSS.</p>
<h4>Create a constraint reference test step</h4>
<p>This test step fragment validates that a query to create a constraint reference with valid parameters succeeds</p>
<h5>🛑 Create constraint reference query succeeds check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>, the DSS API must allow callers to create a constraint reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>This step creates the constraint reference to be used in this scenario.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.306166Z)</p>
<h3>Deletion requires correct OVN test case</h3>
<p>Ensures that an existing CR can only be deleted when the correct OVN is provided.</p>
<h4>Attempt deletion with missing OVN test step</h4>
<p>This step verifies that an existing CR cannot be deleted with a missing OVN.</p>
<h5>🛑 Request to delete CR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing CR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.307787Z)</p>
<h4>Attempt deletion with incorrect OVN test step</h4>
<p>This step verifies that an existing CR cannot be deleted with an incorrect OVN.</p>
<h5>🛑 Request to delete CR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing CR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.310228Z)</p>
<h3>Mutation requires correct OVN test case</h3>
<p>Ensures that an existing CR can only be mutated when the correct OVN is provided.</p>
<h4>Attempt mutation with missing OVN test step</h4>
<p>This step verifies that an existing CR cannot be mutated with a missing OVN.</p>
<h5>🛑 Request to mutate CR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing CR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.313743Z)</p>
<h4>Attempt mutation with incorrect OVN test step</h4>
<p>This step verifies that an existing CR cannot be mutated with an incorrect OVN.</p>
<h5>🛑 Request to mutate CR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing CR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:28.317376Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.332002Z)</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.321572Z)</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.329504Z)</p>
<h2>[6] ASTM SCD DSS: Constraint Reference Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all CRUD operations on constraint references performed on a given DSS instance
are properly propagated to every other DSS instance participating in the deployment.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the constraint reference ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which constraint reference will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> to be used for this scenario.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.344329Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.340663Z)</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.338296Z)</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no constraint reference with the known test ID exists in the DSS.</p>
<h3>CR synchronization test case</h3>
<p>This test case creates an constraint reference on the main DSS, and verifies that it is properly synchronized to the other DSS instances.</p>
<p>It then goes on to mutate and delete it, each time confirming that all other DSSes return the expected results.</p>
<h4>Create CR validation test step</h4>
<h5>Create CR</h5>
<p>This test step fragment validates that:</p>
<ul>
<li>a query to create a constraint reference with valid parameters succeeds</li>
<li>the response to the query conforms to the OpenAPI specification</li>
<li>the content of the response reflects the created constraint reference</li>
</ul>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create a constraint reference with valid parameters succeeds</p>
<h6>🛑 Create constraint reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>, the DSS API must allow callers to create a constraint reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.352432Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that a constraint references creation returns a body in the correct format.</p>
<h6>🛑 Create constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.663450Z)</p>
<h6>🛑 Create constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects the created constraint reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Verify that an constraint reference can be created on the primary DSS.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664656Z)</p>
<h5>CR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664304Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664354Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664393Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664430Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664466Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664499Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664569Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664531Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664603Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.664635Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Verify that the constraint reference returned by the DSS under test is properly formatted and contains the expected content.</p>
<h4>Retrieve newly created CR test step</h4>
<p>Retrieve and validate synchronization of the created constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get CR query</h5>
<p>This test step fragment validates that constraint references can be read</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to retrieve an existing constraint reference with valid parameters succeeds.</p>
<h6>🛑 Get constraint reference by ID check</h6>
<p>If an existing constraint reference cannot successfully be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.669288Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.688077Z)</p>
<h6>Read response format</h6>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.680626Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.699587Z)</p>
<h6>🛑 Get constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects a constraint reference that was created earlier.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.682130Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.700761Z)</p>
<h5>Newly created CR can be consistently retrieved from all DSS instances check</h5>
<p>If the constraint retrieved from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1f</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.670248Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.689030Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.669353Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.688141Z)</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.669416Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.688205Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.669460Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.688248Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.670182Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.688960Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the created constraint reference.
Confirm that the constraint reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.670227Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.689008Z)</p>
<h5>CR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681480Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700300Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681549Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700352Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681609Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700393Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681656Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700432Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681715Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700473Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681770Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700511Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681883Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700588Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681822Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700548Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681940Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700627Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.681985Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700664Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Sanity check on the rest of the content and format of the response.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.682101Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700740Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Confirm that version and OIR are as expected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.682038Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.700702Z)</p>
<h4>Search for newly created CR test step</h4>
<p>Search for and validate synchronization of the created constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search CR</h5>
<p>This test step fragment validates that constraint references can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for constraint references with valid parameters succeeds.</p>
<h6>🛑 Successful constraint reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the CR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.705170Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.722201Z)</p>
<h6>Response format</h6>
<p>This test step fragment validates that constraint references search responses are properly formatted.</p>
<h6>🛑 Search constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check response format.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.716907Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.734925Z)</p>
<h6>🛑 Expected constraint reference is in search results check</h6>
<p>If the existing constraint reference is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717647Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.735951Z)</p>
<h6>🛑 Search constraint reference response content is correct check</h6>
<p>A successful constraint reference search query is expected to return a body, the content of which reflects any constraint reference present in the searched area.
This includes the previously created constraint reference, which should accurately represent the constraint reference as it was requested. If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that search query succeeds and the response is well-formed.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.718151Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.736448Z)</p>
<h5>Newly created CR can be consistently searched for from all DSS instances check</h5>
<p>If the constraint searched from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1e</a></strong>,
, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.706339Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.723146Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.705253Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.722270Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.705340Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.722336Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.705389Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.722380Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.706269Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.723078Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the constraint in relevant search results.
Confirm that the constraint reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.706317Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.723125Z)</p>
<h5>CR content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717702Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736008Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717745Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736050Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717784Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736089Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717823Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736128Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717861Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736168Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717899Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736207Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717977Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736282Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.717937Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736243Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.718017Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736320Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.718055Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736355Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.718130Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736428Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.718092Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.736392Z)</p>
<h4>Mutate CR test step</h4>
<p>This test step mutates the previously created constraint reference to verify that the DSS reacts properly: notably, it checks that the constraint reference version is updated,
including for changes that are not directly visible, such as changing the constraint reference's footprint.</p>
<h5>Update CR</h5>
<p>This test step fragment validates that constraint references can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update a constraint reference with valid parameters succeeds.</p>
<h6>🛑 Mutate constraint reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>, the DSS API must allow callers to mutate a constraint reference.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.746791Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that updates to constraint references return a body in the correct format.</p>
<h6>🛑 Mutate constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.759371Z)</p>
<h6>🛑 Mutate constraint reference response content is correct check</h6>
<p>A successful constraint reference mutation query is expected to return a well-defined body, the content of which reflects the updated constraint reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Confirm that the constraint reference can be mutated.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760540Z)</p>
<h5>Validate CR</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760124Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760172Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760210Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760246Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760281Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760315Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760384Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760347Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760419Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760451Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Verify that the constraint reference returned by the DSS is properly formatted and contains the correct content.</p>
<h5>CR Versions are correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been mutated.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Mutated constraint reference version is updated check</h6>
<p>Following a mutation, the DSS needs to update the constraint reference version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760519Z)</p>
<h6>⚠️ Mutated constraint reference OVN is updated check</h6>
<p>Following a mutation, the DSS needs to update the constraint reference OVN, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Verify that the constraint reference's version fields have been updated.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.760485Z)</p>
<h4>Retrieve updated CR test step</h4>
<p>Retrieve and validate synchronization of the updated constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get CR query</h5>
<p>This test step fragment validates that constraint references can be read</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to retrieve an existing constraint reference with valid parameters succeeds.</p>
<h6>🛑 Get constraint reference by ID check</h6>
<p>If an existing constraint reference cannot successfully be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.764313Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.780970Z)</p>
<h6>Read response format</h6>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.775611Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.792490Z)</p>
<h6>🛑 Get constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects a constraint reference that was created earlier.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that read query succeeds and the response is well-formed.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.777203Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.793810Z)</p>
<h5>Updated CR can be consistently retrieved from all DSS instances check</h5>
<p>If the constraint retrieved from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1d</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.765290Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.782146Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.764379Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.781035Z)</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.764442Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.781146Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.764486Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.781214Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.765221Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.782078Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the updated constraint reference.
Confirm that the constraint reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.765269Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.782124Z)</p>
<h5>CR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776432Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793196Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776512Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793249Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776592Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793296Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776675Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793361Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776755Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793423Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776832Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793470Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776970Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793584Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.776907Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793527Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.777014Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793632Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.777053Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793687Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.777160Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793785Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.777090Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.793730Z)</p>
<h4>Search for updated CR test step</h4>
<p>Search for and validate synchronization of the updated constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search CR</h5>
<p>This test step fragment validates that constraint references can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for constraint references with valid parameters succeeds.</p>
<h6>🛑 Successful constraint reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the CR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.798258Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.815422Z)</p>
<h6>Response format</h6>
<p>This test step fragment validates that constraint references search responses are properly formatted.</p>
<h6>🛑 Search constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check response format.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.809728Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.826949Z)</p>
<h6>🛑 Expected constraint reference is in search results check</h6>
<p>If the existing constraint reference is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810530Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.827711Z)</p>
<h6>🛑 Search constraint reference response content is correct check</h6>
<p>A successful constraint reference search query is expected to return a body, the content of which reflects any constraint reference present in the searched area.
This includes the previously created constraint reference, which should accurately represent the constraint reference as it was requested. If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that search query succeeds and the response is well-formed.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.811049Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.828398Z)</p>
<h5>Updated CR can be consistently searched for from all DSS instances check</h5>
<p>If the constraint searched from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1e</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.799205Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.816394Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.798327Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.815491Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.798392Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.815556Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.798436Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.815600Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.799136Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.816325Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the constraint in relevant search results.
Confirm that the constraint reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.799184Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.816373Z)</p>
<h5>CR content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810586Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.827785Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810630Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.827836Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810671Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.827895Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810711Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.827953Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810752Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828000Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810791Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828056Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810870Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828159Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810829Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828105Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810912Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828217Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810951Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828261Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.811028Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828362Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.810990Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.828316Z)</p>
<h4>Delete CR test step</h4>
<p>Attempt to delete the constraint reference in various ways and ensure that the DSS reacts properly.</p>
<p>This also checks that the constraint reference data returned by a successful deletion is correct.</p>
<h5>Delete CR</h5>
<p>This test step fragment validates that constraint references can be deleted</p>
<h6>🛑 Delete constraint reference query succeeds check</h6>
<p>A query to delete a constraint reference, by its owner and when the correct OVN is provided, should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.836547Z)</p>
<h6>Response format</h6>
<p>This test step fragment validates that a constraint references deletion returns a body in the correct format.</p>
<h6>🛑 Delete constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.847278Z)</p>
<h6>🛑 Delete constraint reference response content is correct check</h6>
<p>A successful constraint reference deletion query is expected to return a body, the content of which reflects the constraint reference at the moment of deletion.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Confirm that an constraint reference can be deleted.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848432Z)</p>
<h5>Validate CR</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848012Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848059Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848098Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848134Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848170Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848204Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848274Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848237Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848310Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848344Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Verify that the constraint reference returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<h5>CR Versions are correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848412Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Verify that the constraint reference's version fields are as expected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.848378Z)</p>
<h4>Query deleted CR test step</h4>
<p>Attempt to query and search for the deleted constraint reference in various ways</p>
<h5>Get CR query</h5>
<p>This test step fragment validates that constraint references can be read</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to retrieve an existing constraint reference with valid parameters succeeds.</p>
<h6>🛑 Get constraint reference by ID check</h6>
<p>If an existing constraint reference cannot successfully be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.851438Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.856627Z)</p>
<h6>Read response format</h6>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<h6>🛑 Get constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects a constraint reference that was created earlier.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that read query succeeds.</p>
<h5>🛑 Deleted CR cannot be retrieved from all DSS instances check</h5>
<p>If a DSS returns an constraint reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the constraint reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3b</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:28.851487Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.856674Z)</p>
<h5>Search CR</h5>
<p>This test step fragment validates that a query to search for constraint references with valid parameters succeeds.</p>
<h6>🛑 Successful constraint reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the CR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.854489Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.859351Z)</p>
<h5>🛑 Deleted CR cannot be searched for from all DSS instances check</h5>
<p>If a DSS returns an constraint reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the constraint reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3a</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:28.854537Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:28.859397Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.868112Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.864868Z)</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.862775Z)</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[7] ASTM SCD DSS: USS Availability Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all CRUD operations for USS availabilities on a given DSS instance
are properly propagated to every other DSS instance participating in the deployment.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which USS availabilities are created, modified and deleted.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that USS availabilities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> to be used for this scenario: it contains the identifier of the USS
for which availabilities will be updated.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<p>For the setup of this test case, the scenario ensures that the availability for the USS specified in the <code>client_identity</code> resource
is <code>Unknown</code>, which is the default expected state when nothing else is known.</p>
<h4>Ensure test USS has Unknown availability test step</h4>
<p>This step ensures that the scenario starts from a state where the USS availability is <code>Unknown</code>.</p>
<h5>🛑 USS Availability can be requested check</h5>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.873646Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.877160Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.881437Z)</p>
<h5>🛑 USS Availability can be set to Unknown check</h5>
<p>A valid request to set the availability of a USS to <code>Unknown</code> should be accepted by the DSS,
otherwise it is failing to implement the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h3>USS Availability synchronization test case</h3>
<p>Checks that updates to a USS availability on one DSS instance are properly propagated to every other DSS instance in the deployment.</p>
<p>Ensures that this is true for every possible availability state.</p>
<h4>Update USS availability on primary DSS to Normal test step</h4>
<h5>Availability can be updated</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h4>Check Normal USS availability broadcast test step</h4>
<h5>Availability can be read</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.895663Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.898044Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h4>Update USS Availability on primary DSS to Down test step</h4>
<h5>Availability can be updated</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h4>Check Down USS availability broadcast test step</h4>
<h5>Availability can be read</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.905049Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.907549Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h4>Update USS availability on primary DSS to Unknown test step</h4>
<h5>Availability can be updated</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h4>Check Unknown USS availability broadcast test step</h4>
<h5>Availability can be read</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.914063Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.916448Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h3>Unknown USS state is reported as Unknown test case</h3>
<p>Checks that if queried for a USS it does not know about, any DSS will return an <code>Unknown</code> availability.</p>
<h4>Query all DSS instances with an unknown USS identifier test step</h4>
<p>This test step requests the availability for a USS identifier that is not known to any DSS instance, and expects
to receive an <code>Unknown</code> availability along with an unset version. This should be true for every DSS that is part of the same deployment.</p>
<h5>Request availability</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.921547Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:28.923930Z)</p>
<h5>🛑 Main DSS instance reports Unknown availability check</h5>
<p>If the primary DSS instance does not return an <code>Unknown</code> availability for a USS identifier that has not received any updates,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.919129Z)</p>
<h5>⚠️ Availability version for an unknown USS should be empty check</h5>
<p>If the primary DSS instance reports a non-empty version for the availability of an USS identifier that should not be known to the DSS,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.919177Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h3>Cleanup</h3>
<h5>⚠️ USS Availability can be requested check</h5>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.926443Z)</p>
<h5>⚠️ USS Availability can be set to Unknown check</h5>
<p>A valid request to set the availability of a USS to <code>Unknown</code> should be accepted by the DSS,
otherwise it is failing to implement the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h2>[8] ASTM F3548-21 UTM DSS Operational Intent Reference State Transitions</h2>
<h3>Overview</h3>
<p>This scenario ensures that a DSS will only let the owner of an operational intent reference modify it.</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>A <code>resources.flight_planning.FlightIntentsResource</code> containing the flight intents to be used in this scenario:</p>
<p>This scenario expects to find at least one flight intent in this resource. It will use its extents to create and mutate an operational intent reference,
but ignore any specified states, as this scenario will iterate over all allowed states.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>dss</h4>
<p>A <code>resources.astm.f3548.v21.DSSInstanceResource</code> pointing to the DSS instance to test for this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p>A <code>resources.interuss.IDGeneratorResource</code> that will be used to generate the IDs of the operational intent references created in this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h3>Setup test case</h3>
<p>Makes sure that the DSS is in a clean and expected state before running the test, and that the passed resources work as required.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.933992Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.940789Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.944602Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>No OIR exists</h5>
<h6>⚠️ Any existing operational intent reference has been removed check</h6>
<p>If, after cleanup, one or more operational intent reference are still present at the DSS, this scenario cannot proceed.</p>
<p>This scenario is able to remove any operational intent reference that belongs to the configured credentials, but it cannot remove references
that belong to other credentials.</p>
<p>A regular failure of this check indicates that other scenarios might not properly clean up their resources, or that the <em>Prepare Flight Planners</em>
scenario should be moved in front of the present one.</p>
<p>If this check fails, the rest of the scenario is entirely skipped.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.944652Z)</p>
<h3>Attempt unauthorized state creation test case</h3>
<p>This test case attempts to create an operational intent reference with a state that would require the <code>utm.conformance_monitoring_sa</code> scope while only using
the <code>utm.strategic_coordination</code> scope.</p>
<h4>Attempt direct creation with unauthorized state test step</h4>
<p>This test step attempts to directly create an operational intent reference with a state that is not allowable.</p>
<p>The creation of such an entity is expected to fail for two reasons:</p>
<ul>
<li>the initial state of any OIR must be <code>Accepted</code></li>
<li>Without the <code>utm.conformance_monitoring_sa</code>, a client is not allowed to request an Off-nominal state.</li>
</ul>
<h5>🛑 Direct Nonconforming state creation is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to create an operational intent reference in the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:28.949795Z)</p>
<h5>🛑 Direct Contingent state creation is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to create an operational intent reference in the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:28.952003Z)</p>
<h3>Attempt unauthorized state transitions test case</h3>
<p>This test case attempts to transition an existing operational intent reference to a state that would require the <code>utm.conformance_monitoring_sa</code> scope while only using
the <code>utm.strategic_coordination</code> scope.</p>
<h4>Create an Accepted OIR test step</h4>
<p>This step sets up an operational intent reference in the <code>Accepted</code> state.</p>
<h5>🛑 Creation of an Accepted OIR is allowed check</h5>
<p>If the DSS does not allow a client with the <code>utm.strategic_coordination</code> scope to create an operational intent reference in the <code>Accepted</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.967231Z)</p>
<h4>Attempt transition of an accepted operational intent reference to an unauthorized state test step</h4>
<p>This test step attempts to transition an existing operational intent reference to a state it should not be allowed to when using the ``utm.strategic_coordination` scope.</p>
<h5>🛑 Transition from Accepted to Nonconforming is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Accepted</code> state to the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:28.969220Z)</p>
<h5>🛑 Transition from Accepted to Contingent is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Accepted</code> state to the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:28.970749Z)</p>
<h4>Transition the OIR to Activated test step</h4>
<p>This step transitions the operational intent reference to the <code>Activated</code> state.</p>
<h5>🛑 Transition from Accepted to Activated is allowed check</h5>
<p>If the DSS does not allow a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Accepted</code> state to the <code>Activated</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:28.986593Z)</p>
<h4>Attempt transition of an activated operational intent reference to an unauthorized state test step</h4>
<h5>🛑 Transition from Activated to Nonconforming is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Activated</code> state to the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:28.988406Z)</p>
<h5>🛑 Transition from Activated to Contingent is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Activated</code> state to the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:28.990144Z)</p>
<h4>Transition the OIR to Ended test step</h4>
<h5>🛑 Transition from Activated to Ended is allowed check</h5>
<p>If the DSS does not allow a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Activated</code> state to the <code>Ended</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.008150Z)</p>
<h4>Attempt transition of an ended operational intent reference to an unauthorized state test step</h4>
<h5>🛑 Transition from Ended to Nonconforming is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Ended</code> state to the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:29.010004Z)</p>
<h5>🛑 Transition from Ended to Contingent is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Ended</code> state to the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:29.011559Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.015686Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.026261Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[9] ASTM SCD DSS: Subscription and entity deletion interaction</h2>
<h3>Overview</h3>
<p>Create and mutate subscriptions as well as entities, and verify that the DSS handles notifications and expiry correctly.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>utm_client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> provides the identity that will be used to interact with the DSS.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.034498Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.036618Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.038718Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.031973Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.041397Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.043624Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.045741Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.047783Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions and OIRs with the known test IDs exists in the DSS deployment.</p>
<h3>Subscription deletion is reflected on all DSS instances test case</h3>
<p>This test case verifies that after a subscription is deleted from a DSS instance, it cannot be retrieved from any other
DSS instance.</p>
<h4>Create a subscription at every DSS in sequence test step</h4>
<p>This test step will create a new subscription at every DSS, in sequence.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create subscription on a DSS instance</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the subscription creation succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.056112Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.065109Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.075074Z)</p>
<h4>Delete a subscription at every DSS in sequence test step</h4>
<p>This test step will delete the freshly created subscription at every DSS, in sequence.
It then verifies that the subscription has been deleted from all DSS instances.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Delete subscription on a DSS instance</h5>
<p>This test step fragment validates that a query to remove a subscription succeeds.</p>
<h6>🛑 Subscription can be deleted check</h6>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that the subscription deletion succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.082376Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.095166Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.105612Z)</p>
<h5>Get subscription query from all other DSS instances succeeds</h5>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that the subscription retrieval from all DSS instance succeeds.
It is expected to be not found, but that is validated in the check below.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.085570Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.088706Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.097469Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.099509Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.107738Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.109854Z)</p>
<h5>🛑 Subscription does not exist on all other DSS instances check</h5>
<p>The subscription deleted on a DSS instance must have been removed from all other DSS instances.</p>
<p>If the subscription still exists on one of the other DSS instances, one of the instances fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,5a</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:29.085624Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:29.088763Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:29.097515Z)</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:29.099552Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:29.107781Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:29.109898Z)</p>
<h3>OIR creation and modification does not trigger relevant notifications after subscription deletion test case</h3>
<p>This test case verifies that after a subscription is deleted, newly created or modified OIRs will not receive the
relevant subscriptions to notify from the DSS instance, regardless of which instance was used to create or modify the
entity.</p>
<h4>Create an OIR at every DSS in sequence test step</h4>
<p>This test step will create an operational intent reference at every DSS, in sequence, each time verifying that the DSS
does not require notification for any previously deleted subscription that intersects with the newly created OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the OIR creation query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.126471Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.144110Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.163623Z)</p>
<h5>🛑 DSS response does not contain the deleted subscriptions check</h5>
<p>The response from a DSS to a valid OIR creation request is expected to contain any relevant subscription for the OIR's
extents. This does not include subscriptions deleted earlier.</p>
<p>If the DSS includes a deleted subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,5b</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.126532Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.144176Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.163685Z)</p>
<h4>Modify an OIR at every DSS in sequence test step</h4>
<p>This test step will modify an operational intent reference at every DSS, in sequence, each time verifying that the DSS
does not require notification for any previously deleted subscription that intersects with the modified OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Modify OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check that the OIR modification query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.183004Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.202781Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.221988Z)</p>
<h5>🛑 DSS response does not contain the deleted subscriptions check</h5>
<p>The response from a DSS to a valid OIR modification request is expected to contain any relevant subscription for the
OIR's extents. This does not include subscriptions deleted earlier.</p>
<p>If the DSS includes a deleted subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,5c</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.183071Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.202848Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.222057Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.275752Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.277865Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.280444Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.273474Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.244547Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.260227Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.273435Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.283290Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.285499Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.287626Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.289709Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[10] ASTM SCD DSS: Subscription and entity interaction</h2>
<h3>Overview</h3>
<p>Create and mutate subscriptions as well as entities, and verify that the DSS handles notifications and expiry correctly.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>utm_client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> provides the identity that will be used to interact with the DSS.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.297168Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.299341Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.301556Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.294824Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.304357Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.306561Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.308659Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.310709Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.312794Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions and OIRs with the known test IDs exists in the DSS deployment.</p>
<h3>OIR creation and modification trigger relevant notifications test case</h3>
<p>This test case verifies that newly created or modified OIRs will receive the relevant subscriptions to notify from the DSS instance,
regardless of which instance was used to create the entity.</p>
<h4>Create background subscription test step</h4>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h5>🛑 Create subscription query succeeds check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Sets up the subscription that cover the planning area from 'now' to 20 minutes in the future, and which will be used as part of the interaction tests.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.321385Z)</p>
<h4>Create an OIR at every DSS in sequence test step</h4>
<p>This test step will create an operational intent reference and assorted subscription at every DSS, in sequence, each time verifying that the DSS
requires notifications for any previously established subscription that intersects with the newly created OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the OIR creation query succeeds</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.340516Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.360713Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.381423Z)</p>
<h5>🛑 DSS response contains the expected background subscription check</h5>
<p>The response from a DSS to a valid OIR creation request is expected to contain any relevant subscription for the OIR's extents.
This includes the subscription created earlier, as it is designed to intersect with the OIRs being created.</p>
<p>If the DSS omits the intersecting subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4b</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.340587Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.360787Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.381492Z)</p>
<h5>🛑 DSS returns the implicit subscriptions from intersecting OIRs check</h5>
<p>The response from a DSS to a valid OIR creation request is expected to contain any relevant subscription for the OIR's extents.
This includes any implicit subscription previously created on the DSS as part of a previously created OIR.</p>
<p>If the DSS omits any of the implicit subscriptions belonging to an OIR previously created on another DSS (which are designed to all intersect),
any of the DSSes at which an earlier OIR was created, or the DSS at which the current OIR has been created,
are in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4b</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss, uss2_dss (2024-11-18T16:33:29.340625Z)</p>
<p>✅ uss1_dss, uss1_dss, uss2_dss (2024-11-18T16:33:29.360828Z)</p>
<p>✅ uss1_dss, uss1_dss, uss2_dss (2024-11-18T16:33:29.381533Z)</p>
<h4>Modify an OIR at every DSS in sequence test step</h4>
<p>This test step will modify the previously created operational intent reference and assorted subscription at every DSS, in sequence, each time verifying that the DSS
requires notifications for any previously established subscription that intersects with the modified OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Modify OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check that the OIR modification query succeeds</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.401165Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.420564Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.440077Z)</p>
<h5>🛑 DSS response contains the expected background subscription check</h5>
<p>The response from a DSS to a valid OIR modification request is expected to contain any relevant subscription for the OIR's extents.
This includes the subscription created earlier, as it is designed to intersect with the OIRs being modified.</p>
<p>If the DSS omits the intersecting subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4c</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.401258Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.420633Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.440146Z)</p>
<h5>🛑 DSS returns the implicit subscriptions from intersecting OIRs check</h5>
<p>The response from a DSS to a valid OIR modification request is expected to contain any relevant subscription for the OIR's extents.
This includes any implicit subscription previously created on the DSS as part of a previously created OIR.</p>
<p>If the DSS omits any of the implicit subscriptions belonging to an OIR previously created over time range A on another DSS (which are designed to all intersect),
any of the DSSes at which an earlier OIR was created, or the DSS at which the current OIR has been modified,
are in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4c</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss, uss2_dss (2024-11-18T16:33:29.401308Z)</p>
<p>✅ uss1_dss, uss1_dss, uss2_dss (2024-11-18T16:33:29.420677Z)</p>
<p>✅ uss1_dss, uss1_dss, uss2_dss (2024-11-18T16:33:29.440190Z)</p>
<h3>Subscription creation returns relevant OIRs test case</h3>
<p>This test case checks that, when a newly created subscription intersects with an existing OIR and that the subscription is intended for operational intent references,
the DSS includes the relevant OIRs in the response to the creation.</p>
<h4>Create a subscription at every DSS in sequence test step</h4>
<p>This test step will create a new subscription at every DSS, in sequence, each time verifying that the DSS
returns any OIRs that intersect with the newly created subscription.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create subscription on a DSS instance</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the subscription creation succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.455548Z)</p>
<h5>🛑 DSS response contains the expected OIRs check</h5>
<p>The response from a DSS to a valid subscription creation request is expected to contain any relevant OIRs for the subscription's extents if the subscription had the <code>notify_for_op_intents</code> flag set to <code>true</code>.</p>
<p>If the DSS omits the intersecting OIR, it fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4a</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.455615Z)</p>
<h5>Get subscription query from all other DSS instances succeeds</h5>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.460212Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.464197Z)</p>
<h5>🛑 Subscription may be retrieved from all other DSS instances check</h5>
<p>The subscription created on a DSS instance must be retrievable from all other DSS instances.</p>
<p>If the subscription does not exist on one of the other DSS instances, one of the instances fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4a</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:29.460264Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:29.464248Z)</p>
<h3>Expiration of subscriptions removes them test case</h3>
<p>This test case validates that expired subscriptions (created explicitly) are removed from all DSS instances.
To validate this requirement, the subscriptions that were previously created at each DSS instance are modified so that they expire shortly after the modification.
Then it is checked that all the associated subscriptions were removed from all the DSS instances by searching for them in their planning area.
Do note that they are not queried directly, as it is deemed acceptable for expired subscription that were not explicitly deleted to still be retrievable.</p>
<h4>Expire explicit subscriptions at every DSS in sequence test step</h4>
<p>This test step will modify explicit subscriptions that were previously created at each DSS instance so that they expire shortly after the modification.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Modify subscription on a DSS instance so that it expires soon</h5>
<p>This test step fragment validates that a query to update a subscription succeeds.</p>
<h6>🛑 Subscription can be mutated check</h6>
<p>If a subscription cannot be updated with a valid set of parameters, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that the subscription modifications succeed and wait for them to expire.</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.510862Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:29.520101Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:29.528988Z)</p>
<h5>Search for subscriptions from all other DSS instances succeeds</h5>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.542433Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.558203Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.576168Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.595699Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:36.612114Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:36.627497Z)</p>
<h5>🛑 Subscription does not exist on all other DSS instances check</h5>
<p>The explicit subscription expired on a DSS instance must have been removed from all other DSS instances.</p>
<p>If the subscription still exists on one of the other DSS instances, one of the instances fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4d</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:36.547969Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:36.564644Z)</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:36.584276Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:36.602013Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:36.617397Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:36.632812Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.697543Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.700582Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.706704Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.694009Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.657668Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.672109Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.693950Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.711543Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.716955Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.728727Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.732306Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.743407Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.755938Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.725986Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.739619Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.751852Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.764691Z)</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[11] ASTM SCD DSS: Operational Intent Reference Key Validation</h2>
<h3>Overview</h3>
<p>Verifies that a DSS requires from a client creating or updating operational intent references that they
provide all OVNs for all currently relevant entities.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the base entity ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> the client identity that will be used to create and update operational intent references.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which operational intent references will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.773405Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.776105Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.778765Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.770848Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.783586Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no entities with the known test IDs exists in the DSS.</p>
<h3>Key validation on creation test case</h3>
<p>This test case will create multiple operational intent references and verify that the <code>key</code> field
of the parameters to create or update an operational intent reference is properly validated.</p>
<p>That is: the DSS should require that the client provides the OVNs for each entity that is in the vicinity,
both geographically and temporally, of the client's operational intent reference.</p>
<h4>Create first OIR test step</h4>
<p>This step creates one operational intent references. As no other operational intent reference is present,
the <code>key</code> field may remain empty.</p>
<h5>🛑 First operational intent reference in area creation query succeeds check</h5>
<p>With no potentially conflicting entity present, the DSS is expected to allow the creation of an operational intent without
the client specifying any OVN in the <code>key</code> field.</p>
<p>If the DSS rejects a well-formed request to create the operational intent reference, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.803727Z)</p>
<h4>Create second non-overlapping OIR test step</h4>
<p>This step creates a second operational intent references that does not overlap in time with the first, and
should therefore not require any entry in the <code>key</code> field.</p>
<h5>🛑 Second, non-overlapping operational intent reference creation succeeds check</h5>
<p>With a single existing OIR in the area that is not overlapping in time, the DSS is expected to allow the creation of an operational intent without
the client specifying any OVN in the <code>key</code> field.</p>
<p>If the DSS rejects a well-formed request to create the operational intent reference, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.822321Z)</p>
<h4>Attempt OIR creation overlapping with first OIR test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with the first of the previously created OIR,
and expect the DSS to require its OVN to be provided in the <code>key</code> field.</p>
<p>This step will validate the response body for the <code>HTTP 409</code> error response from the DSS when it contains the optional <code>missing_operational_intents</code> field.</p>
<h5>Non de-conflicted request fails</h5>
<p>This test step fragment validates that requests for operational intent reference creation that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Create operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the creation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2a</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:36.837362Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.850431Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Checks that an attempt to create an OIR without specifying the OVN of the already existing and overlapping OIR fails.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.851594Z)</p>
<h4>Attempt OIR creation overlapping with second OIR test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with the second of the previously created OIR,
and expect the DSS to require its OVN to be provided in the <code>key</code> field.</p>
<p>This step will validate the response body for the <code>HTTP 409</code> error response from the DSS when it contains the optional <code>missing_operational_intents</code> field.</p>
<h5>Non de-conflicted request fails</h5>
<p>This test step fragment validates that requests for operational intent reference creation that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Create operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the creation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2a</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:36.864577Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.879042Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Checks that an attempt to create an OIR without specifying the OVN of the already existing and overlapping OIR fails.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.880535Z)</p>
<h4>Attempt OIR creation overlapping with both OIRs test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with both of the previously created OIRs,
and expect the DSS to require their OVNs to be provided in the <code>key</code> field.</p>
<p>This step will validate the response body for the <code>HTTP 409</code> error response from the DSS when it contains the optional <code>missing_operational_intents</code> field.</p>
<h5>Non de-conflicted creation request fails</h5>
<p>This test step fragment validates that requests for operational intent reference creation that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Create operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the creation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2a</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:36.894747Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.909540Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Checks that an attempt to create an OIR without specifying the OVNs of the already existing and overlapping OIRs fails.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.911794Z)</p>
<h4>Attempt valid OIR creation overlapping with both OIRs test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with both of the previously created OIRs,
while providing the required OVNs in the <code>key</code> field.</p>
<p>After this test step succeeds, three OIRs are expected to exist in the DSS, with one intersecting with the two others.</p>
<h5>🛑 Create operational intent reference with proper OVNs succeeds check</h5>
<p>If the DSS prevents the creation of an operational intent reference that is providing all required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.930108Z)</p>
<h3>Key validation on mutation test case</h3>
<p>This test case will update multiple operational intent references and verify that the <code>key</code> field
of the parameters to create or update an operational intent reference is properly validated.</p>
<p>That is: the DSS should require that the client provides the OVNs for each entity that is in the vicinity,
both geographically and temporally, of the client's operational intent reference.</p>
<h4>Attempt mutation with both OVNs missing test step</h4>
<p>This test step will attempt to mutate the third previously created operational intent reference so that it keeps overlapping with the others,
while omitting their OVNs in the <code>key</code> field.</p>
<p>The expectation is that the DSS will require the two missing OVNs.</p>
<h5>Non de-conflicted mutation request fails</h5>
<p>This test step fragment validates that requests for operational intent references updates that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Mutate operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the mutation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2b</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:36.944914Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.957116Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.958702Z)</p>
<h4>Attempt mutation with first OVN missing test step</h4>
<p>This test step will attempt to mutate the third previously created operational intent reference so that it keeps overlapping with the others,
while omitting the first OVN in the <code>key</code> field.</p>
<p>The expectation is that the DSS will require the missing OVN.</p>
<h5>Non de-conflicted mutation request fails</h5>
<p>This test step fragment validates that requests for operational intent references updates that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Mutate operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the mutation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2b</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:36.972375Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.985062Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:36.986440Z)</p>
<h4>Attempt mutation to overlap with the first OIR test step</h4>
<p>This test step will attempt to mutate the third previously created operational intent reference so that it overlaps with the first one,
while omitting the first OVN in the <code>key</code> field.</p>
<p>The expectation is that the DSS will require the missing OVN.</p>
<h5>Non de-conflicted mutation request fails</h5>
<p>This test step fragment validates that requests for operational intent references updates that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Mutate operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the mutation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2b</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:37.001296Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.019187Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.020306Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.089773Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.093765Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.096927Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.086523Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.044382Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.059689Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.086457Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.102294Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[12] ASTM SCD DSS: Operational Intent Reference Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all CRUD operations on operational intent references performed on a given DSS instance
are properly propagated to every other DSS instance participating in the deployment.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the operational intent reference ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which operational intent reference will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> to be used for this scenario.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.114445Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.111141Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.118827Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no operational intent reference with the known test ID exists in the DSS.</p>
<h3>OIR synchronization test case</h3>
<p>This test case creates an operational intent reference on the main DSS, and verifies that it is properly synchronized to the other DSS instances.</p>
<p>It then goes on to mutate and delete it, each time confirming that all other DSSes return the expected results.</p>
<h4>Create OIR validation test step</h4>
<h5>Create OIR</h5>
<p>This test step fragment validates that:</p>
<ul>
<li>a query to create an operational intent reference with valid parameters succeeds</li>
<li>the response to the query conforms to the OpenAPI specification</li>
<li>the content of the response reflects the created operational intent reference</li>
</ul>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.136214Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that an operational intent references creation returns a body in the correct format.</p>
<h6>🛑 Create operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.151356Z)</p>
<h6>🛑 Create operational intent reference response content is correct check</h6>
<p>A successful operational intent reference creation query is expected to return a body, the content of which reflects the created operational intent reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<p>Verify that an operational intent reference can be created on the primary DSS.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152668Z)</p>
<h5>OIR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single operational intent reference returned by the DSS.</p>
<p>Fields that require different handling based on if the operational intent reference was mutated or not are covered</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Returned operational intent reference ID is correct check</h6>
<p>If the returned operational intent reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152351Z)</p>
<h6>⚠️ Returned operational intent reference has a manager check</h6>
<p>If the returned operational intent reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152400Z)</p>
<h6>⚠️ Returned operational intent reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the operational intent at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152437Z)</p>
<h6>⚠️ Returned operational intent reference state is correct check</h6>
<p>The returned state must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>⚠️ Returned operational intent reference has an USS base URL check</h6>
<p>If the returned operational intent reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152472Z)</p>
<h6>⚠️ Returned operational intent reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at operational intent reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152508Z)</p>
<h6>⚠️ Returned operational intent reference has a start time check</h6>
<p>If the returned operational intent reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152541Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152611Z)</p>
<h6>⚠️ Returned operational intent reference has an end time check</h6>
<p>Operational intent references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152573Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.152646Z)</p>
<h6>⚠️ Returned operational intent reference has a version check</h6>
<p>If the returned operational intent reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>Verify that the operational intent reference returned by the DSS under test is properly formatted and contains the expected content.</p>
<h4>Retrieve newly created OIR test step</h4>
<p>Retrieve and validate synchronization of the created operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get OIR query</h5>
<p>This test step fragment validates that a query to retrieve an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Get operational intent reference by ID check</h6>
<p>If an operational intent reference cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.158551Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:37.165296Z)</p>
<h5>Newly created OIR can be consistently retrieved from all DSS instances check</h5>
<p>If the operational intent retrieved from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1d</a></strong>,
, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.160317Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.166345Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.158653Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.165358Z)</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.158744Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.165408Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.158849Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.165446Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.158913Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.165478Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.160225Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.166280Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the created operational intent reference.
Confirm that the operational intent reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.160266Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.166323Z)</p>
<h4>Search for newly created OIR test step</h4>
<p>Search for and validate synchronization of the created operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search OIR</h5>
<p>This test step fragment validates that a query to search for operational intent references with valid parameters succeeds.</p>
<h6>🛑 Successful operational intent reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the OIR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.171219Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:37.178050Z)</p>
<h5>Newly created OIR can be consistently searched for from all DSS instances check</h5>
<p>If the operational intent searched from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1c</a></strong>,
, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.172333Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.179298Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.171283Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.178153Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.171352Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.178224Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.171408Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.178263Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.171457Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.178296Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.172272Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.179231Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the operational intent in relevant search results.
Confirm that the operational intent reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.172312Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.179276Z)</p>
<h4>Mutate OIR test step</h4>
<p>This test step mutates the previously created operational intent reference to verify that the DSS reacts properly: notably, it checks that the operational intent reference version is updated,
including for changes that are not directly visible, such as changing the operational intent reference's footprint.</p>
<h5>Update OIR</h5>
<p>This test step fragment validates that operational intent references can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.201602Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that updates to operational intent references return a body in the correct format.</p>
<h6>🛑 Mutate operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.217714Z)</p>
<h6>🛑 Mutate operational intent reference response content is correct check</h6>
<p>A successful operational intent reference mutation query is expected to return a well-defined body, the content of which reflects the updated operational intent reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<p>Confirm that the operational intent reference can be mutated.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219377Z)</p>
<h5>Validate OIR</h5>
<p>This test step fragment attempts to validate the content of a single operational intent reference returned by the DSS.</p>
<p>Fields that require different handling based on if the operational intent reference was mutated or not are covered</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Returned operational intent reference ID is correct check</h6>
<p>If the returned operational intent reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.218873Z)</p>
<h6>⚠️ Returned operational intent reference has a manager check</h6>
<p>If the returned operational intent reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.218924Z)</p>
<h6>⚠️ Returned operational intent reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the operational intent at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.218964Z)</p>
<h6>⚠️ Returned operational intent reference state is correct check</h6>
<p>The returned state must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>⚠️ Returned operational intent reference has an USS base URL check</h6>
<p>If the returned operational intent reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219006Z)</p>
<h6>⚠️ Returned operational intent reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at operational intent reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219060Z)</p>
<h6>⚠️ Returned operational intent reference has a start time check</h6>
<p>If the returned operational intent reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219122Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219209Z)</p>
<h6>⚠️ Returned operational intent reference has an end time check</h6>
<p>Operational intent references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219165Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219247Z)</p>
<h6>⚠️ Returned operational intent reference has a version check</h6>
<p>If the returned operational intent reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>Verify that the operational intent reference returned by the DSS is properly formatted and contains the correct content.</p>
<h5>OIR Versions are correct</h5>
<p>This test step fragment attempts to validate a single operational intent reference returned by the DSS,
usually after it has been mutated.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Mutated operational intent reference version is updated check</h6>
<p>Following a mutation, the DSS needs to update the operational intent reference version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219343Z)</p>
<h6>⚠️ Mutated operational intent reference OVN is updated check</h6>
<p>Following a mutation, the DSS needs to update the operational intent reference OVN, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Verify that the operational intent reference's version fields have been updated.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.219282Z)</p>
<h4>Retrieve updated OIR test step</h4>
<p>Retrieve and validate synchronization of the updated operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get OIR query</h5>
<p>This test step fragment validates that a query to retrieve an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Get operational intent reference by ID check</h6>
<p>If an operational intent reference cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.223850Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:37.229236Z)</p>
<h5>Updated OIR can be consistently retrieved from all DSS instances check</h5>
<p>If the operational intent retrieved from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1d</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.225316Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.230176Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.223907Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.229289Z)</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.223953Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.229334Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.223989Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.229368Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.224021Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.229399Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.225197Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.230111Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the updated operational intent reference.
Confirm that the operational intent reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.225272Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.230154Z)</p>
<h4>Search for updated OIR test step</h4>
<p>Search for and validate synchronization of the updated operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search OIR</h5>
<p>This test step fragment validates that a query to search for operational intent references with valid parameters succeeds.</p>
<h6>🛑 Successful operational intent reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the OIR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.234744Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:37.240671Z)</p>
<h5>Updated OIR can be consistently searched for from all DSS instances check</h5>
<p>If the operational intent searched from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1c</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.236014Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.241776Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.234827Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.240726Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.234882Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.240773Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.234918Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.240809Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.234963Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.240874Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.235948Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.241711Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the operational intent in relevant search results.
Confirm that the operational intent reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.235988Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.241750Z)</p>
<h4>Delete OIR test step</h4>
<p>Attempt to delete the operational intent reference in various ways and ensure that the DSS reacts properly.</p>
<p>This also checks that the operational intent reference data returned by a successful deletion is correct.</p>
<h5>Delete OIR</h5>
<p>This test step fragment validates that operational intent references can be deleted</p>
<h6>🛑 Delete operational intent reference query succeeds check</h6>
<p>A query to delete an operational intent reference, by its owner and when the correct OVN is provided, should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.255319Z)</p>
<h6>🛑 Delete operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.273883Z)</p>
<h6>🛑 Delete operational intent reference response content is correct check</h6>
<p>A successful operational intent reference deletion query is expected to return a body, the content of which reflects the operational intent reference at the moment of deletion.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<p>Confirm that an operational intent reference can be deleted.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.276279Z)</p>
<h5>Validate OIR</h5>
<p>This test step fragment attempts to validate the content of a single operational intent reference returned by the DSS.</p>
<p>Fields that require different handling based on if the operational intent reference was mutated or not are covered</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Returned operational intent reference ID is correct check</h6>
<p>If the returned operational intent reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.275546Z)</p>
<h6>⚠️ Returned operational intent reference has a manager check</h6>
<p>If the returned operational intent reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.275625Z)</p>
<h6>⚠️ Returned operational intent reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the operational intent at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.275692Z)</p>
<h6>⚠️ Returned operational intent reference state is correct check</h6>
<p>The returned state must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>⚠️ Returned operational intent reference has an USS base URL check</h6>
<p>If the returned operational intent reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.275757Z)</p>
<h6>⚠️ Returned operational intent reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at operational intent reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.275826Z)</p>
<h6>⚠️ Returned operational intent reference has a start time check</h6>
<p>If the returned operational intent reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.275889Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.276024Z)</p>
<h6>⚠️ Returned operational intent reference has an end time check</h6>
<p>Operational intent references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.275957Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.276093Z)</p>
<h6>⚠️ Returned operational intent reference has a version check</h6>
<p>If the returned operational intent reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>Verify that the operational intent reference returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<h5>OIR Versions are correct</h5>
<p>This test step fragment attempts to validate a single operational intent reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Non-mutated operational intent reference keeps the same version check</h6>
<p>If the version of the operational intent reference is updated without there having been any mutation of the operational intent reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.276240Z)</p>
<h6>⚠️ Non-mutated operational intent reference keeps the same OVN check</h6>
<p>If the OVN of the operational intent reference is updated without there having been any mutation of the operational intent reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Verify that the operational intent reference's version fields are as expected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.276165Z)</p>
<h4>Query deleted OIR test step</h4>
<p>Attempt to query and search for the deleted operational intent reference in various ways</p>
<h5>Get OIR query</h5>
<p>This test step fragment validates that a query to retrieve an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Get operational intent reference by ID check</h6>
<p>If an operational intent reference cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.279581Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:37.285297Z)</p>
<h5>🛑 Deleted OIR cannot be retrieved from all DSS instances check</h5>
<p>If a DSS returns an operational intent reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the operational intent reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3b</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:37.279654Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.285348Z)</p>
<h5>Search OIR</h5>
<p>This test step fragment validates that a query to search for operational intent references with valid parameters succeeds.</p>
<h6>🛑 Successful operational intent reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the OIR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.282977Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:37.288708Z)</p>
<h5>🛑 Deleted OIR cannot be searched for from all DSS instances check</h5>
<p>If a DSS returns an operational intent reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the operational intent reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3a</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:37.283023Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:37.288787Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.296449Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.293714Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.299984Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[13] ASTM SCD DSS: Interfaces authentication</h2>
<h3>Overview</h3>
<p>Ensures that a DSS properly authenticates requests to all its endpoints.</p>
<p>Note that this does not cover authorization.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Note that to benefit from the maximum coverage, the DSS' AuthAdapterResource must be able to obtain credentials
for multiple scopes (so that a wrong scope may be used in place of the correct one) as well as an empty scope
(that is, provide credentials where the scope is an empty string).</p>
<p>This scenario will check for the scope's availability and transparently ignore checks that can't be conducted.</p>
<p>At least one of the following scopes needs to be available for this scenario to at least partially run:</p>
<ul>
<li><code>utm.strategic_coordination</code></li>
<li><code>utm.availability_arbitration</code></li>
<li><code>utm.constraint_management</code></li>
</ul>
<p>In order to verify each endpoint group, all scopes above must be available.</p>
<p>Optional scopes that will allow the scenario to provide additional coverage:</p>
<ul>
<li><code>&quot;&quot;</code> (empty string)</li>
</ul>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which entities will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.303937Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.320456Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.306350Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.309157Z)</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that the availability for the test identifier is set to <code>Unknown</code>.</p>
<h5>Availability can be requested</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.312226Z)</p>
<h5>Availability can be set</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h3>Endpoint authorization test case</h3>
<p>This test case ensures that the DSS properly authenticates requests to all its endpoints.</p>
<h4>Subscription endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received, it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.341751Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.353879Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.419979Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.430787Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.446104Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.456239Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.474946Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.484931Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.505532Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.520906Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.535114Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.545354Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.564379Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.578226Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.591674Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.605188Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.626665Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.640881Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.654298Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.667939Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.686980Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.696840Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.707697Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.717659Z)</p>
<h5>🛑 Create subscription with missing credentials check</h5>
<p>If the DSS under test allows the creation of a subscription without any credentials being presented, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.341818Z)</p>
<h5>🛑 Create subscription with invalid credentials check</h5>
<p>If the DSS under test allows the creation of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.420040Z)</p>
<h5>🛑 Create subscription with missing scope check</h5>
<p>If the DSS under test allows the creation of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.446174Z)</p>
<h5>🛑 Create subscription with incorrect scope check</h5>
<p>If the DSS under test allows the creation of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.474996Z)</p>
<h5>🛑 Create subscription with valid credentials check</h5>
<p>If the DSS does not allow the creation of a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.492349Z)</p>
<h5>🛑 Get subscription with missing credentials check</h5>
<p>If the DSS under test allows the fetching of a subscription without any credentials being presented, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.495002Z)</p>
<h5>🛑 Get subscription with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.507437Z)</p>
<h5>🛑 Get subscription with missing scope check</h5>
<p>If the DSS under test allows the fetching of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.522791Z)</p>
<h5>🛑 Get subscription with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.537003Z)</p>
<h5>🛑 Get subscription with valid credentials check</h5>
<p>If the DSS does not allow fetching a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.548936Z)</p>
<h5>🛑 Mutate subscription with missing credentials check</h5>
<p>If the DSS under test allows the mutation of a subscription without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.555208Z)</p>
<h5>🛑 Mutate subscription with invalid credentials check</h5>
<p>If the DSS under test allows the mutation of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.570160Z)</p>
<h5>🛑 Mutate subscription with missing scope check</h5>
<p>If the DSS under test allows the mutation of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.583776Z)</p>
<h5>🛑 Mutate subscription with incorrect scope check</h5>
<p>If the DSS under test allows the mutation of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.597150Z)</p>
<h5>🛑 Mutate subscription with valid credentials check</h5>
<p>If the DSS does not allow the mutation of a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.612162Z)</p>
<h5>🛑 Delete subscription with missing credentials check</h5>
<p>If the DSS under test allows the deletion of a subscription without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.617878Z)</p>
<h5>🛑 Delete subscription with invalid credentials check</h5>
<p>If the DSS under test allows the deletion of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.632100Z)</p>
<h5>🛑 Delete subscription with missing scope check</h5>
<p>If the DSS under test allows the deletion of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.645770Z)</p>
<h5>🛑 Delete subscription with incorrect scope check</h5>
<p>If the DSS under test allows the deletion of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.659507Z)</p>
<h5>🛑 Delete subscription with valid credentials check</h5>
<p>If the DSS does not allow the deletion of a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.674869Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.677034Z)</p>
<h5>🛑 Search subscriptions with missing credentials check</h5>
<p>If the DSS under test allows searching for subscriptions without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.678650Z)</p>
<h5>🛑 Search subscriptions with invalid credentials check</h5>
<p>If the DSS under test allows searching for subscriptions with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.688553Z)</p>
<h5>🛑 Search subscriptions with missing scope check</h5>
<p>If the DSS under test allows searching for subscriptions with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.698463Z)</p>
<h5>🛑 Search subscriptions with incorrect scope check</h5>
<p>If the DSS under test allows searching for subscriptions with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.709479Z)</p>
<h5>🛑 Search subscriptions with valid credentials check</h5>
<p>If the DSS does not allow searching for subscriptions when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.721326Z)</p>
<h4>Operational intents endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received,
it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.734391Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.747931Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.760272Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.772304Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.793720Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.803392Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.813160Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.823063Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.843993Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.860154Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.874912Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.890819Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.913479Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.924697Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.935493Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.946218Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.965839Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.976708Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.988466Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.998666Z)</p>
<h5>🛑 Create operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the creation of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.725789Z)</p>
<h5>🛑 Create operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the creation of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.739156Z)</p>
<h5>🛑 Create operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the creation of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.752196Z)</p>
<h5>🛑 Create operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the creation of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.763979Z)</p>
<h5>🛑 Create operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow the creation of an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.782541Z)</p>
<h5>Create response format</h5>
<p>This test step fragment validates that an operational intent references creation returns a body in the correct format.</p>
<h6>🛑 Create operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format of a creation request.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.783462Z)</p>
<h5>🛑 Get operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the fetching of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.784780Z)</p>
<h5>🛑 Get operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.795268Z)</p>
<h5>🛑 Get operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the fetching of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.804709Z)</p>
<h5>🛑 Get operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.814597Z)</p>
<h5>🛑 Get operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow fetching an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.826806Z)</p>
<h5>🛑 Mutate operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the mutation of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.832116Z)</p>
<h5>🛑 Mutate operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the mutation of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.851337Z)</p>
<h5>🛑 Mutate operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the mutation of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.866267Z)</p>
<h5>🛑 Mutate operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the mutation of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.881726Z)</p>
<h5>🛑 Mutate operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow the mutation of an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.901715Z)</p>
<h5>Mutate response format</h5>
<p>This test step fragment validates that updates to operational intent references return a body in the correct format.</p>
<h6>🛑 Mutate operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format of a mutation.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.902549Z)</p>
<h5>🛑 Delete operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the deletion of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.904210Z)</p>
<h5>🛑 Delete operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the deletion of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.915367Z)</p>
<h5>🛑 Delete operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the deletion of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.926542Z)</p>
<h5>🛑 Delete operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the deletion of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.937667Z)</p>
<h5>🛑 Delete operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow the deletion of an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.954036Z)</p>
<h5>🛑 Search operational intent references with missing credentials check</h5>
<p>If the DSS under test allows searching for operational intents without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.956597Z)</p>
<h5>🛑 Search operational intent references with invalid credentials check</h5>
<p>If the DSS under test allows searching for operational intents with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.968004Z)</p>
<h5>🛑 Search operational intent references with missing scope check</h5>
<p>If the DSS under test allows searching for operational intents with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.978618Z)</p>
<h5>🛑 Search operational intent references with incorrect scope check</h5>
<p>If the DSS under test allows searching for operational intents with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:37.990425Z)</p>
<h5>🛑 Search operational intent references with valid credentials check</h5>
<p>If the DSS does not allow searching for operational intents when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.002641Z)</p>
<h4>Availability endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received,
it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.014641Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.026883Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.036842Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.047152Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.063761Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.077251Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.090550Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.103489Z)</p>
<h5>🛑 Read availability with missing credentials check</h5>
<p>If the DSS under test allows the fetching of a USS's availability without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.005483Z)</p>
<h5>🛑 Read availability with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of a USS's availability with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.018213Z)</p>
<h5>🛑 Read availability with missing scope check</h5>
<p>If the DSS under test allows the fetching of a USS's availability with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.028396Z)</p>
<h5>🛑 Read availability with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of a USS's availability with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.038648Z)</p>
<h5>🛑 Read availability with valid credentials check</h5>
<p>If the DSS does not allow fetching a USS's availability when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.050319Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.054879Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.068564Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.082022Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.094991Z)</p>
<h5>🛑 USS Availability Get response format conforms to spec check</h5>
<p>The response to a successful USS Availability request is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21,
otherwise, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.050562Z)</p>
<h5>🛑 Set availability with missing credentials check</h5>
<p>If the DSS under test allows the setting of a USS's availability without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.054917Z)</p>
<h5>🛑 Set availability with invalid credentials check</h5>
<p>If the DSS under test allows the setting of a USS's availability with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.068602Z)</p>
<h5>🛑 Set availability with missing scope check</h5>
<p>If the DSS under test allows the setting of a USS's availability with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.082062Z)</p>
<h5>🛑 Set availability with incorrect scope check</h5>
<p>If the DSS under test allows the setting of a USS's availability with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.095027Z)</p>
<h5>🛑 Set availability with valid credentials check</h5>
<p>If the DSS does not allow setting a USS's availability when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.107966Z)</p>
<h5>🛑 USS Availability Set response format conforms to spec check</h5>
<p>The response to a successful USS Availability Set request is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21,
otherwise, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.108208Z)</p>
<h4>Constraint reference endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received,
it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.125286Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.140506Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.153236Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.166511Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.186875Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.197451Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.207089Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.216985Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.235179Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.248960Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.264234Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.278717Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.297522Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.308001Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.318345Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.328936Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.348885Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.359347Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.369018Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.379212Z)</p>
<h5>🛑 Create constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the creation of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.115034Z)</p>
<h5>🛑 Create constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the creation of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.131806Z)</p>
<h5>🛑 Create constraint reference with missing scope check</h5>
<p>If the DSS under test allows the creation of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.144673Z)</p>
<h5>🛑 Create constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the creation of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.157850Z)</p>
<h5>🛑 Create constraint reference with valid credentials check</h5>
<p>If the DSS does not allow the creation of a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.174921Z)</p>
<h5>Create response format</h5>
<p>This test step fragment validates that a constraint references creation returns a body in the correct format.</p>
<h6>🛑 Create constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a creation request.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.175847Z)</p>
<h5>🛑 Get constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the fetching of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.177876Z)</p>
<h5>🛑 Get constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.188707Z)</p>
<h5>🛑 Get constraint reference with missing scope check</h5>
<p>If the DSS under test allows the fetching of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.198835Z)</p>
<h5>🛑 Get constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.208654Z)</p>
<h5>🛑 Get constraint reference with valid credentials check</h5>
<p>If the DSS does not allow fetching a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.220346Z)</p>
<h5>Read response format</h5>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a mutation.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.221204Z)</p>
<h5>🛑 Mutate constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the mutation of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.226257Z)</p>
<h5>🛑 Mutate constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the mutation of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.240480Z)</p>
<h5>🛑 Mutate constraint reference with missing scope check</h5>
<p>If the DSS under test allows the mutation of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.254292Z)</p>
<h5>🛑 Mutate constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the mutation of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.269973Z)</p>
<h5>🛑 Mutate constraint reference with valid credentials check</h5>
<p>If the DSS does not allow the mutation of a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.285994Z)</p>
<h5>Mutate response format</h5>
<p>This test step fragment validates that updates to constraint references return a body in the correct format.</p>
<h6>🛑 Mutate constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a mutation.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.286771Z)</p>
<h5>🛑 Delete constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the deletion of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.288479Z)</p>
<h5>🛑 Delete constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the deletion of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.299384Z)</p>
<h5>🛑 Delete constraint reference with missing scope check</h5>
<p>If the DSS under test allows the deletion of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.309792Z)</p>
<h5>🛑 Delete constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the deletion of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.320129Z)</p>
<h5>🛑 Delete constraint reference with valid credentials check</h5>
<p>If the DSS does not allow the deletion of a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.336076Z)</p>
<h5>Delete response format</h5>
<p>This test step fragment validates that a constraint references deletion returns a body in the correct format.</p>
<h6>🛑 Delete constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a deletion.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.336862Z)</p>
<h5>🛑 Search constraint references with missing credentials check</h5>
<p>If the DSS under test allows searching for constraint references without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.339667Z)</p>
<h5>🛑 Search constraint references with invalid credentials check</h5>
<p>If the DSS under test allows searching for constraint references with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.350971Z)</p>
<h5>🛑 Search constraint references with missing scope check</h5>
<p>If the DSS under test allows searching for constraint references with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.360997Z)</p>
<h5>🛑 Search constraint references with incorrect scope check</h5>
<p>If the DSS under test allows searching for constraint references with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.370774Z)</p>
<h5>🛑 Search constraint references with valid credentials check</h5>
<p>If the DSS does not allow searching for constraint references when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.383246Z)</p>
<h5>Search response format</h5>
<p>This test step fragment validates that constraint references search responses are properly formatted.</p>
<h6>🛑 Search constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check response format of a search.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.383457Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.386685Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.388948Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.391208Z)</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>Availability can be requested</h4>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h5>🛑 USS Availability can be requested check</h5>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.393847Z)</p>
<h4>Availability can be set</h4>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h5>🛑USS Availability can be updated check</h5>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>The cleanup phase of this test scenario removes the subscription with the known test ID if it has not been removed before.</p>
<h2>[14] ASTM SCD DSS: Subscription Simple</h2>
<h3>Overview</h3>
<p>Perform basic operations on a single DSS instance to create, update and delete subscriptions.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>problematically_big_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/vertices.py"><code>VerticesResource</code></a> describing an area designed to be too big to be accepted by the DSS.</p>
<p>Provided by problematically_big_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.404560Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.407204Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.409703Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.412137Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.414780Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscription with the known test ID exists in the DSS.</p>
<h3>Subscription Simple test case</h3>
<p>This test case creates multiple subscriptions, goes on to query and search for them, then deletes and searches for them again.</p>
<h4>Create subscription validation test step</h4>
<p>This test step creates multiple subscriptions with different combinations of the optional end and start time parameters.</p>
<p>All subscriptions are left on the DSS when this step ends, as they are expected to be present for the subsequent step.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that subscriptions can be created.</p>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.423972Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.448210Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.545092Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.567928Z)</p>
<h6>🛑 Create subscription response format conforms to spec check</h6>
<p>The response to a successful subscription creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.437155Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.533973Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.556337Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.579321Z)</p>
<h6>🛑 Create subscription response content is correct check</h6>
<p>A successful subscription creation query is expected to return a well-defined body, the content of which reflects the created subscription.</p>
<p>If the content of the response does not correspond to the requested content, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check creation succeeds and response is correct.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438996Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535915Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.558302Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.581260Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438021Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.534863Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557187Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580140Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438963Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535881Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.558269Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.581224Z)</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438072Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.534913Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557240Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580189Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438116Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.534957Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557282Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580231Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438154Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.534993Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557319Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580267Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557400Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580350Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438190Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535028Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557355Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580302Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535073Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580392Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438227Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535108Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557437Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580428Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438262Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535142Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557472Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580463Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438297Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535176Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557506Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580497Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS after its creation is properly formatted and has the right content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.438332Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.535211Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.557581Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.580533Z)</p>
<h4>Query Existing Subscription test step</h4>
<p>Query and search for the created subscription in various ways</p>
<h5>🛑 Get subscription query succeeds check</h5>
<p>If the query to get an existing subscription fails, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.777007Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.793967Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.812417Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.829685Z)</p>
<h5>🛑 Get subscription response is correct check</h5>
<p>A successful get subscription query is expected to return a well-defined body, the content of which reflects the created subscription.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.789071Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807512Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824708Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841796Z)</p>
<h5>⚠️ Get subscription response format conforms to spec check</h5>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.787789Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.806173Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.823288Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.840469Z)</p>
<h5>🛑 Search for all subscriptions in planning area query succeeds check</h5>
<p>If the search query for the area for which the subscription was just created fails, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.847353Z)</p>
<h5>🛑 Search for all subscriptions in planning area response is correct check</h5>
<p>A successful search query is expected to return a well-defined body, the content of which reflects the created subscription as well as any other subscription in the area.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863841Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.880081Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896532Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912841Z)</p>
<h5>⚠️ Search subscriptions response format conforms to spec check</h5>
<p>The response to a successful subscription search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863170Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879419Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.895880Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912197Z)</p>
<h5>🛑 Created Subscription is in search results check</h5>
<p>If the created subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863278Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879522Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.895985Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912299Z)</p>
<h5>🛑 No huge search area allowed check</h5>
<p>In accordance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS should not allow searches for areas that are too big.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.915878Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788558Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.806983Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824135Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841257Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863328Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879571Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896034Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912348Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.789049Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807488Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824686Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841774Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863813Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.880055Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896505Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912814Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788610Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807037Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824191Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841309Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863370Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879611Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896075Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912389Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788656Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807085Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824246Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841354Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863412Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879654Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896117Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912433Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788696Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807125Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824308Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841393Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863451Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879692Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896155Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912470Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788779Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807206Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824399Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841508Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863535Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879774Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896238Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912552Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788735Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807164Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824353Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841454Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863489Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879729Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896192Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912507Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788822Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807248Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824458Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841551Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863578Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879830Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896280Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912593Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788860Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807286Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824498Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841589Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863617Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879869Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896317Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912630Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788936Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807362Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824572Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841663Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863698Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879942Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896393Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912703Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788973Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807408Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824609Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841699Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863737Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879980Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896431Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912740Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the search is correctly formatted and corresponds to what was created earlier.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.789011Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807448Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824646Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841736Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863775Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.880017Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896468Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912777Z)</p>
<h5>Validate version field</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version field is as expected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.788899Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.807325Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.824535Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.841626Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.863661Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.879906Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.896356Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.912667Z)</p>
<h4>Attempt Subscription mutation with incorrect version test step</h4>
<p>This test step attempts to mutate the subscription both with a missing and incorrect OVN, and checks that the DSS reacts properly.</p>
<h5>🛑 Mutation with empty version fails check</h5>
<p>If a request to mutate a subscription is missing the version and succeeds, the DSS is failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.586602Z)</p>
<h5>🛑 Mutation with incorrect version fails check</h5>
<p>If a request to mutate a subscription providing the wrong version succeeds, the DSS is failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.590535Z)</p>
<h4>Mutate Subscription test step</h4>
<p>This test step mutates the previously created subscription to verify that the DSS reacts properly: notably, it checks that the subscription version is updated,
including for changes that are not directly visible, such as changing the subscription's footprint.</p>
<h5>🛑 Mutate subscription query succeeds check</h5>
<p>If the query to mutate a subscription with valid parameters is not successful, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.598368Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.620218Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.642605Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.664806Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.685949Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.710780Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.732624Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.759039Z)</p>
<h5>🛑 Mutate subscription response is correct check</h5>
<p>A successful subscription mutation query is expected to return a well-defined body, the content of which reflects the newly defined subscription.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610842Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632914Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655949Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676878Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700598Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.723017Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745995Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771462Z)</p>
<h5>⚠️ Mutate subscription response format conforms to spec check</h5>
<p>The response to a successful subscription mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.609590Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.631543Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.654696Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.675671Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.698272Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.721794Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.744666Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.770219Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610357Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632372Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655473Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676409Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.699616Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722550Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745515Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.770994Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610821Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632890Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655927Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676857Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700550Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722996Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745972Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771440Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610406Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632422Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655522Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676458Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.699706Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722601Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745566Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771043Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610449Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632465Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655564Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676500Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.699782Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722645Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745609Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771087Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610486Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632501Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655600Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676537Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.699860Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722682Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745651Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771124Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610561Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632576Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655675Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676611Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700014Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722755Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745727Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771198Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610521Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632536Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655635Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676572Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.699932Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722716Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745688Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771159Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610598Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632615Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655715Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676649Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700107Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722792Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745764Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771236Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610634Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632650Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655751Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676683Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700186Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722826Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745798Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771270Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610712Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632723Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655822Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676751Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700332Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722893Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745867Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771337Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610748Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632759Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655857Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676786Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700400Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722926Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745902Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771371Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the mutation is properly formatted and contains the correct content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610783Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632842Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655891Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676820Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700469Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722961Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745937Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771405Z)</p>
<h5>Validate version field</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Mutated subscription version is updated check</h6>
<p>Following a mutation, the DSS needs to update the subscription version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version field has been mutated.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.610676Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.632688Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.655787Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.676717Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.700260Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.722860Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.745833Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.771303Z)</p>
<h4>Delete Subscription test step</h4>
<p>Attempt to delete the subscription in various ways and ensure that the DSS reacts properly.</p>
<p>This also checks that the subscription data returned by a successful deletion is correct.</p>
<h5>🛑 Missing version prevents deletion check</h5>
<p>An attempt to delete a subscription without providing a version should fail, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.917459Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.923186Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.928365Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.933299Z)</p>
<h5>🛑 Incorrect version prevents deletion check</h5>
<p>An attempt to delete a subscription while providing an incorrect version should fail, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.921456Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.926921Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.931820Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.936373Z)</p>
<h5>🛑 Delete subscription query succeeds check</h5>
<p>If the query to delete an existing subscription fails, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.943304Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.965359Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.985699Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.005529Z)</p>
<h5>🛑 Delete subscription response is correct check</h5>
<p>A successful delete subscription query is expected to return a well-defined body, the content of which reflects the content of the subscription before deletion.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956748Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.977098Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997886Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017474Z)</p>
<h5>⚠️ Delete subscription response format conforms to spec check</h5>
<p>The response to a successful delete subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956144Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976516Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997303Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.016826Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956257Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976614Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997401Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.016932Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956726Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.977077Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997864Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017438Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956302Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976659Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997446Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.016979Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956345Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976702Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997489Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017023Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956382Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976740Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997528Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017061Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956461Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976818Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997608Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017169Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956418Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976775Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997564Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017098Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956501Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976857Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997649Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017215Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956537Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976892Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997685Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017254Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956608Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976961Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997757Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017328Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956651Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976996Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997794Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017365Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956689Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.977038Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997829Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017402Z)</p>
<h5>Validate version field</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version field is as expected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.956573Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.976927Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:38.997721Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.017292Z)</p>
<h4>Query Deleted Subscription test step</h4>
<p>Attempt to query and search for the deleted subscription in various ways</p>
<h5>🛑 Query by subscription ID should fail check</h5>
<p>If the DSS provides a successful reply to a direct query for the deleted subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.020680Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.023040Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.025248Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.027405Z)</p>
<h5>🛑 Search for all subscriptions in planning area query succeeds check</h5>
<p>If the DSS fails to let us search in the area for which the subscription was just created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.030560Z)</p>
<h5>🛑 Deleted subscription should not be present in search results check</h5>
<p>If the DSS returns the deleted subscription in a search that covers the area it was originally created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.030678Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.032969Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.035281Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.037465Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.039825Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[15] ASTM SCD DSS: Subscription Validation</h2>
<h3>Overview</h3>
<p>Ensures that a DSS properly enforces limitations on created subscriptions</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.044577Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.047917Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscription with the known test ID exists in the DSS.</p>
<h3>Subscription Validation test case</h3>
<p>This test attempts to create subscriptions that should be rejected or adapted by the DSS.</p>
<h4>Subscription duration limitations test step</h4>
<p>This test step attempts to create a subscription that exceeds the maximal subscription duration on the DSS.</p>
<p>It does so directly, by attempting to create a subscription that exceeds the maximal duration of <code>DSSMaxSubscriptionDuration</code> (24 hours),
and indirectly, by first creating a valid subscription and then attempting to mutate it to exceed the maximal duration.</p>
<h5>🛑 Accept a subscription of maximal duration check</h5>
<p>If the DSS under test does not allow the creation of a subscription of the maximal allowed duration of <code>DSSMaxSubscriptionDuration</code>,
it is failing to create a subscription using valid parameters, and is thus failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.059545Z)</p>
<h5>🛑 Don't create a too long subscription check</h5>
<p>If the DSS under test does not reject a subscription that exceeds the maximal allowed duration of <code>DSSMaxSubscriptionDuration</code>,
or fails to truncate the duration of the subscription to this duration, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0015</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.051803Z)</p>
<h5>🛑 Don't mutate a subscription to be too long check</h5>
<p>If the DSS under test does not reject a mutation that would cause a subscription to exceed the maximal allowed duration of <code>DSSMaxSubscriptionDuration</code>,
or fails to truncate the duration of the subscription to this duration, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0015</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.064806Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.069116Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.077475Z)</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>The cleanup phase of this test scenario removes the subscription with the known test ID if it has not been removed before.</p>
<h2>[16] ASTM F3548-21 UTM DSS Operational Intent Reference Access Control</h2>
<h3>Overview</h3>
<p>This scenario ensures that a DSS will only let the owner of an operational intent reference modify it.</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>A <code>resources.flight_planning.FlightIntentsResource</code> containing the flight intents to be used in this scenario:</p>
<p>This scenario expects to find at least two separate flight intents in this resource, as it will use their extent
to create two operational intents references.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>dss</h4>
<p>A <code>resources.astm.f3548.v21.DSSInstanceResource</code> pointing to the DSS instance to test for this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>second_utm_auth</h4>
<p>A <code>resources.communications.AuthAdapterResource</code> containing a second set of valid credentials for interacting with the DSS.</p>
<p>This second set of credentials is required to validate that the DSS is properly enforcing access control rules, and properly limits the actions of a client against
the resources exposed by the DSS.</p>
<p>The participant under test is responsible for providing this second set of credentials along the primary ones used in most other scenarios.</p>
<h5>Credential requirements</h5>
<p>In general, these test credentials may be in all points equal to the ones used by the <code>AuthAdapterResource</code> that is
provided to the <code>dss</code> resources above, except for the value contained in the <code>sub</code> claim of the token.</p>
<p>For the purpose of this scenario, these credentials must be allowed to create, modify and delete operational intents on the DSS,
as well as querying operational intent references.</p>
<h6>Required scope</h6>
<p>For the purpose of this scenario, the <code>second_utm_auth</code> resource must provide access to a token with at least the following scope:</p>
<ul>
<li><code>utm.strategic_coordination</code></li>
</ul>
<h6>Separate subscription</h6>
<p>Note that the subscription (or 'sub' claim) of the token that will be obtained for this resource
MUST be different from the one of the <code>dss</code> resources mentioned above:
this will be verified at runtime, and this scenario will fail if the second set of credentials belong to the same subscription as the main one.</p>
<p>Provided by second_utm_auth in top-level resource pool.</p>
<h4>id_generator</h4>
<p>A <code>resources.interuss.IDGeneratorResource</code> that will be used to generate the IDs of the operational intent references created in this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h3>Setup test case</h3>
<p>Makes sure that the DSS is in a clean and expected state before running the test, and that the passed resources work as required.</p>
<p>The setup will create two separate operational intent references: one for each set of the available credentials.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.088906Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.094785Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.105802Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.110039Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.114140Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>⚠️ Any existing operational intent reference has been removed check</h5>
<p>If, after cleanup, one or more operational intent reference are still present at the DSS, this scenario cannot proceed.</p>
<p>This scenario is able to remove any operational intent reference that belongs to the configured credentials, but it cannot remove references
that belong to other credentials.</p>
<p>A regular failure of this check indicates that other scenarios might not properly clean up their resources, or that the <em>Prepare Flight Planners</em>
scenario should be moved in front of the present one.</p>
<p>If this check fails, the rest of the scenario is entirely skipped.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.114203Z)</p>
<h4>Create operational intent references with different credentials test step</h4>
<p>This test step ensures that an operation intent reference created with the main credentials is available for the main test case.</p>
<p>To verify that the second credentials are valid, it will also create an operational intent reference with those credentials.</p>
<h5>🛑 Can create an operational intent with valid credentials check</h5>
<p>If the DSS does not allow the creation of operation intents when the required parameters and credentials are provided,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.130634Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.147735Z)</p>
<h5>🛑 Passed sets of credentials are different check</h5>
<p>This scenario requires two sets of credentials that have a different 'sub' claim in order to validate that the
DSS properly controls access to operational intents.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.147925Z)</p>
<h3>Attempt unauthorized operational intent reference modification test case</h3>
<p>This test case ensures that the DSS does not allow a caller to modify or delete operational intent references that they did not create.</p>
<h4>Attempt unauthorized operational intent reference modification test step</h4>
<p>This test step will attempt to modify the operational intent references that was created using the configured <code>dss</code> resource,
using the credentials provided in the <code>second_utm_auth</code> resource, and expect all such attempts to fail.</p>
<h5>🛑 Operational intent references can be queried directly by their ID check</h5>
<p>If an existing operational intent cannot directly be queried by its ID, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.168060Z)</p>
<h5>🛑 Non-owning credentials cannot modify operational intent check</h5>
<p>If an operational intent reference can be modified by a client which did not create it, the DSS implementation is
in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0035</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:39.156264Z)</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:39.162048Z)</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:39.168109Z)</p>
<h5>🛑 Non-owning credentials cannot delete operational intent check</h5>
<p>If an operational intent reference can be deleted by a client which did not create it, the DSS implementation is
in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0035</a></strong>.</p>
<p>✅ uss1_dss, mock_uss (2024-11-18T16:33:39.164716Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.171429Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.185798Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.182282Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.197812Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[17] ASTM F3548-21 UTM DSS interoperability</h2>
<h3>Overview</h3>
<p>TODO: Complete with details once we check more than the prerequisites.</p>
<p>This scenario currently only checks that all specified DSS instances are publicly addressable and reachable.</p>
<h3>Resources</h3>
<h4>primary_dss_instance</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py">resources.astm.f3548.v21.DSSInstanceResource</a> containing the &quot;primary&quot; DSS instance for this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>all_dss_instances</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py">resources.astm.f3548.v21.DSSInstancesResource</a> containing at least two DSS instances complying with ASTM F3548-21.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>planning_area</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py">resources.astm.f3548.v21.PlanningAreaResource</a> containing a planning area that covers the area of interest for this</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>test_exclusions</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/dev/test_exclusions.py">resources.dev.TestExclusionsResource</a> containing test exclusions parameters like whether private addresses are allowed.
This resource is optional.</p>
<p>Provided by test_exclusions in top-level resource pool.</p>
<h3>Prerequisites test case</h3>
<h4>Test environment requirements test step</h4>
<h5>🛑 DSS instance is publicly addressable check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0300</a></strong> the DSS instance should be publicly addressable.
As such, this check will fail if the resolved IP of the DSS host is a private IP address.
This check is skipped if the test exclusion <code>allow_private_addresses</code> is set to <code>True</code>.</p>
<h5>🛑 DSS instance is reachable check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0300</a></strong> the DSS instance should be publicly addressable.
As such, this check will fail if the DSS is not reachable with a dummy query.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.209755Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.214216Z)</p>
<h2>[18] ASTM SCD DSS: Subscription Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all subscription CRUD operations performed on a single DSS instance are properly propagated to every other DSS</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>second_utm_auth</h4>
<p>A <code>resources.communications.AuthAdapterResource</code> containing a second set of valid credentials for interacting with the DSS.</p>
<p>This second set of credentials is required to validate that the DSS properly synchronizes the manager of a subscription to other DSS instances.</p>
<p>The test designer should provide this second set of credentials when full testing of manager synchronization behavior is desired.</p>
<h5>Credential requirements</h5>
<p>In general, these test credentials may be in all points equal to the ones used by the <code>AuthAdapterResource</code> that is
provided to the <code>dss</code> resources above, except for the value contained in the <code>sub</code> claim of the token.</p>
<p>Note that most checks in this scenario will work if the second set of credentials is not provided.</p>
<h6>Required scope</h6>
<p>For the purpose of this scenario, the <code>second_utm_auth</code> resource must provide access to a token with at least the following scope:</p>
<ul>
<li><code>utm.strategic_coordination</code></li>
</ul>
<h6>Separate subject</h6>
<p>Note that the subject (or 'sub' claim) of the token that will be obtained for this resource
MUST be different from the one of the <code>dss</code> resources mentioned above:
this will be verified at runtime, and the depending checks will not be run if this is not the case.</p>
<p>Provided by second_utm_auth in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.219026Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.221384Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.223488Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.225587Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.228491Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions with the known test IDs exist in the DSS.</p>
<p>This includes the main test subscription used in this test, as well as the extra subscription
used for testing the <code>manager</code> field sync, if the test is configured to test for it.</p>
<h3>Subscription Synchronization test case</h3>
<p>This test case create a subscription on the main DSS, and verifies that it is properly synchronized to the other DSS instances.</p>
<p>It then goes on to mutate and delete it, each time confirming that all other DSSes return the expected results.</p>
<h4>Create subscription validation test step</h4>
<p>This test step creates multiple subscriptions with different combinations of the optional end and start time parameters.</p>
<p>All subscriptions are left on the DSS when this step ends, as they are expected to be present for the subsequent step.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that subscriptions can be created.</p>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.236855Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.259636Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.282357Z)</p>
<h6>🛑 Create subscription response format conforms to spec check</h6>
<p>The response to a successful subscription creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.248330Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.270856Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.293656Z)</p>
<h6>🛑 Create subscription response content is correct check</h6>
<p>A successful subscription creation query is expected to return a well-defined body, the content of which reflects the created subscription.</p>
<p>If the content of the response does not correspond to the requested content, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that a subscription can be created on the primary DSS.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.250250Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.272744Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.295697Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249167Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271684Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294597Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.250217Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.272712Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.295663Z)</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249222Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271734Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294662Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249266Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271776Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294706Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249303Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271812Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294742Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249380Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271892Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294820Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249339Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271848Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294777Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249419Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271931Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294860Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249454Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271964Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294894Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249489Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.271999Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294927Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249524Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.272034Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294962Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS under test is properly formatted and contains the expected content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.249565Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.272067Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.294996Z)</p>
<h4>Query newly created subscription test step</h4>
<p>Query the created subscription at every DSS provided in <code>dss_instances</code>.</p>
<h5>Subscription is synchronized</h5>
<p>This test step fragment validates that subscriptions are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Subscription can be found at every DSS check</h6>
<p>If the previously created or mutated subscription cannot be found at a DSS, either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.301750Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.332226Z)</p>
<h6>⚠️ Propagated subscription contains the correct USS base URL check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct USS base URL,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.302598Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.333006Z)</p>
<h6>⚠️ Propagated subscription contains the correct start time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct start time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.302664Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.333078Z)</p>
<h6>⚠️ Propagated subscription contains the correct end time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct end time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.302717Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.333169Z)</p>
<h6>⚠️ Propagated subscription contains the correct version check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct version,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.302764Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.333226Z)</p>
<h6>⚠️ Propagated subscription contains the correct notification flags check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct notification flags,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1g</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.302813Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.333277Z)</p>
<h6>⚠️ Propagated subscription contains the correct implicit flag check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct implicit flag,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1h</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.302857Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.333321Z)</p>
<h6>⚠️ Propagated subscription contains expected notification count check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the expected notification count,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1i</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.302902Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.333365Z)</p>
<h6>⚠️ Secondary DSS returns the subscription in searches for area that contains it check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area that encompasses the created subscription,
the secondary DSS should return the subscription in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.323919Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.354071Z)</p>
<h6>⚠️ Secondary DSS does not return the subscription in searches not encompassing the general area of the subscription check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area not in the vicinity of the created subscription,
the secondary DSS should not return it in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that the subscription that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.327787Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.358475Z)</p>
<h5>Get subscription</h5>
<p>This test step fragment validates that subscriptions can be read.</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Get subscription response format conforms to spec check</h6>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that each DSS provides access to the created subscription,</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.314145Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.343709Z)</p>
<h5>Search subscription</h5>
<p>This test step fragment validates that subscriptions can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.320214Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.327710Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.350228Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.358388Z)</p>
<h6>🛑 Created Subscription is in search results check</h6>
<p>If the existing subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that each DSS returns the created subscription when searched for.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by every DSS is correctly formatted and corresponds to what was created earlier.</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by every DSS is as expected.</p>
<h4>Mutate subscription broadcast test step</h4>
<p>This test step mutates the previously created subscription, by accessing the primary DSS, to verify that the update is propagated to all other DSSes.
Notably, it checks that the subscription version is updated, including for changes that are not directly visible, such as changing the subscription's footprint.</p>
<h5>Update subscription</h5>
<p>This test step fragment validates that subscriptions can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update a subscription succeeds.</p>
<h6>🛑 Subscription can be mutated check</h6>
<p>If a subscription cannot be updated with a valid set of parameters, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.366870Z)</p>
<h6>🛑 Mutate subscription response format conforms to spec check</h6>
<p>The response to a successful subscription mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.378604Z)</p>
<h6>🛑 Mutate subscription response content is correct check</h6>
<p>A successful subscription mutation query is expected to return a well-defined body, the content of which reflects the mutated subscription.</p>
<p>If the content of the response does correspond to the requested mutation, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirm that the subscription can be mutated.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379888Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379404Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379865Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379455Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379498Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379534Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379611Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379570Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379651Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379686Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379760Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379795Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS is properly formatted and contains the correct content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379829Z)</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Mutated subscription version is updated check</h6>
<p>Following a mutation, the DSS needs to update the subscription version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by the DSS has been updated.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.379720Z)</p>
<h4>Query updated subscription test step</h4>
<p>Query the updated subscription at every DSS provided in <code>dss_instances</code>.</p>
<h5>Subscription is synchronized</h5>
<p>This test step fragment validates that subscriptions are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Subscription can be found at every DSS check</h6>
<p>If the previously created or mutated subscription cannot be found at a DSS, either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.384910Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.412181Z)</p>
<h6>⚠️ Propagated subscription contains the correct USS base URL check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct USS base URL,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.385745Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.412954Z)</p>
<h6>⚠️ Propagated subscription contains the correct start time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct start time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.385810Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.413018Z)</p>
<h6>⚠️ Propagated subscription contains the correct end time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct end time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.385862Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.413069Z)</p>
<h6>⚠️ Propagated subscription contains the correct version check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct version,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.385909Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.413116Z)</p>
<h6>⚠️ Propagated subscription contains the correct notification flags check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct notification flags,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1g</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.385957Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.413233Z)</p>
<h6>⚠️ Propagated subscription contains the correct implicit flag check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct implicit flag,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1h</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.386001Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.413289Z)</p>
<h6>⚠️ Propagated subscription contains expected notification count check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the expected notification count,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1i</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.386045Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.413345Z)</p>
<h6>⚠️ Secondary DSS returns the subscription in searches for area that contains it check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area that encompasses the created subscription,
the secondary DSS should return the subscription in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.405399Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.432961Z)</p>
<h6>⚠️ Secondary DSS does not return the subscription in searches not encompassing the general area of the subscription check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area not in the vicinity of the created subscription,
the secondary DSS should not return it in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that the subscription that was just mutated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.408743Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.436800Z)</p>
<h5>Get subscription</h5>
<p>This test step fragment validates that subscriptions can be read.</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Get subscription response format conforms to spec check</h6>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be retrieved from any DSS.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.396137Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.423460Z)</p>
<h5>Search subscription</h5>
<p>This test step fragment validates that subscriptions can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.401568Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.408667Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.429345Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.436722Z)</p>
<h6>🛑 Created Subscription is in search results check</h6>
<p>If the existing subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be searched for from any DSS.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by every DSS is correctly formatted and corresponds to what was mutated earlier.</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by every DSS is as expected.</p>
<h4>Mutate subscription on secondaries test step</h4>
<p>This test step attempts to mutate the subscription on every secondary DSS instance (that is, instances through which the subscription has not been created) to confirm that such mutations are properly propagated to every DSS.</p>
<p>Note that this step is repeated for every secondary DSS instance.</p>
<h5>🛑 Subscription can be mutated on secondary DSS check</h5>
<p>If the secondary DSS does not allow the subscription to be mutated, either the secondary DSS or the primary DSS are in violation of one or both of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1b</a></strong>, if the <code>manager</code> of the subscription fails to be taken into account (either because the primary DSS did not propagated it, or because the secondary failed to consider it);
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, if the secondary DSS fails to properly implement the API to mutate subscriptions.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.462360Z)</p>
<h5>🛑 Subscription returned by a secondary DSS is valid and correct check</h5>
<p>When queried for a subscription that was created via another DSS, a DSS instance is expected to provide a valid subscription.</p>
<p>If it does not, it might be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h5>Update subscription</h5>
<p>This test step fragment validates that subscriptions can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update a subscription succeeds.</p>
<h6>🛑 Subscription can be mutated check</h6>
<p>If a subscription cannot be updated with a valid set of parameters, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Mutate subscription response format conforms to spec check</h6>
<p>The response to a successful subscription mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.474175Z)</p>
<h6>🛑 Mutate subscription response content is correct check</h6>
<p>A successful subscription mutation query is expected to return a well-defined body, the content of which reflects the mutated subscription.</p>
<p>If the content of the response does correspond to the requested mutation, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirm that the secondary DSS handles the update properly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475452Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.474968Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475431Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475019Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475063Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475101Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475179Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475138Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475219Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475256Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475325Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475360Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS is properly formatted and contains the correct content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475395Z)</p>
<h5>Validate version is updated by mutation</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Mutated subscription version is updated check</h6>
<p>Following a mutation, the DSS needs to update the subscription version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription is updated after the mutation on the secondary.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.475290Z)</p>
<h4>Verify mutation on all secondaries test step</h4>
<p>This step verifies that the mutation of the subscription on a secondary instance, from the previous step, is properly propagated to every other DSS.</p>
<p>Note that this step is repeated for every secondary DSS instance.</p>
<h5>Subscription is synchronized</h5>
<p>This test step fragment validates that subscriptions are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Subscription can be found at every DSS check</h6>
<p>If the previously created or mutated subscription cannot be found at a DSS, either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.480365Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.507724Z)</p>
<h6>⚠️ Propagated subscription contains the correct USS base URL check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct USS base URL,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.481205Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.508464Z)</p>
<h6>⚠️ Propagated subscription contains the correct start time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct start time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.481273Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.508528Z)</p>
<h6>⚠️ Propagated subscription contains the correct end time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct end time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.481325Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.508578Z)</p>
<h6>⚠️ Propagated subscription contains the correct version check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct version,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.481372Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.508624Z)</p>
<h6>⚠️ Propagated subscription contains the correct notification flags check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct notification flags,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1g</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.481421Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.508671Z)</p>
<h6>⚠️ Propagated subscription contains the correct implicit flag check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct implicit flag,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1h</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.481465Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.508713Z)</p>
<h6>⚠️ Propagated subscription contains expected notification count check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the expected notification count,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1i</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.481508Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.508757Z)</p>
<h6>⚠️ Secondary DSS returns the subscription in searches for area that contains it check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area that encompasses the created subscription,
the secondary DSS should return the subscription in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.501025Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.529449Z)</p>
<h6>⚠️ Secondary DSS does not return the subscription in searches not encompassing the general area of the subscription check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area not in the vicinity of the created subscription,
the secondary DSS should not return it in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that the subscription that was just mutated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.504454Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.532859Z)</p>
<h5>Get subscription</h5>
<p>This test step fragment validates that subscriptions can be read.</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Get subscription response format conforms to spec check</h6>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be retrieved from any DSS, and that it has the expected content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.491765Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.520099Z)</p>
<h5>Search subscription</h5>
<p>This test step fragment validates that subscriptions can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.497449Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.504379Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.525841Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.532781Z)</p>
<h6>🛑 Created Subscription is in search results check</h6>
<p>If the existing subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be searched for from any DSS, and that it has the expected content.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS is properly formatted and contains the correct content.</p>
<h5>Validate version is as expected when read</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that when we are reading the subscription without mutating it, the version is as expected.</p>
<h4>Create subscription with different credentials test step</h4>
<p>If the second set of credentials is provided, this test step will create a subscription using these credentials,
in order to prepare the next step that checks manager synchronization.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Verify that a subscription can be created on the primary DSS using the separate set of credentials.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.444870Z)</p>
<h4>Verify manager synchronization test step</h4>
<p>If the second set of credentials is provided, checks that the manager of a subscription is properly synchronized across all DSS instances.</p>
<p>This is done by verifying that the main credentials are not able to delete the subscription via any of the secondary DSS instances.</p>
<h5>⚠️ Subscription deletion with different non-managing credentials on secondary DSS fails check</h5>
<p>If the subscription can be deleted by a client which did not create it, via a DSS instance to which the subscription was synced
following its creation on the primary DSS, either one of the primary DSS or the DSS that accepted the deletion failed to properly broadcast, respectively take into account, the manage of the subscription,
and therefore violates <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1b</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.449324Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.453651Z)</p>
<h4>Delete subscription on primary test step</h4>
<p>Attempt to delete the subscription that was created on the primary DSS through the primary DSS in various ways,
and ensure that the DSS reacts properly.</p>
<p>This also checks that the subscription data returned by a successful deletion is correct.</p>
<h5>Delete subscription</h5>
<p>This test step fragment validates that subscriptions can be deleted.</p>
<h6>Delete query succeeds</h6>
<p>This test step fragment validates that a query to remove a subscription succeeds.</p>
<h6>🛑 Subscription can be deleted check</h6>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.626635Z)</p>
<h6>🛑 Delete subscription response format conforms to spec check</h6>
<p>The response to a successful subscription deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.637779Z)</p>
<h6>🛑 Delete subscription response content is correct check</h6>
<p>A successful subscription deletion query is expected to return a well-defined body, the content of which reflects the deleted subscription.</p>
<p>If the content of the response does not correspond to the subscription at the time of deletion, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that a subscription can be deleted.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638322Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.637852Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638301Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.637895Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.637936Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.637973Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638053Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638010Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638093Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638129Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638198Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638233Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638267Z)</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by the DSS is as expected</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.638164Z)</p>
<h4>Query deleted subscription test step</h4>
<p>Attempt to query and search for the deleted subscription in various ways</p>
<h5>🛑 DSS should not return the deleted subscription check</h5>
<p>If a DSS returns a subscription that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the subscription is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS through which the subscription was deleted is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:39.641074Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:39.643282Z)</p>
<h4>Delete subscriptions on secondaries test step</h4>
<p>Attempt to delete subscriptions that were created through the primary DSS via the secondary DSS instances.</p>
<h5>Delete subscription</h5>
<p>This test step fragment validates that subscriptions can be deleted.</p>
<h6>Delete query succeeds</h6>
<p>This test step fragment validates that a query to remove a subscription succeeds.</p>
<h6>🛑 Subscription can be deleted check</h6>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.650030Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.676169Z)</p>
<h6>🛑 Delete subscription response format conforms to spec check</h6>
<p>The response to a successful subscription deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661390Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687654Z)</p>
<h6>🛑 Delete subscription response content is correct check</h6>
<p>A successful subscription deletion query is expected to return a well-defined body, the content of which reflects the deleted subscription.</p>
<p>If the content of the response does not correspond to the subscription at the time of deletion, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that a subscription can be deleted from a secondary DSS</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661975Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.688220Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661486Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687747Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661953Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.688199Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661529Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687791Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661572Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687834Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661609Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687870Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661695Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687950Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661650Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687906Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661735Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.687989Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661770Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.688025Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661847Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.688095Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661883Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.688130Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661918Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.688164Z)</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by the DSS is as expected</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.661811Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.688061Z)</p>
<h5>🛑 DSS should not return the deleted subscription check</h5>
<p>If a DSS returns a subscription that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the subscription is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS through which the subscription was deleted is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:39.664927Z)</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:39.667095Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:39.669192Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.691136Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:39.693513Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:39.695825Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.698054Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.700114Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.702218Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.705548Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.712891Z)</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions with the known test IDs remain in the DSS by deleting them at this point if they do exist.</p>
<p>This includes the main test subscription used in this test, as well as the extra subscription
used for testing the <code>manager</code> field sync, if the test is configured to test for it.</p>
<h2>[skipped] ASTM UTM DSS: Direct CRDB access</h2>
<p>This instance of this test scenario was skipped in this test run because: Test suite action to run ActionType.TestScenario scenarios.astm.utm.dss.CRDBAccess could not find required resource ID &quot;dss_crdb_cluster&quot; used to populate child resource ID &quot;crdb_cluster&quot;</p>
<h2>[skipped] OVN Request Optional Extension to ASTM F3548-21</h2>
<p>This instance of this test scenario was skipped in this test run because: DSS resource with ID uss1_dss does not support OVN requests</p>
<h2>[19] ASTM SCD DSS: Report</h2>
<h3>Overview</h3>
<p>This scenario tests the ability of the DSS to receive DSS reports.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 1 in dss_instances in top-level resource pool.</p>
<h3>DSS Report test case</h3>
<p>This test attempts to submit to the DSS a report about a communication issue with a DSS that might otherwise go unnoticed.
A dummy <code>getOperationalIntentReference</code> query is made to a non-existent DSS in order to produce a realistic report, as if a DSS was not reachable when trying to retrieve an operational intent reference.</p>
<h4>Make valid DSS report test step</h4>
<h5>Make report to DSS</h5>
<p>This step makes a report to the DSS.</p>
<p>See <code>make_dss_report</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS report successfully submitted check</h6>
<p>If the submission of the report to the DSS does not succeed, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.923798Z)</p>
<h6>⚠️ DSS returned a valid report ID check</h6>
<p>If the ID returned by the DSS is not present or is empty, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,2</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:39.923846Z)</p>
<h2>[20] ASTM SCD DSS: Implicit Subscription handling</h2>
<h3>Overview</h3>
<p>Checks that implicit subscriptions are properly created, mutated and cleaned up.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>utm_client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> provides the identity that will be used to interact with the DSS.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.932601Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.934940Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.937093Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.930316Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.940102Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.942377Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no OIRs with the known test IDs exists in the DSS.</p>
<h3>Single OIR implicit subscription is removed upon OIR deletion test case</h3>
<h4>Create an OIR with implicit subscription test step</h4>
<p>This step creates an OIR with an implicit subscription and confirms that the subscription can be queried</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.956765Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.966116Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.967346Z)</p>
<h4>Delete the OIR with implicit subscription test step</h4>
<h5>Delete OIR</h5>
<p>This test step fragment validates that operational intent references can be deleted</p>
<h6>🛑 Delete operational intent reference query succeeds check</h6>
<p>A query to delete an operational intent reference, by its owner and when the correct OVN is provided, should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.979857Z)</p>
<h6>🛑 Delete operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>🛑 Delete operational intent reference response content is correct check</h6>
<p>A successful operational intent reference deletion query is expected to return a body, the content of which reflects the operational intent reference at the moment of deletion.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<h5>🛑 The implicit subscription was removed check</h5>
<p>Upon deletion of an OIR that is associated to an implicit subscription, if the subscription has no other
associated OIRs, the DSS is expected to remove it.</p>
<p>If a query attempting to fetch the implicit subscription succeeds, it implies that the implicit subscription has not
been removed, and the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.982585Z)</p>
<h5>🛑 After removal of the only created OIR, subscriptions should be as before its creation check</h5>
<p>If, after the DSS is left in the same state as it was 'found' for an area, the subscriptions currently active do not correspond to the ones
that were present when the test case started, the DSS may be failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.982657Z)</p>
<h3>Implicit subscriptions always properly cover their OIR test case</h3>
<p>This test case verifies that implicit subscriptions belonging to OIRs that are created, updated and deleted
are properly managed.</p>
<p>In particular, the scenario verifies that:</p>
<ul>
<li>implicit subscriptions attached to an OIR always correctly cover the OIR after it was created or mutated;</li>
<li>implicit subscriptions are properly removed when they are no longer necessary.</li>
</ul>
<h4>Create an OIR with implicit subscription test step</h4>
<p>Create an OIR with which interactions will be tested and request an implicit
subscription to be created.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss2_dss (2024-11-18T16:33:39.997698Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.006263Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.007499Z)</p>
<h4>Create an overlapping OIR without any subscription test step</h4>
<p>This step creates an OIR in the <code>ACCEPTED</code> state that overlaps with the previously created OIR:
it does not request the creation of an implicit subscription and does not attach the OIR to any subscription explicitly.</p>
<p>This step expects that the implicit subscription from the previously created OIR is mentioned in the response's notifications,
and that no new implicit subscription is created.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.021310Z)</p>
<h5>🛑 New OIR creation response contains previous implicit subscription to notify check</h5>
<p>If the newly created OIR does not mention the implicit subscription from the previous OIR in its notifications,
the DSS is either improperly managing implicit subscriptions, or failing to report the subscriptions relevant to an OIR,
and therefore in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> respectively.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.023688Z)</p>
<h5>🛑 No implicit subscription was attached check</h5>
<p>If the DSS attached an implicit subscription, by either creating or re-using an existing one, to the OIR that was created in this step,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.023636Z)</p>
<h4>Mutate OIR with implicit subscription to not overlap anymore test step</h4>
<p>This step mutates the first OIR, which has an implicit subscription, to no longer overlap with the second OIR.</p>
<p>The mutation request does not specify an existing subscription, and provides the parameters required for the creation of an implicit subscription.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that operational intent references can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.040982Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that updates to operational intent references return a body in the correct format.</p>
<h6>🛑 Mutate operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format</p>
<h6>🛑 Mutate operational intent reference response content is correct check</h6>
<p>A successful operational intent reference mutation query is expected to return a well-defined body, the content of which reflects the updated operational intent reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<h5>🛑 The implicit subscription can be queried check</h5>
<p>The implicit subscription attached to the mutated OIR should be able to be queried.</p>
<p>If it cannot, the DSS is either improperly managing implicit subscriptions for OIRs, or failing to report the subscriptions relevant to an OIR,
in which case the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, respectively.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.050071Z)</p>
<h5>Correct temporal bounds</h5>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.051312Z)</p>
<h5>🛑 Non-mutated implicit subscription is deleted check</h5>
<p>If the DSS chose to create a new implicit subscription instead of updating the existing one, and the DSS did not remove the previous subscription,
the DSS is in violation of either <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.054312Z)</p>
<h4>Create an OIR overlapping with the second OIR but not the first test step</h4>
<p>This step creates a new OIR that only overlaps the OIR that has no implicit subscription,
and expects to not have to notify any subscription related to the OIRs created in this scenario.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.066110Z)</p>
<h5>🛑 Within a temporal frame not overlapping a newly created implicit subscription, subscriptions should be the same as at the start of the test case check</h5>
<p>Within a geotemporal area that does not intersect with any of the implicit subscriptions that are left within the DSS,
the subscriptions returned for an OIR created within said area should correspond to the ones
that were present when the test case started.</p>
<p>Otherwise, the DSS may be failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.068864Z)</p>
<h5>🛑 No implicit subscription was attached check</h5>
<p>If the DSS attached an implicit subscription, by either creating or re-using an existing one, to the OIR that was created in this step,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.068808Z)</p>
<h3>Implicit subscriptions are properly deleted when required by OIR mutation test case</h3>
<p>This test case verifies that implicit subscriptions are properly removed if they become unnecessary following the mutation of an OIR.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.112169Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.115194Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.117971Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.109408Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.084489Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.096597Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.109369Z)</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.121407Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.123729Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Reset the workspace for this test case.</p>
<h4>Create two OIRs with implicit subscription test step</h4>
<p>Creates two OIRs with an implicit subscription, which will then be replaced by an explicitly created subscription
and deleted by an update that requests no subscription, respectively.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.138445Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.162559Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.146390Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.170927Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.147672Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.172199Z)</p>
<h4>Create a subscription test step</h4>
<p>This test step creates a subscription that will be used to replace the implicit subscription that was created for an OIR.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check creation succeeds and response is correct.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.183327Z)</p>
<h4>Update OIR with implicit subscription to use explicit subscription test step</h4>
<p>This step updates the OIR to use the subscription that was created in the previous step,
and expects the previous implicit subscription to be removed.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.200475Z)</p>
<h5>🛑 Previously attached implicit subscription was deleted check</h5>
<p>If the implicit subscription that was attached to the OIR is still present after the OIR is updated to use another subscription,
the DSS is failing to properly manage implicit subscriptions for OIRs, and is therefore in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.203021Z)</p>
<h4>Update OIR with implicit subscription to use no subscription test step</h4>
<p>This step updates the OIR to not use any subscription, and expects the implicit subscription to be removed.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.228266Z)</p>
<h5>🛑 Previously attached implicit subscription was deleted check</h5>
<p>If the implicit subscription that was attached to the OIR is still present after the OIR is updated to use another subscription,
the DSS is failing to properly manage implicit subscriptions for OIRs, and is therefore in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.230680Z)</p>
<h3>Implicit subscriptions are expanded as needed test case</h3>
<p>This test case checks that a DSS will properly expand an implicit subscription to cover an OIR that is being attached to it.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.257718Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.262902Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.265028Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.255274Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.246647Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.255235Z)</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.268465Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.273282Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.284135Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.281157Z)</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Reset the workspace for this test case.</p>
<h4>Create an OIR with implicit subscription test step</h4>
<p>Create an OIR with which interactions will be tested and request an implicit
subscription to be created.</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.298814Z)</p>
<h5>Valid Implicit Subscription</h5>
<p>This test step fragment validates that implicit subscriptions are created and can be queried,
and that they have the correct temporal parameters.</p>
<h6>🛑 An implicit subscription was created and can be queried check</h6>
<p>The creation of an operational intent which:</p>
<ul>
<li>requires an implicit subscription</li>
<li>is within a geo-temporal volume for which the client has not yet established any subscription</li>
</ul>
<p>is expected to trigger the creation of a new implicit subscription.</p>
<p>If the DSS does not create the implicit subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.306864Z)</p>
<h6>Correct temporal parameters</h6>
<p>This test step fragment validates the time-bounds of an implicit subscription</p>
<h6>🛑 Implicit subscription has correct temporal parameters check</h6>
<p>If the implicit subscription time boundaries do not cover the OIR's,
the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.308114Z)</p>
<h4>Expand the OIR while keeping the same implicit subscription test step</h4>
<p>Expand the previously created OIR's duration while explicitly specifying the implicit subscription that
was automatically created for it.</p>
<h5>Mutate OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.327622Z)</p>
<h5>🛑 The implicit subscription can be queried check</h5>
<p>The implicit subscription attached to the mutated OIR should be able to be queried.</p>
<p>If it cannot, the DSS is either improperly managing implicit subscriptions for OIRs, or failing to report the subscriptions relevant to an OIR,
in which case the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, respectively.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.331085Z)</p>
<h5>Correct temporal bounds</h5>
<p>This test step fragment validates the time-bounds of an implicit subscription
with respect to the OIRs it needs to cover.</p>
<h6>🛑 Implicit subscription has wide enough temporal parameters check</h6>
<p>If the implicit subscription's time boundaries do not cover every OIR attached to it, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Ensure that the attached implicit subscription has been expanded</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.332884Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.357035Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.360292Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.363433Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.349650Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.349609Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.367430Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.370128Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[21] ASTM SCD DSS: Operational Intent Reference Simple</h2>
<h3>Overview</h3>
<p>Verifies the behavior of a DSS for simple interactions pertaining to operational intent references.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the base entity ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> the client identity that will be used to create and update operational intent references.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which operational intent references will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.379950Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.377007Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.384824Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no entities with the known test IDs exists in the DSS.</p>
<h4>Create an operational intent reference test step</h4>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h5>🛑 Create operational intent reference query succeeds check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Create an operational intent reference to be used in this scenario.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.399557Z)</p>
<h3>Deletion requires correct OVN test case</h3>
<p>Ensures that a DSS will only delete OIRs when the correct OVN is presented.</p>
<h4>Attempt deletion with missing OVN test step</h4>
<p>This step verifies that an existing OIR cannot be deleted with a missing OVN.</p>
<h5>🛑 Request to delete OIR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing OIR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.401225Z)</p>
<h4>Attempt deletion with incorrect OVN test step</h4>
<p>This step verifies that an existing OIR cannot be deleted with an incorrect OVN.</p>
<h5>🛑 Request to delete OIR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing OIR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.407049Z)</p>
<h3>Mutation requires correct OVN test case</h3>
<p>Test DSS behavior when mutation requests are not providing the required OVN.</p>
<h4>Attempt mutation with missing OVN test step</h4>
<p>This step verifies that an existing OIR cannot be mutated with a missing OVN.</p>
<h5>🛑 Request to mutate OIR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing OIR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.412077Z)</p>
<h4>Attempt mutation with incorrect OVN test step</h4>
<p>This step verifies that an existing OIR cannot be mutated with an incorrect OVN.</p>
<h5>🛑 Request to mutate OIR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing OIR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.417267Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.444487Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.434729Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.434687Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.448416Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[22] ASTM SCD DSS: Constraint Reference Simple</h2>
<h3>Overview</h3>
<p>Verifies the behavior of a DSS for simple interactions pertaining to constraint references.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the base entity ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> the client identity that will be used to create and update constraint references.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which constraint references will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.456154Z)</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.453860Z)</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no entities with the known test IDs exists in the DSS.</p>
<h4>Create a constraint reference test step</h4>
<p>This test step fragment validates that a query to create a constraint reference with valid parameters succeeds</p>
<h5>🛑 Create constraint reference query succeeds check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>, the DSS API must allow callers to create a constraint reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>This step creates the constraint reference to be used in this scenario.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.465925Z)</p>
<h3>Deletion requires correct OVN test case</h3>
<p>Ensures that an existing CR can only be deleted when the correct OVN is provided.</p>
<h4>Attempt deletion with missing OVN test step</h4>
<p>This step verifies that an existing CR cannot be deleted with a missing OVN.</p>
<h5>🛑 Request to delete CR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing CR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.467302Z)</p>
<h4>Attempt deletion with incorrect OVN test step</h4>
<p>This step verifies that an existing CR cannot be deleted with an incorrect OVN.</p>
<h5>🛑 Request to delete CR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to delete an existing CR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.469512Z)</p>
<h3>Mutation requires correct OVN test case</h3>
<p>Ensures that an existing CR can only be mutated when the correct OVN is provided.</p>
<h4>Attempt mutation with missing OVN test step</h4>
<p>This step verifies that an existing CR cannot be mutated with a missing OVN.</p>
<h5>🛑 Request to mutate CR with empty OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing CR with a request that provided an empty OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.472713Z)</p>
<h4>Attempt mutation with incorrect OVN test step</h4>
<p>This step verifies that an existing CR cannot be mutated with an incorrect OVN.</p>
<h5>🛑 Request to mutate CR with incorrect OVN fails check</h5>
<p>If the DSS under test allows the qualifier to mutate an existing CR with a request that provided an incorrect OVN,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:40.475827Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.489078Z)</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.479998Z)</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.486816Z)</p>
<h2>[23] ASTM SCD DSS: Constraint Reference Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all CRUD operations on constraint references performed on a given DSS instance
are properly propagated to every other DSS instance participating in the deployment.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the constraint reference ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which constraint reference will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> to be used for this scenario.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.501451Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.497582Z)</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.495202Z)</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no constraint reference with the known test ID exists in the DSS.</p>
<h3>CR synchronization test case</h3>
<p>This test case creates an constraint reference on the main DSS, and verifies that it is properly synchronized to the other DSS instances.</p>
<p>It then goes on to mutate and delete it, each time confirming that all other DSSes return the expected results.</p>
<h4>Create CR validation test step</h4>
<h5>Create CR</h5>
<p>This test step fragment validates that:</p>
<ul>
<li>a query to create a constraint reference with valid parameters succeeds</li>
<li>the response to the query conforms to the OpenAPI specification</li>
<li>the content of the response reflects the created constraint reference</li>
</ul>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create a constraint reference with valid parameters succeeds</p>
<h6>🛑 Create constraint reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>, the DSS API must allow callers to create a constraint reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.509590Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that a constraint references creation returns a body in the correct format.</p>
<h6>🛑 Create constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.521020Z)</p>
<h6>🛑 Create constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects the created constraint reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Verify that an constraint reference can be created on the primary DSS.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.522144Z)</p>
<h5>CR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.521790Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.521838Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.521877Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.521913Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.521950Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.521983Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.522051Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.522015Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.522085Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.522117Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Verify that the constraint reference returned by the DSS under test is properly formatted and contains the expected content.</p>
<h4>Retrieve newly created CR test step</h4>
<p>Retrieve and validate synchronization of the created constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get CR query</h5>
<p>This test step fragment validates that constraint references can be read</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to retrieve an existing constraint reference with valid parameters succeeds.</p>
<h6>🛑 Get constraint reference by ID check</h6>
<p>If an existing constraint reference cannot successfully be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.526869Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.544403Z)</p>
<h6>Read response format</h6>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.538547Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.555873Z)</p>
<h6>🛑 Get constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects a constraint reference that was created earlier.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.539935Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.557238Z)</p>
<h5>Newly created CR can be consistently retrieved from all DSS instances check</h5>
<p>If the constraint retrieved from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1f</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.527884Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.545391Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.526936Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.544465Z)</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.526998Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.544530Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.527042Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.544574Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.527814Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.545322Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the created constraint reference.
Confirm that the constraint reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.527862Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.545369Z)</p>
<h5>CR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539330Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556587Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539393Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556640Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539448Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556703Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539504Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556761Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539553Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556817Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539608Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556872Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539708Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556975Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539661Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.556917Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539767Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.557031Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539812Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.557076Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Sanity check on the rest of the content and format of the response.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539908Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.557211Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Confirm that version and OIR are as expected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.539867Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.557150Z)</p>
<h4>Search for newly created CR test step</h4>
<p>Search for and validate synchronization of the created constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search CR</h5>
<p>This test step fragment validates that constraint references can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for constraint references with valid parameters succeeds.</p>
<h6>🛑 Successful constraint reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the CR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.561589Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.578936Z)</p>
<h6>Response format</h6>
<p>This test step fragment validates that constraint references search responses are properly formatted.</p>
<h6>🛑 Search constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check response format.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.573155Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.590671Z)</p>
<h6>🛑 Expected constraint reference is in search results check</h6>
<p>If the existing constraint reference is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.573935Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591420Z)</p>
<h6>🛑 Search constraint reference response content is correct check</h6>
<p>A successful constraint reference search query is expected to return a body, the content of which reflects any constraint reference present in the searched area.
This includes the previously created constraint reference, which should accurately represent the constraint reference as it was requested. If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that search query succeeds and the response is well-formed.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.574609Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591934Z)</p>
<h5>Newly created CR can be consistently searched for from all DSS instances check</h5>
<p>If the constraint searched from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1e</a></strong>,
, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.562556Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.579894Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.561656Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.579004Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.561721Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.579071Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.561765Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.579116Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.562487Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.579825Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the constraint in relevant search results.
Confirm that the constraint reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.562534Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.579872Z)</p>
<h5>CR content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574009Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591474Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574064Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591519Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574120Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591560Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574176Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591600Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574221Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591639Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574275Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591677Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574375Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591754Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574321Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591714Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574437Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591794Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574489Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591832Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574588Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591913Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.574544Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.591869Z)</p>
<h4>Mutate CR test step</h4>
<p>This test step mutates the previously created constraint reference to verify that the DSS reacts properly: notably, it checks that the constraint reference version is updated,
including for changes that are not directly visible, such as changing the constraint reference's footprint.</p>
<h5>Update CR</h5>
<p>This test step fragment validates that constraint references can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update a constraint reference with valid parameters succeeds.</p>
<h6>🛑 Mutate constraint reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>, the DSS API must allow callers to mutate a constraint reference.</p>
<p>Check query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.601088Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that updates to constraint references return a body in the correct format.</p>
<h6>🛑 Mutate constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.611855Z)</p>
<h6>🛑 Mutate constraint reference response content is correct check</h6>
<p>A successful constraint reference mutation query is expected to return a well-defined body, the content of which reflects the updated constraint reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Confirm that the constraint reference can be mutated.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612999Z)</p>
<h5>Validate CR</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612567Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612615Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612653Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612690Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612726Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612760Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612831Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612794Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612873Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612909Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Verify that the constraint reference returned by the DSS is properly formatted and contains the correct content.</p>
<h5>CR Versions are correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been mutated.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Mutated constraint reference version is updated check</h6>
<p>Following a mutation, the DSS needs to update the constraint reference version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612979Z)</p>
<h6>⚠️ Mutated constraint reference OVN is updated check</h6>
<p>Following a mutation, the DSS needs to update the constraint reference OVN, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Verify that the constraint reference's version fields have been updated.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.612944Z)</p>
<h4>Retrieve updated CR test step</h4>
<p>Retrieve and validate synchronization of the updated constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get CR query</h5>
<p>This test step fragment validates that constraint references can be read</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to retrieve an existing constraint reference with valid parameters succeeds.</p>
<h6>🛑 Get constraint reference by ID check</h6>
<p>If an existing constraint reference cannot successfully be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.616430Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.632627Z)</p>
<h6>Read response format</h6>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.627570Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.645593Z)</p>
<h6>🛑 Get constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects a constraint reference that was created earlier.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that read query succeeds and the response is well-formed.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.628807Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646838Z)</p>
<h5>Updated CR can be consistently retrieved from all DSS instances check</h5>
<p>If the constraint retrieved from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1d</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.617406Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.633646Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.616492Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.632691Z)</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.616555Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.632753Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.616597Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.632797Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.617337Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.633577Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the updated constraint reference.
Confirm that the constraint reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.617385Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.633625Z)</p>
<h5>CR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628310Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646366Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628364Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646419Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628422Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646462Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628464Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646501Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628504Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646542Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628542Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646580Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628623Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646665Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628582Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646618Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628662Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646706Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628699Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646744Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628786Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646817Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.628747Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.646781Z)</p>
<h4>Search for updated CR test step</h4>
<p>Search for and validate synchronization of the updated constraint at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search CR</h5>
<p>This test step fragment validates that constraint references can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for constraint references with valid parameters succeeds.</p>
<h6>🛑 Successful constraint reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the CR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.651472Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.669499Z)</p>
<h6>Response format</h6>
<p>This test step fragment validates that constraint references search responses are properly formatted.</p>
<h6>🛑 Search constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check response format.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.663544Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.681302Z)</p>
<h6>🛑 Expected constraint reference is in search results check</h6>
<p>If the existing constraint reference is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664301Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682331Z)</p>
<h6>🛑 Search constraint reference response content is correct check</h6>
<p>A successful constraint reference search query is expected to return a body, the content of which reflects any constraint reference present in the searched area.
This includes the previously created constraint reference, which should accurately represent the constraint reference as it was requested. If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that search query succeeds and the response is well-formed.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.664813Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682860Z)</p>
<h5>Updated CR can be consistently searched for from all DSS instances check</h5>
<p>If the constraint searched from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1e</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.652448Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.670465Z)</p>
<h5>CR is synchronized</h5>
<p>This test step fragment validates that constraint references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Constraint reference can be found at every DSS check</h6>
<p>If the previously created or mutated constraint reference cannot be found at a DSS, either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated constraint reference general area is synchronized check</h6>
<p>When querying a secondary DSS for constraints in the planning area that contains the propagated
constraint, if the propagated constraint is not contained in the response, then the general area in which the
propagated constraint is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fail to properly one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.651547Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.669570Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct manager check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct manager,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.651612Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.669635Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct USS base URL check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.651656Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.669681Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct start time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct start time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.652378Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.670396Z)</p>
<h6>⚠️ Propagated constraint reference contains the correct end time check</h6>
<p>If the constraint reference returned by a DSS to which the constraint reference was synchronized to does not contain the correct end time,
either one of the instances at which the constraint reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the constraint in relevant search results.
Confirm that the constraint reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.652427Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.670443Z)</p>
<h5>CR content is correct</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664356Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682400Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664400Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682445Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664440Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682487Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664480Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682527Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664520Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682569Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664557Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682607Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664634Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682687Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664594Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682645Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664673Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682726Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664710Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682764Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<h5>CR version is correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664791Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682839Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.664747Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.682801Z)</p>
<h4>Delete CR test step</h4>
<p>Attempt to delete the constraint reference in various ways and ensure that the DSS reacts properly.</p>
<p>This also checks that the constraint reference data returned by a successful deletion is correct.</p>
<h5>Delete CR</h5>
<p>This test step fragment validates that constraint references can be deleted</p>
<h6>🛑 Delete constraint reference query succeeds check</h6>
<p>A query to delete a constraint reference, by its owner and when the correct OVN is provided, should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.691528Z)</p>
<h6>Response format</h6>
<p>This test step fragment validates that a constraint references deletion returns a body in the correct format.</p>
<h6>🛑 Delete constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.702657Z)</p>
<h6>🛑 Delete constraint reference response content is correct check</h6>
<p>A successful constraint reference deletion query is expected to return a body, the content of which reflects the constraint reference at the moment of deletion.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Confirm that an constraint reference can be deleted.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703787Z)</p>
<h5>Validate CR</h5>
<p>This test step fragment attempts to validate the content of a single constraint reference returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Returned constraint reference ID is correct check</h6>
<p>If the returned constraint reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703360Z)</p>
<h6>⚠️ Returned constraint reference has a manager check</h6>
<p>If the returned constraint reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703407Z)</p>
<h6>⚠️ Returned constraint reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the constraint at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703445Z)</p>
<h6>⚠️ Returned constraint reference has an USS base URL check</h6>
<p>If the returned constraint reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703481Z)</p>
<h6>⚠️ Returned constraint reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at constraint reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703519Z)</p>
<h6>⚠️ Returned constraint reference has a start time check</h6>
<p>If the returned constraint reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703553Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703623Z)</p>
<h6>⚠️ Returned constraint reference has an end time check</h6>
<p>Constraint references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703586Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703659Z)</p>
<h6>⚠️ Returned constraint reference has an OVN check</h6>
<p>If the returned constraint reference has no OVN defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703692Z)</p>
<h6>⚠️ Returned constraint reference has a version check</h6>
<p>If the returned constraint reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong> is not respected.</p>
<p>Verify that the constraint reference returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<h5>CR Versions are correct</h5>
<p>This test step fragment attempts to validate a single constraint reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/cr_validator.py">cr_validator.py</a> class.</p>
<h6>⚠️ Non-mutated constraint reference keeps the same version check</h6>
<p>If the version of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703758Z)</p>
<h6>⚠️ Non-mutated constraint reference keeps the same OVN check</h6>
<p>If the OVN of the constraint reference is updated without there having been any mutation of the constraint reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Verify that the constraint reference's version fields are as expected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.703725Z)</p>
<h4>Query deleted CR test step</h4>
<p>Attempt to query and search for the deleted constraint reference in various ways</p>
<h5>Get CR query</h5>
<p>This test step fragment validates that constraint references can be read</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to retrieve an existing constraint reference with valid parameters succeeds.</p>
<h6>🛑 Get constraint reference by ID check</h6>
<p>If an existing constraint reference cannot successfully be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.706636Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.711760Z)</p>
<h6>Read response format</h6>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format</p>
<h6>🛑 Get constraint reference response content is correct check</h6>
<p>A successful constraint reference creation query is expected to return a body, the content of which reflects a constraint reference that was created earlier.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/cr/validate">validate</a> fragments.</p>
<p>Check that read query succeeds.</p>
<h5>🛑 Deleted CR cannot be retrieved from all DSS instances check</h5>
<p>If a DSS returns an constraint reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the constraint reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3b</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:40.706682Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:40.711805Z)</p>
<h5>Search CR</h5>
<p>This test step fragment validates that a query to search for constraint references with valid parameters succeeds.</p>
<h6>🛑 Successful constraint reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the CR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.709640Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.714503Z)</p>
<h5>🛑 Deleted CR cannot be searched for from all DSS instances check</h5>
<p>If a DSS returns an constraint reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the constraint reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3a</a></strong>,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:40.709686Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:40.714560Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.726122Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.722071Z)</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.718919Z)</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[24] ASTM SCD DSS: USS Availability Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all CRUD operations for USS availabilities on a given DSS instance
are properly propagated to every other DSS instance participating in the deployment.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which USS availabilities are created, modified and deleted.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that USS availabilities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> to be used for this scenario: it contains the identifier of the USS
for which availabilities will be updated.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<p>For the setup of this test case, the scenario ensures that the availability for the USS specified in the <code>client_identity</code> resource
is <code>Unknown</code>, which is the default expected state when nothing else is known.</p>
<h4>Ensure test USS has Unknown availability test step</h4>
<p>This step ensures that the scenario starts from a state where the USS availability is <code>Unknown</code>.</p>
<h5>🛑 USS Availability can be requested check</h5>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.731763Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.734722Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.737626Z)</p>
<h5>🛑 USS Availability can be set to Unknown check</h5>
<p>A valid request to set the availability of a USS to <code>Unknown</code> should be accepted by the DSS,
otherwise it is failing to implement the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h3>USS Availability synchronization test case</h3>
<p>Checks that updates to a USS availability on one DSS instance are properly propagated to every other DSS instance in the deployment.</p>
<p>Ensures that this is true for every possible availability state.</p>
<h4>Update USS availability on primary DSS to Normal test step</h4>
<h5>Availability can be updated</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h4>Check Normal USS availability broadcast test step</h4>
<h5>Availability can be read</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.744928Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.747439Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h4>Update USS Availability on primary DSS to Down test step</h4>
<h5>Availability can be updated</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h4>Check Down USS availability broadcast test step</h4>
<h5>Availability can be read</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.755200Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.757808Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h4>Update USS availability on primary DSS to Unknown test step</h4>
<h5>Availability can be updated</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h4>Check Unknown USS availability broadcast test step</h4>
<h5>Availability can be read</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.764477Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.766972Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h3>Unknown USS state is reported as Unknown test case</h3>
<p>Checks that if queried for a USS it does not know about, any DSS will return an <code>Unknown</code> availability.</p>
<h4>Query all DSS instances with an unknown USS identifier test step</h4>
<p>This test step requests the availability for a USS identifier that is not known to any DSS instance, and expects
to receive an <code>Unknown</code> availability along with an unset version. This should be true for every DSS that is part of the same deployment.</p>
<h5>Request availability</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.772159Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.774529Z)</p>
<h5>🛑 Main DSS instance reports Unknown availability check</h5>
<p>If the primary DSS instance does not return an <code>Unknown</code> availability for a USS identifier that has not received any updates,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.769531Z)</p>
<h5>⚠️ Availability version for an unknown USS should be empty check</h5>
<p>If the primary DSS instance reports a non-empty version for the availability of an USS identifier that should not be known to the DSS,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.769579Z)</p>
<h5>Consistent availability</h5>
<h6>🛑USS Availability is consistent across every DSS instance check</h6>
<p>If the reported availability for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3a</a></strong>, if the USS identifier is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3b</a></strong>, if the USS availability is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑USS Availability version is consistent across every DSS instance check</h6>
<p>If the reported availability version for a USS is not consistent, across a set of DSS instances, with the value that was previously read or set on an arbitrary DSS instance,
either the DSS through which the value was set or the one through which the values was retrieved is failing to meet at least one of these requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,3c</a></strong>, if the USS availability version is not properly synced;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS returns API calls before having committed the changes to the underlying distributed store.</p>
<p>As a consequence, the DSS also fails to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,6</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h3>Cleanup</h3>
<h5>⚠️ USS Availability can be requested check</h5>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.776903Z)</p>
<h5>⚠️ USS Availability can be set to Unknown check</h5>
<p>A valid request to set the availability of a USS to <code>Unknown</code> should be accepted by the DSS,
otherwise it is failing to implement the OpenAPI spec referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h2>[25] ASTM F3548-21 UTM DSS Operational Intent Reference State Transitions</h2>
<h3>Overview</h3>
<p>This scenario ensures that a DSS will only let the owner of an operational intent reference modify it.</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>A <code>resources.flight_planning.FlightIntentsResource</code> containing the flight intents to be used in this scenario:</p>
<p>This scenario expects to find at least one flight intent in this resource. It will use its extents to create and mutate an operational intent reference,
but ignore any specified states, as this scenario will iterate over all allowed states.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>dss</h4>
<p>A <code>resources.astm.f3548.v21.DSSInstanceResource</code> pointing to the DSS instance to test for this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p>A <code>resources.interuss.IDGeneratorResource</code> that will be used to generate the IDs of the operational intent references created in this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h3>Setup test case</h3>
<p>Makes sure that the DSS is in a clean and expected state before running the test, and that the passed resources work as required.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.784011Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.791666Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.795954Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>No OIR exists</h5>
<h6>⚠️ Any existing operational intent reference has been removed check</h6>
<p>If, after cleanup, one or more operational intent reference are still present at the DSS, this scenario cannot proceed.</p>
<p>This scenario is able to remove any operational intent reference that belongs to the configured credentials, but it cannot remove references
that belong to other credentials.</p>
<p>A regular failure of this check indicates that other scenarios might not properly clean up their resources, or that the <em>Prepare Flight Planners</em>
scenario should be moved in front of the present one.</p>
<p>If this check fails, the rest of the scenario is entirely skipped.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.796004Z)</p>
<h3>Attempt unauthorized state creation test case</h3>
<p>This test case attempts to create an operational intent reference with a state that would require the <code>utm.conformance_monitoring_sa</code> scope while only using
the <code>utm.strategic_coordination</code> scope.</p>
<h4>Attempt direct creation with unauthorized state test step</h4>
<p>This test step attempts to directly create an operational intent reference with a state that is not allowable.</p>
<p>The creation of such an entity is expected to fail for two reasons:</p>
<ul>
<li>the initial state of any OIR must be <code>Accepted</code></li>
<li>Without the <code>utm.conformance_monitoring_sa</code>, a client is not allowed to request an Off-nominal state.</li>
</ul>
<h5>🛑 Direct Nonconforming state creation is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to create an operational intent reference in the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.801060Z)</p>
<h5>🛑 Direct Contingent state creation is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to create an operational intent reference in the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.803359Z)</p>
<h3>Attempt unauthorized state transitions test case</h3>
<p>This test case attempts to transition an existing operational intent reference to a state that would require the <code>utm.conformance_monitoring_sa</code> scope while only using
the <code>utm.strategic_coordination</code> scope.</p>
<h4>Create an Accepted OIR test step</h4>
<p>This step sets up an operational intent reference in the <code>Accepted</code> state.</p>
<h5>🛑 Creation of an Accepted OIR is allowed check</h5>
<p>If the DSS does not allow a client with the <code>utm.strategic_coordination</code> scope to create an operational intent reference in the <code>Accepted</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.820773Z)</p>
<h4>Attempt transition of an accepted operational intent reference to an unauthorized state test step</h4>
<p>This test step attempts to transition an existing operational intent reference to a state it should not be allowed to when using the ``utm.strategic_coordination` scope.</p>
<h5>🛑 Transition from Accepted to Nonconforming is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Accepted</code> state to the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.822710Z)</p>
<h5>🛑 Transition from Accepted to Contingent is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Accepted</code> state to the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.824480Z)</p>
<h4>Transition the OIR to Activated test step</h4>
<p>This step transitions the operational intent reference to the <code>Activated</code> state.</p>
<h5>🛑 Transition from Accepted to Activated is allowed check</h5>
<p>If the DSS does not allow a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Accepted</code> state to the <code>Activated</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.840141Z)</p>
<h4>Attempt transition of an activated operational intent reference to an unauthorized state test step</h4>
<h5>🛑 Transition from Activated to Nonconforming is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Activated</code> state to the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.842201Z)</p>
<h5>🛑 Transition from Activated to Contingent is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Activated</code> state to the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.843797Z)</p>
<h4>Transition the OIR to Ended test step</h4>
<h5>🛑 Transition from Activated to Ended is allowed check</h5>
<p>If the DSS does not allow a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Activated</code> state to the <code>Ended</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.860061Z)</p>
<h4>Attempt transition of an ended operational intent reference to an unauthorized state test step</h4>
<h5>🛑 Transition from Ended to Nonconforming is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Ended</code> state to the <code>Nonconforming</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.862024Z)</p>
<h5>🛑 Transition from Ended to Contingent is forbidden check</h5>
<p>If the DSS allows a client with the <code>utm.strategic_coordination</code> scope to transition an operational intent reference from the <code>Ended</code> state to the <code>Contingent</code> state,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0100</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.863637Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.867504Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.877575Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[26] ASTM SCD DSS: Subscription and entity deletion interaction</h2>
<h3>Overview</h3>
<p>Create and mutate subscriptions as well as entities, and verify that the DSS handles notifications and expiry correctly.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>utm_client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> provides the identity that will be used to interact with the DSS.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.887590Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.889906Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.892023Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.885235Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.894848Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.896957Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.899046Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.901225Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions and OIRs with the known test IDs exists in the DSS deployment.</p>
<h3>Subscription deletion is reflected on all DSS instances test case</h3>
<p>This test case verifies that after a subscription is deleted from a DSS instance, it cannot be retrieved from any other
DSS instance.</p>
<h4>Create a subscription at every DSS in sequence test step</h4>
<p>This test step will create a new subscription at every DSS, in sequence.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create subscription on a DSS instance</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the subscription creation succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.908857Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.916776Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.924865Z)</p>
<h4>Delete a subscription at every DSS in sequence test step</h4>
<p>This test step will delete the freshly created subscription at every DSS, in sequence.
It then verifies that the subscription has been deleted from all DSS instances.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Delete subscription on a DSS instance</h5>
<p>This test step fragment validates that a query to remove a subscription succeeds.</p>
<h6>🛑 Subscription can be deleted check</h6>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that the subscription deletion succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.931987Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.943430Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.954102Z)</p>
<h5>Get subscription query from all other DSS instances succeeds</h5>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that the subscription retrieval from all DSS instance succeeds.
It is expected to be not found, but that is validated in the check below.</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.934978Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.937719Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.945588Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.947643Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.956526Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.958807Z)</p>
<h5>🛑 Subscription does not exist on all other DSS instances check</h5>
<p>The subscription deleted on a DSS instance must have been removed from all other DSS instances.</p>
<p>If the subscription still exists on one of the other DSS instances, one of the instances fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,5a</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:40.935023Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:40.937778Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.945631Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:40.947686Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:40.956584Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:40.958853Z)</p>
<h3>OIR creation and modification does not trigger relevant notifications after subscription deletion test case</h3>
<p>This test case verifies that after a subscription is deleted, newly created or modified OIRs will not receive the
relevant subscriptions to notify from the DSS instance, regardless of which instance was used to create or modify the
entity.</p>
<h4>Create an OIR at every DSS in sequence test step</h4>
<p>This test step will create an operational intent reference at every DSS, in sequence, each time verifying that the DSS
does not require notification for any previously deleted subscription that intersects with the newly created OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the OIR creation query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.974700Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.991152Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.006897Z)</p>
<h5>🛑 DSS response does not contain the deleted subscriptions check</h5>
<p>The response from a DSS to a valid OIR creation request is expected to contain any relevant subscription for the OIR's
extents. This does not include subscriptions deleted earlier.</p>
<p>If the DSS includes a deleted subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,5b</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:40.974754Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:40.991208Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.006952Z)</p>
<h4>Modify an OIR at every DSS in sequence test step</h4>
<p>This test step will modify an operational intent reference at every DSS, in sequence, each time verifying that the DSS
does not require notification for any previously deleted subscription that intersects with the modified OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Modify OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check that the OIR modification query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.022526Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.037764Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.053108Z)</p>
<h5>🛑 DSS response does not contain the deleted subscriptions check</h5>
<p>The response from a DSS to a valid OIR modification request is expected to contain any relevant subscription for the
OIR's extents. This does not include subscriptions deleted earlier.</p>
<p>If the DSS includes a deleted subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,5c</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.022587Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.037819Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.053194Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.098240Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.100507Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.103057Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.095879Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.073207Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.084745Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.095841Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.106111Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.108426Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.110693Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.112804Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[27] ASTM SCD DSS: Subscription and entity interaction</h2>
<h3>Overview</h3>
<p>Create and mutate subscriptions as well as entities, and verify that the DSS handles notifications and expiry correctly.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>utm_client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> provides the identity that will be used to interact with the DSS.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.119731Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.121848Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.124187Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.117475Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.127078Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.129322Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.131465Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.133524Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.135651Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions and OIRs with the known test IDs exists in the DSS deployment.</p>
<h3>OIR creation and modification trigger relevant notifications test case</h3>
<p>This test case verifies that newly created or modified OIRs will receive the relevant subscriptions to notify from the DSS instance,
regardless of which instance was used to create the entity.</p>
<h4>Create background subscription test step</h4>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h5>🛑 Create subscription query succeeds check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Sets up the subscription that cover the planning area from 'now' to 20 minutes in the future, and which will be used as part of the interaction tests.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.143698Z)</p>
<h4>Create an OIR at every DSS in sequence test step</h4>
<p>This test step will create an operational intent reference and assorted subscription at every DSS, in sequence, each time verifying that the DSS
requires notifications for any previously established subscription that intersects with the newly created OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create OIR</h5>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the OIR creation query succeeds</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.160217Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.178645Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.196266Z)</p>
<h5>🛑 DSS response contains the expected background subscription check</h5>
<p>The response from a DSS to a valid OIR creation request is expected to contain any relevant subscription for the OIR's extents.
This includes the subscription created earlier, as it is designed to intersect with the OIRs being created.</p>
<p>If the DSS omits the intersecting subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4b</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.160288Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.178714Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.196335Z)</p>
<h5>🛑 DSS returns the implicit subscriptions from intersecting OIRs check</h5>
<p>The response from a DSS to a valid OIR creation request is expected to contain any relevant subscription for the OIR's extents.
This includes any implicit subscription previously created on the DSS as part of a previously created OIR.</p>
<p>If the DSS omits any of the implicit subscriptions belonging to an OIR previously created on another DSS (which are designed to all intersect),
any of the DSSes at which an earlier OIR was created, or the DSS at which the current OIR has been created,
are in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4b</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss, uss2_dss (2024-11-18T16:33:41.160326Z)</p>
<p>✅ uss2_dss, uss1_dss, uss2_dss (2024-11-18T16:33:41.178754Z)</p>
<p>✅ uss2_dss, uss1_dss, uss2_dss (2024-11-18T16:33:41.196375Z)</p>
<h4>Modify an OIR at every DSS in sequence test step</h4>
<p>This test step will modify the previously created operational intent reference and assorted subscription at every DSS, in sequence, each time verifying that the DSS
requires notifications for any previously established subscription that intersects with the modified OIR.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Modify OIR</h5>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check that the OIR modification query succeeds</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.213357Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.230335Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.246691Z)</p>
<h5>🛑 DSS response contains the expected background subscription check</h5>
<p>The response from a DSS to a valid OIR modification request is expected to contain any relevant subscription for the OIR's extents.
This includes the subscription created earlier, as it is designed to intersect with the OIRs being modified.</p>
<p>If the DSS omits the intersecting subscription, it fails to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4c</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.213427Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.230403Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.246768Z)</p>
<h5>🛑 DSS returns the implicit subscriptions from intersecting OIRs check</h5>
<p>The response from a DSS to a valid OIR modification request is expected to contain any relevant subscription for the OIR's extents.
This includes any implicit subscription previously created on the DSS as part of a previously created OIR.</p>
<p>If the DSS omits any of the implicit subscriptions belonging to an OIR previously created over time range A on another DSS (which are designed to all intersect),
any of the DSSes at which an earlier OIR was created, or the DSS at which the current OIR has been modified,
are in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4c</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss, uss2_dss (2024-11-18T16:33:41.213489Z)</p>
<p>✅ uss2_dss, uss1_dss, uss2_dss (2024-11-18T16:33:41.230447Z)</p>
<p>✅ uss2_dss, uss1_dss, uss2_dss (2024-11-18T16:33:41.246821Z)</p>
<h3>Subscription creation returns relevant OIRs test case</h3>
<p>This test case checks that, when a newly created subscription intersects with an existing OIR and that the subscription is intended for operational intent references,
the DSS includes the relevant OIRs in the response to the creation.</p>
<h4>Create a subscription at every DSS in sequence test step</h4>
<p>This test step will create a new subscription at every DSS, in sequence, each time verifying that the DSS
returns any OIRs that intersect with the newly created subscription.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Create subscription on a DSS instance</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check that the subscription creation succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.256805Z)</p>
<h5>🛑 DSS response contains the expected OIRs check</h5>
<p>The response from a DSS to a valid subscription creation request is expected to contain any relevant OIRs for the subscription's extents if the subscription had the <code>notify_for_op_intents</code> flag set to <code>true</code>.</p>
<p>If the DSS omits the intersecting OIR, it fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4a</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.256864Z)</p>
<h5>Get subscription query from all other DSS instances succeeds</h5>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.260820Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.264769Z)</p>
<h5>🛑 Subscription may be retrieved from all other DSS instances check</h5>
<p>The subscription created on a DSS instance must be retrievable from all other DSS instances.</p>
<p>If the subscription does not exist on one of the other DSS instances, one of the instances fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4a</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:41.260869Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:41.264819Z)</p>
<h3>Expiration of subscriptions removes them test case</h3>
<p>This test case validates that expired subscriptions (created explicitly) are removed from all DSS instances.
To validate this requirement, the subscriptions that were previously created at each DSS instance are modified so that they expire shortly after the modification.
Then it is checked that all the associated subscriptions were removed from all the DSS instances by searching for them in their planning area.
Do note that they are not queried directly, as it is deemed acceptable for expired subscription that were not explicitly deleted to still be retrievable.</p>
<h4>Expire explicit subscriptions at every DSS in sequence test step</h4>
<p>This test step will modify explicit subscriptions that were previously created at each DSS instance so that they expire shortly after the modification.</p>
<p>Note that this step is run once for each involved DSS (that is, once for the primary DSS and once for every secondary DSS)</p>
<h5>Modify subscription on a DSS instance so that it expires soon</h5>
<p>This test step fragment validates that a query to update a subscription succeeds.</p>
<h6>🛑 Subscription can be mutated check</h6>
<p>If a subscription cannot be updated with a valid set of parameters, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that the subscription modifications succeed and wait for them to expire.</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.309114Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:41.316807Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:41.324302Z)</p>
<h5>Search for subscriptions from all other DSS instances succeeds</h5>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check that query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.333968Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.346278Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.358726Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.370995Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.384053Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.396345Z)</p>
<h5>🛑 Subscription does not exist on all other DSS instances check</h5>
<p>The explicit subscription expired on a DSS instance must have been removed from all other DSS instances.</p>
<p>If the subscription still exists on one of the other DSS instances, one of the instances fails to comply with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,4d</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:48.338445Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:48.350811Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.363203Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.376174Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:48.388457Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:48.400867Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.452424Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.454696Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.465418Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.449927Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.422507Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.436084Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.449886Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.469437Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.474374Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.485787Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.489570Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.500813Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.511322Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.483025Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.497508Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.508014Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.518831Z)</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[28] ASTM SCD DSS: Operational Intent Reference Key Validation</h2>
<h3>Overview</h3>
<p>Verifies that a DSS requires from a client creating or updating operational intent references that they
provide all OVNs for all currently relevant entities.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the base entity ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> the client identity that will be used to create and update operational intent references.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which operational intent references will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.527472Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.529648Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.531744Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.524976Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.535394Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no entities with the known test IDs exists in the DSS.</p>
<h3>Key validation on creation test case</h3>
<p>This test case will create multiple operational intent references and verify that the <code>key</code> field
of the parameters to create or update an operational intent reference is properly validated.</p>
<p>That is: the DSS should require that the client provides the OVNs for each entity that is in the vicinity,
both geographically and temporally, of the client's operational intent reference.</p>
<h4>Create first OIR test step</h4>
<p>This step creates one operational intent references. As no other operational intent reference is present,
the <code>key</code> field may remain empty.</p>
<h5>🛑 First operational intent reference in area creation query succeeds check</h5>
<p>With no potentially conflicting entity present, the DSS is expected to allow the creation of an operational intent without
the client specifying any OVN in the <code>key</code> field.</p>
<p>If the DSS rejects a well-formed request to create the operational intent reference, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.550579Z)</p>
<h4>Create second non-overlapping OIR test step</h4>
<p>This step creates a second operational intent references that does not overlap in time with the first, and
should therefore not require any entry in the <code>key</code> field.</p>
<h5>🛑 Second, non-overlapping operational intent reference creation succeeds check</h5>
<p>With a single existing OIR in the area that is not overlapping in time, the DSS is expected to allow the creation of an operational intent without
the client specifying any OVN in the <code>key</code> field.</p>
<p>If the DSS rejects a well-formed request to create the operational intent reference, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.564319Z)</p>
<h4>Attempt OIR creation overlapping with first OIR test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with the first of the previously created OIR,
and expect the DSS to require its OVN to be provided in the <code>key</code> field.</p>
<p>This step will validate the response body for the <code>HTTP 409</code> error response from the DSS when it contains the optional <code>missing_operational_intents</code> field.</p>
<h5>Non de-conflicted request fails</h5>
<p>This test step fragment validates that requests for operational intent reference creation that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Create operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the creation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2a</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:48.574497Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.587055Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Checks that an attempt to create an OIR without specifying the OVN of the already existing and overlapping OIR fails.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.587947Z)</p>
<h4>Attempt OIR creation overlapping with second OIR test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with the second of the previously created OIR,
and expect the DSS to require its OVN to be provided in the <code>key</code> field.</p>
<p>This step will validate the response body for the <code>HTTP 409</code> error response from the DSS when it contains the optional <code>missing_operational_intents</code> field.</p>
<h5>Non de-conflicted request fails</h5>
<p>This test step fragment validates that requests for operational intent reference creation that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Create operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the creation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2a</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:48.597639Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.608156Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Checks that an attempt to create an OIR without specifying the OVN of the already existing and overlapping OIR fails.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.609015Z)</p>
<h4>Attempt OIR creation overlapping with both OIRs test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with both of the previously created OIRs,
and expect the DSS to require their OVNs to be provided in the <code>key</code> field.</p>
<p>This step will validate the response body for the <code>HTTP 409</code> error response from the DSS when it contains the optional <code>missing_operational_intents</code> field.</p>
<h5>Non de-conflicted creation request fails</h5>
<p>This test step fragment validates that requests for operational intent reference creation that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Create operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the creation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2a</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:48.619419Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.630523Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Checks that an attempt to create an OIR without specifying the OVNs of the already existing and overlapping OIRs fails.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.631995Z)</p>
<h4>Attempt valid OIR creation overlapping with both OIRs test step</h4>
<p>This test step will attempt to create an operational intent reference that intersects with both of the previously created OIRs,
while providing the required OVNs in the <code>key</code> field.</p>
<p>After this test step succeeds, three OIRs are expected to exist in the DSS, with one intersecting with the two others.</p>
<h5>🛑 Create operational intent reference with proper OVNs succeeds check</h5>
<p>If the DSS prevents the creation of an operational intent reference that is providing all required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.646596Z)</p>
<h3>Key validation on mutation test case</h3>
<p>This test case will update multiple operational intent references and verify that the <code>key</code> field
of the parameters to create or update an operational intent reference is properly validated.</p>
<p>That is: the DSS should require that the client provides the OVNs for each entity that is in the vicinity,
both geographically and temporally, of the client's operational intent reference.</p>
<h4>Attempt mutation with both OVNs missing test step</h4>
<p>This test step will attempt to mutate the third previously created operational intent reference so that it keeps overlapping with the others,
while omitting their OVNs in the <code>key</code> field.</p>
<p>The expectation is that the DSS will require the two missing OVNs.</p>
<h5>Non de-conflicted mutation request fails</h5>
<p>This test step fragment validates that requests for operational intent references updates that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Mutate operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the mutation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2b</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:48.659690Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.670644Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.671938Z)</p>
<h4>Attempt mutation with first OVN missing test step</h4>
<p>This test step will attempt to mutate the third previously created operational intent reference so that it keeps overlapping with the others,
while omitting the first OVN in the <code>key</code> field.</p>
<p>The expectation is that the DSS will require the missing OVN.</p>
<h5>Non de-conflicted mutation request fails</h5>
<p>This test step fragment validates that requests for operational intent references updates that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Mutate operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the mutation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2b</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:48.682197Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.693341Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.694154Z)</p>
<h4>Attempt mutation to overlap with the first OIR test step</h4>
<p>This test step will attempt to mutate the third previously created operational intent reference so that it overlaps with the first one,
while omitting the first OVN in the <code>key</code> field.</p>
<p>The expectation is that the DSS will require the missing OVN.</p>
<h5>Non de-conflicted mutation request fails</h5>
<p>This test step fragment validates that requests for operational intent references updates that
don't show that they have been de-conflicted are rejected with the proper error.</p>
<h6>🛑 Mutate operational intent reference with missing OVN fails check</h6>
<p>If the DSS allows the mutation of an operational intent reference that is missing the required OVNs for other entities that exist in its geo-temporal vicinity,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,2b</a></strong></p>
<p>✅ uss2_dss (2024-11-18T16:33:48.704624Z)</p>
<h6>🛑 Failure response due to conflict has proper format check</h6>
<p>The DSS is expected to return a <code>HTTP 409</code> error response when the creation of an operational intent reference fails due to a conflict.
This response is expected to conform to the OpenAPI spec that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Should this not be the case, then the DSS is in violation of the aforementioned requirement.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.714948Z)</p>
<h6>🛑 Failure response due to conflict contains conflicting OIRs check</h6>
<p>If the DSS returns a <code>HTTP 409</code> error response due to a conflict, and the response body contains a <code>missing_operational_intents</code> field,
this field is expected to contain the conflicting OVNs.</p>
<p>If the field exists but does not contain the conflicting OVNs, then the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.715719Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.762825Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.765456Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.767923Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.760237Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.733805Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.747126Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.760169Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.771713Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[29] ASTM SCD DSS: Operational Intent Reference Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all CRUD operations on operational intent references performed on a given DSS instance
are properly propagated to every other DSS instance participating in the deployment.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the operational intent reference ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which operational intent reference will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>client_identity</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/communications/client_identity.py"><code>ClientIdentityResource</code></a> to be used for this scenario.</p>
<p>Provided by utm_client_identity in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.780826Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.778076Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.784731Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no operational intent reference with the known test ID exists in the DSS.</p>
<h3>OIR synchronization test case</h3>
<p>This test case creates an operational intent reference on the main DSS, and verifies that it is properly synchronized to the other DSS instances.</p>
<p>It then goes on to mutate and delete it, each time confirming that all other DSSes return the expected results.</p>
<h4>Create OIR validation test step</h4>
<h5>Create OIR</h5>
<p>This test step fragment validates that:</p>
<ul>
<li>a query to create an operational intent reference with valid parameters succeeds</li>
<li>the response to the query conforms to the OpenAPI specification</li>
<li>the content of the response reflects the created operational intent reference</li>
</ul>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create an operational intent reference with valid parameters succeeds</p>
<h6>🛑 Create operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to create an operational intent reference with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.798223Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that an operational intent references creation returns a body in the correct format.</p>
<h6>🛑 Create operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.810406Z)</p>
<h6>🛑 Create operational intent reference response content is correct check</h6>
<p>A successful operational intent reference creation query is expected to return a body, the content of which reflects the created operational intent reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<p>Verify that an operational intent reference can be created on the primary DSS.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811617Z)</p>
<h5>OIR Content is correct</h5>
<p>This test step fragment attempts to validate the content of a single operational intent reference returned by the DSS.</p>
<p>Fields that require different handling based on if the operational intent reference was mutated or not are covered</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Returned operational intent reference ID is correct check</h6>
<p>If the returned operational intent reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811302Z)</p>
<h6>⚠️ Returned operational intent reference has a manager check</h6>
<p>If the returned operational intent reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811349Z)</p>
<h6>⚠️ Returned operational intent reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the operational intent at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811387Z)</p>
<h6>⚠️ Returned operational intent reference state is correct check</h6>
<p>The returned state must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>⚠️ Returned operational intent reference has an USS base URL check</h6>
<p>If the returned operational intent reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811422Z)</p>
<h6>⚠️ Returned operational intent reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at operational intent reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811458Z)</p>
<h6>⚠️ Returned operational intent reference has a start time check</h6>
<p>If the returned operational intent reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811490Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811559Z)</p>
<h6>⚠️ Returned operational intent reference has an end time check</h6>
<p>Operational intent references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811523Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.811594Z)</p>
<h6>⚠️ Returned operational intent reference has a version check</h6>
<p>If the returned operational intent reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>Verify that the operational intent reference returned by the DSS under test is properly formatted and contains the expected content.</p>
<h4>Retrieve newly created OIR test step</h4>
<p>Retrieve and validate synchronization of the created operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get OIR query</h5>
<p>This test step fragment validates that a query to retrieve an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Get operational intent reference by ID check</h6>
<p>If an operational intent reference cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.837671Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.842850Z)</p>
<h5>Newly created OIR can be consistently retrieved from all DSS instances check</h5>
<p>If the operational intent retrieved from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1d</a></strong>,
, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.838622Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.843776Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.837736Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.842904Z)</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.837784Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.842951Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.837820Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.842996Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.837852Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.843030Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.838562Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.843717Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the created operational intent reference.
Confirm that the operational intent reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.838601Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.843755Z)</p>
<h4>Search for newly created OIR test step</h4>
<p>Search for and validate synchronization of the created operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search OIR</h5>
<p>This test step fragment validates that a query to search for operational intent references with valid parameters succeeds.</p>
<h6>🛑 Successful operational intent reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the OIR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.848458Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854070Z)</p>
<h5>Newly created OIR can be consistently searched for from all DSS instances check</h5>
<p>If the operational intent searched from a secondary DSS instance is not consistent with the newly created one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1a</a></strong>, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1c</a></strong>,
, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.849454Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854959Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.848511Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854120Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.848557Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854166Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.848592Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854200Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.848624Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854231Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.849395Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854899Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the operational intent in relevant search results.
Confirm that the operational intent reference that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.849433Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.854938Z)</p>
<h4>Mutate OIR test step</h4>
<p>This test step mutates the previously created operational intent reference to verify that the DSS reacts properly: notably, it checks that the operational intent reference version is updated,
including for changes that are not directly visible, such as changing the operational intent reference's footprint.</p>
<h5>Update OIR</h5>
<p>This test step fragment validates that operational intent references can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Mutate operational intent reference query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>, the DSS API must allow callers to mutate an operational intent reference.</p>
<p>Check query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.871675Z)</p>
<h6>Response Format</h6>
<p>This test step fragment validates that updates to operational intent references return a body in the correct format.</p>
<h6>🛑 Mutate operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.883878Z)</p>
<h6>🛑 Mutate operational intent reference response content is correct check</h6>
<p>A successful operational intent reference mutation query is expected to return a well-defined body, the content of which reflects the updated operational intent reference.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<p>Confirm that the operational intent reference can be mutated.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.885195Z)</p>
<h5>Validate OIR</h5>
<p>This test step fragment attempts to validate the content of a single operational intent reference returned by the DSS.</p>
<p>Fields that require different handling based on if the operational intent reference was mutated or not are covered</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Returned operational intent reference ID is correct check</h6>
<p>If the returned operational intent reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.884753Z)</p>
<h6>⚠️ Returned operational intent reference has a manager check</h6>
<p>If the returned operational intent reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.884802Z)</p>
<h6>⚠️ Returned operational intent reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the operational intent at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.884841Z)</p>
<h6>⚠️ Returned operational intent reference state is correct check</h6>
<p>The returned state must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>⚠️ Returned operational intent reference has an USS base URL check</h6>
<p>If the returned operational intent reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.884877Z)</p>
<h6>⚠️ Returned operational intent reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at operational intent reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.884915Z)</p>
<h6>⚠️ Returned operational intent reference has a start time check</h6>
<p>If the returned operational intent reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.884949Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.885021Z)</p>
<h6>⚠️ Returned operational intent reference has an end time check</h6>
<p>Operational intent references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.884983Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.885065Z)</p>
<h6>⚠️ Returned operational intent reference has a version check</h6>
<p>If the returned operational intent reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>Verify that the operational intent reference returned by the DSS is properly formatted and contains the correct content.</p>
<h5>OIR Versions are correct</h5>
<p>This test step fragment attempts to validate a single operational intent reference returned by the DSS,
usually after it has been mutated.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Mutated operational intent reference version is updated check</h6>
<p>Following a mutation, the DSS needs to update the operational intent reference version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.885166Z)</p>
<h6>⚠️ Mutated operational intent reference OVN is updated check</h6>
<p>Following a mutation, the DSS needs to update the operational intent reference OVN, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Verify that the operational intent reference's version fields have been updated.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.885102Z)</p>
<h4>Retrieve updated OIR test step</h4>
<p>Retrieve and validate synchronization of the updated operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Get OIR query</h5>
<p>This test step fragment validates that a query to retrieve an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Get operational intent reference by ID check</h6>
<p>If an operational intent reference cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.889245Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.893481Z)</p>
<h5>Updated OIR can be consistently retrieved from all DSS instances check</h5>
<p>If the operational intent retrieved from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1d</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.890179Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.894373Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.889298Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.893531Z)</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.889346Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.893577Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.889381Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.893611Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.889412Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.893642Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.890119Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.894316Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS provides direct access to the updated operational intent reference.
Confirm that the operational intent reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.890158Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.894353Z)</p>
<h4>Search for updated OIR test step</h4>
<p>Search for and validate synchronization of the updated operational intent at every DSS provided in <code>dss_instances</code>.</p>
<h5>Search OIR</h5>
<p>This test step fragment validates that a query to search for operational intent references with valid parameters succeeds.</p>
<h6>🛑 Successful operational intent reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the OIR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.898369Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.903407Z)</p>
<h5>Updated OIR can be consistently searched for from all DSS instances check</h5>
<p>If the operational intent searched from a secondary DSS instance is not consistent with the updated one on the
primary DSS instance, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1b</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,1c</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.899270Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.904317Z)</p>
<h5>OIR is synchronized</h5>
<p>This test step fragment validates that operational intent references are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Operational intent reference can be found at every DSS check</h6>
<p>If the previously created or mutated operational intent reference cannot be found at a DSS, either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<h6>🛑 Propagated operational intent reference general area is synchronized check</h6>
<p>When querying a secondary DSS for operational intents in the planning area that contains the propagated operational
intent, if the propagated operational intent is not contained in the response, then the general area in which the
propagated operational intent is located is not synchronized across DSS instances.
As such, either the primary or the secondary DSS fails to properly implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.898417Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.903461Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct manager check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct manager,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2b</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.898468Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.903506Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct USS base URL check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct USS base URL,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.898503Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.903541Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct state check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct state,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.898535Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.903572Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct start time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct start time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.899207Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.904258Z)</p>
<h6>⚠️ Propagated operational intent reference contains the correct end time check</h6>
<p>If the operational intent reference returned by a DSS to which the operational intent reference was synchronized to does not contain the correct end time,
either one of the instances at which the operational intent reference was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that each DSS returns the operational intent in relevant search results.
Confirm that the operational intent reference that was just updated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:48.899245Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.904296Z)</p>
<h4>Delete OIR test step</h4>
<p>Attempt to delete the operational intent reference in various ways and ensure that the DSS reacts properly.</p>
<p>This also checks that the operational intent reference data returned by a successful deletion is correct.</p>
<h5>Delete OIR</h5>
<p>This test step fragment validates that operational intent references can be deleted</p>
<h6>🛑 Delete operational intent reference query succeeds check</h6>
<p>A query to delete an operational intent reference, by its owner and when the correct OVN is provided, should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.915593Z)</p>
<h6>🛑 Delete operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.928063Z)</p>
<h6>🛑 Delete operational intent reference response content is correct check</h6>
<p>A successful operational intent reference deletion query is expected to return a body, the content of which reflects the operational intent reference at the moment of deletion.
If the content of the response does not correspond to what was requested, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>This check will usually be performing a series of sub-checks from the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/fragments/oir/validate">validate</a> fragments.</p>
<p>Confirm that an operational intent reference can be deleted.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929334Z)</p>
<h5>Validate OIR</h5>
<p>This test step fragment attempts to validate the content of a single operational intent reference returned by the DSS.</p>
<p>Fields that require different handling based on if the operational intent reference was mutated or not are covered</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Returned operational intent reference ID is correct check</h6>
<p>If the returned operational intent reference ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.928901Z)</p>
<h6>⚠️ Returned operational intent reference has a manager check</h6>
<p>If the returned operational intent reference has no manager defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.928948Z)</p>
<h6>⚠️ Returned operational intent reference manager is correct check</h6>
<p>The returned manager must correspond to the identity of the client that created the operational intent at the DSS,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.928986Z)</p>
<h6>⚠️ Returned operational intent reference state is correct check</h6>
<p>The returned state must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h6>⚠️ Returned operational intent reference has an USS base URL check</h6>
<p>If the returned operational intent reference has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929022Z)</p>
<h6>⚠️ Returned operational intent reference base URL is correct check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at operational intent reference creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929059Z)</p>
<h6>⚠️ Returned operational intent reference has a start time check</h6>
<p>If the returned operational intent reference has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929094Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929195Z)</p>
<h6>⚠️ Returned operational intent reference has an end time check</h6>
<p>Operational intent references need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929152Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929233Z)</p>
<h6>⚠️ Returned operational intent reference has a version check</h6>
<p>If the returned operational intent reference has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong> is not respected.</p>
<p>Verify that the operational intent reference returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<h5>OIR Versions are correct</h5>
<p>This test step fragment attempts to validate a single operational intent reference returned by the DSS,
usually after it has been created or to confirm it has not been mutated by an action.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/oir_validator.py">oir_validator.py</a> class.</p>
<h6>⚠️ Non-mutated operational intent reference keeps the same version check</h6>
<p>If the version of the operational intent reference is updated without there having been any mutation of the operational intent reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929307Z)</p>
<h6>⚠️ Non-mutated operational intent reference keeps the same OVN check</h6>
<p>If the OVN of the operational intent reference is updated without there having been any mutation of the operational intent reference, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Verify that the operational intent reference's version fields are as expected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.929272Z)</p>
<h4>Query deleted OIR test step</h4>
<p>Attempt to query and search for the deleted operational intent reference in various ways</p>
<h5>Get OIR query</h5>
<p>This test step fragment validates that a query to retrieve an operational intent reference with valid parameters succeeds.</p>
<h6>🛑 Get operational intent reference by ID check</h6>
<p>If an operational intent reference cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that read query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.931935Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.937205Z)</p>
<h5>🛑 Deleted OIR cannot be retrieved from all DSS instances check</h5>
<p>If a DSS returns an operational intent reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the operational intent reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3b</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:48.931978Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:48.937251Z)</p>
<h5>Search OIR</h5>
<p>This test step fragment validates that a query to search for operational intent references with valid parameters succeeds.</p>
<h6>🛑 Successful operational intent reference search query check</h6>
<p>If the DSS fails to let us search in the area for which the OIR was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check that search query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:48.935021Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.940063Z)</p>
<h5>🛑 Deleted OIR cannot be searched for from all DSS instances check</h5>
<p>If a DSS returns an operational intent reference that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the operational intent reference is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,2a</a></strong>
and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,3a</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:48.935067Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:48.940107Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.945795Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.943590Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.949260Z)</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[30] ASTM SCD DSS: Interfaces authentication</h2>
<h3>Overview</h3>
<p>Ensures that a DSS properly authenticates requests to all its endpoints.</p>
<p>Note that this does not cover authorization.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Note that to benefit from the maximum coverage, the DSS' AuthAdapterResource must be able to obtain credentials
for multiple scopes (so that a wrong scope may be used in place of the correct one) as well as an empty scope
(that is, provide credentials where the scope is an empty string).</p>
<p>This scenario will check for the scope's availability and transparently ignore checks that can't be conducted.</p>
<p>At least one of the following scopes needs to be available for this scenario to at least partially run:</p>
<ul>
<li><code>utm.strategic_coordination</code></li>
<li><code>utm.availability_arbitration</code></li>
<li><code>utm.constraint_management</code></li>
</ul>
<p>In order to verify each endpoint group, all scopes above must be available.</p>
<p>Optional scopes that will allow the scenario to provide additional coverage:</p>
<ul>
<li><code>&quot;&quot;</code> (empty string)</li>
</ul>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which entities will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.953233Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.968432Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.955584Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.958406Z)</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that the availability for the test identifier is set to <code>Unknown</code>.</p>
<h5>Availability can be requested</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑 USS Availability can be requested check</h6>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.961493Z)</p>
<h5>Availability can be set</h5>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h6>🛑USS Availability can be updated check</h6>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<h3>Endpoint authorization test case</h3>
<p>This test case ensures that the DSS properly authenticates requests to all its endpoints.</p>
<h4>Subscription endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received, it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.983819Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.992119Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.007689Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.018186Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.031915Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.040104Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.055537Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.064921Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.086487Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.096014Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.105109Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.114459Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.132699Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.149397Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.167922Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.183722Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.209097Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.225258Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.240120Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.253304Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.272492Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.282282Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.291937Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.301963Z)</p>
<h5>🛑 Create subscription with missing credentials check</h5>
<p>If the DSS under test allows the creation of a subscription without any credentials being presented, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:48.983864Z)</p>
<h5>🛑 Create subscription with invalid credentials check</h5>
<p>If the DSS under test allows the creation of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.007743Z)</p>
<h5>🛑 Create subscription with missing scope check</h5>
<p>If the DSS under test allows the creation of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.031962Z)</p>
<h5>🛑 Create subscription with incorrect scope check</h5>
<p>If the DSS under test allows the creation of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.055589Z)</p>
<h5>🛑 Create subscription with valid credentials check</h5>
<p>If the DSS does not allow the creation of a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.073332Z)</p>
<h5>🛑 Get subscription with missing credentials check</h5>
<p>If the DSS under test allows the fetching of a subscription without any credentials being presented, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.075472Z)</p>
<h5>🛑 Get subscription with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.088010Z)</p>
<h5>🛑 Get subscription with missing scope check</h5>
<p>If the DSS under test allows the fetching of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.097302Z)</p>
<h5>🛑 Get subscription with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.106559Z)</p>
<h5>🛑 Get subscription with valid credentials check</h5>
<p>If the DSS does not allow fetching a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.118282Z)</p>
<h5>🛑 Mutate subscription with missing credentials check</h5>
<p>If the DSS under test allows the mutation of a subscription without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.124480Z)</p>
<h5>🛑 Mutate subscription with invalid credentials check</h5>
<p>If the DSS under test allows the mutation of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.139131Z)</p>
<h5>🛑 Mutate subscription with missing scope check</h5>
<p>If the DSS under test allows the mutation of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.157745Z)</p>
<h5>🛑 Mutate subscription with incorrect scope check</h5>
<p>If the DSS under test allows the mutation of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.175207Z)</p>
<h5>🛑 Mutate subscription with valid credentials check</h5>
<p>If the DSS does not allow the mutation of a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.192597Z)</p>
<h5>🛑 Delete subscription with missing credentials check</h5>
<p>If the DSS under test allows the deletion of a subscription without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.199329Z)</p>
<h5>🛑 Delete subscription with invalid credentials check</h5>
<p>If the DSS under test allows the deletion of a subscription with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.215302Z)</p>
<h5>🛑 Delete subscription with missing scope check</h5>
<p>If the DSS under test allows the deletion of a subscription with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.230743Z)</p>
<h5>🛑 Delete subscription with incorrect scope check</h5>
<p>If the DSS under test allows the deletion of a subscription with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.245180Z)</p>
<h5>🛑 Delete subscription with valid credentials check</h5>
<p>If the DSS does not allow the deletion of a subscription when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.259867Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.262086Z)</p>
<h5>🛑 Search subscriptions with missing credentials check</h5>
<p>If the DSS under test allows searching for subscriptions without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.263645Z)</p>
<h5>🛑 Search subscriptions with invalid credentials check</h5>
<p>If the DSS under test allows searching for subscriptions with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.274193Z)</p>
<h5>🛑 Search subscriptions with missing scope check</h5>
<p>If the DSS under test allows searching for subscriptions with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.283767Z)</p>
<h5>🛑 Search subscriptions with incorrect scope check</h5>
<p>If the DSS under test allows searching for subscriptions with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.293743Z)</p>
<h5>🛑 Search subscriptions with valid credentials check</h5>
<p>If the DSS does not allow searching for subscriptions when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.305720Z)</p>
<h4>Operational intents endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received,
it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.321347Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.336038Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.348650Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.363114Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.388030Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.397635Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.407272Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.417029Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.434302Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.448370Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.467266Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.481331Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.505861Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.516525Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.532691Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.545515Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.568860Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.589551Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.607724Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.619824Z)</p>
<h5>🛑 Create operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the creation of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.310253Z)</p>
<h5>🛑 Create operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the creation of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.327449Z)</p>
<h5>🛑 Create operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the creation of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.340132Z)</p>
<h5>🛑 Create operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the creation of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.353550Z)</p>
<h5>🛑 Create operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow the creation of an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.374736Z)</p>
<h5>Create response format</h5>
<p>This test step fragment validates that an operational intent references creation returns a body in the correct format.</p>
<h6>🛑 Create operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format of a creation request.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.376091Z)</p>
<h5>🛑 Get operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the fetching of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.377698Z)</p>
<h5>🛑 Get operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.389489Z)</p>
<h5>🛑 Get operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the fetching of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.399035Z)</p>
<h5>🛑 Get operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.408893Z)</p>
<h5>🛑 Get operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow fetching an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.420364Z)</p>
<h5>🛑 Mutate operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the mutation of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.425318Z)</p>
<h5>🛑 Mutate operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the mutation of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.439956Z)</p>
<h5>🛑 Mutate operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the mutation of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.456732Z)</p>
<h5>🛑 Mutate operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the mutation of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.473080Z)</p>
<h5>🛑 Mutate operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow the mutation of an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.492890Z)</p>
<h5>Mutate response format</h5>
<p>This test step fragment validates that updates to operational intent references return a body in the correct format.</p>
<h6>🛑 Mutate operational intent reference response format conforms to spec check</h6>
<p>The response to a successful operational intent reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>Check response format of a mutation.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.493854Z)</p>
<h5>🛑 Delete operational intent reference with missing credentials check</h5>
<p>If the DSS under test allows the deletion of an operational intent without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.495535Z)</p>
<h5>🛑 Delete operational intent reference with invalid credentials check</h5>
<p>If the DSS under test allows the deletion of an operational intent with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.507968Z)</p>
<h5>🛑 Delete operational intent reference with missing scope check</h5>
<p>If the DSS under test allows the deletion of an operational intent with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.519083Z)</p>
<h5>🛑 Delete operational intent reference with incorrect scope check</h5>
<p>If the DSS under test allows the deletion of an operational intent with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.534797Z)</p>
<h5>🛑 Delete operational intent reference with valid credentials check</h5>
<p>If the DSS does not allow the deletion of an operational intent when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.555796Z)</p>
<h5>🛑 Search operational intent references with missing credentials check</h5>
<p>If the DSS under test allows searching for operational intents without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.558658Z)</p>
<h5>🛑 Search operational intent references with invalid credentials check</h5>
<p>If the DSS under test allows searching for operational intents with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.572234Z)</p>
<h5>🛑 Search operational intent references with missing scope check</h5>
<p>If the DSS under test allows searching for operational intents with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.592412Z)</p>
<h5>🛑 Search operational intent references with incorrect scope check</h5>
<p>If the DSS under test allows searching for operational intents with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.610351Z)</p>
<h5>🛑 Search operational intent references with valid credentials check</h5>
<p>If the DSS does not allow searching for operational intents when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.623923Z)</p>
<h4>Availability endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received,
it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.641169Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.654239Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.664668Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.677196Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.694142Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.707131Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.719275Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.731200Z)</p>
<h5>🛑 Read availability with missing credentials check</h5>
<p>If the DSS under test allows the fetching of a USS's availability without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.627383Z)</p>
<h5>🛑 Read availability with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of a USS's availability with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.645764Z)</p>
<h5>🛑 Read availability with missing scope check</h5>
<p>If the DSS under test allows the fetching of a USS's availability with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.655826Z)</p>
<h5>🛑 Read availability with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of a USS's availability with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.666196Z)</p>
<h5>🛑 Read availability with valid credentials check</h5>
<p>If the DSS does not allow fetching a USS's availability when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.680082Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.684091Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.698506Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.711116Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.723196Z)</p>
<h5>🛑 USS Availability Get response format conforms to spec check</h5>
<p>The response to a successful USS Availability request is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21,
otherwise, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.680324Z)</p>
<h5>🛑 Set availability with missing credentials check</h5>
<p>If the DSS under test allows the setting of a USS's availability without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.684127Z)</p>
<h5>🛑 Set availability with invalid credentials check</h5>
<p>If the DSS under test allows the setting of a USS's availability with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.698543Z)</p>
<h5>🛑 Set availability with missing scope check</h5>
<p>If the DSS under test allows the setting of a USS's availability with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.711152Z)</p>
<h5>🛑 Set availability with incorrect scope check</h5>
<p>If the DSS under test allows the setting of a USS's availability with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.723231Z)</p>
<h5>🛑 Set availability with valid credentials check</h5>
<p>If the DSS does not allow setting a USS's availability when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.735375Z)</p>
<h5>🛑 USS Availability Set response format conforms to spec check</h5>
<p>The response to a successful USS Availability Set request is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21,
otherwise, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.735601Z)</p>
<h4>Constraint reference endpoints authentication test step</h4>
<h5>🛑 Unauthorized requests return the proper error message body check</h5>
<p>If the DSS under test does not return a proper error message body when an unauthorized request is received,
it fails to properly implement the OpenAPI specification that is part of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.750317Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.766364Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.779007Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.792205Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.815664Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.826178Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.837785Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.847483Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.866212Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.879994Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.894345Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.907974Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.926806Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.936559Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.946100Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.955994Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.976937Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.986550Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.996112Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.005937Z)</p>
<h5>🛑 Create constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the creation of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.741463Z)</p>
<h5>🛑 Create constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the creation of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.756958Z)</p>
<h5>🛑 Create constraint reference with missing scope check</h5>
<p>If the DSS under test allows the creation of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.770647Z)</p>
<h5>🛑 Create constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the creation of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.783388Z)</p>
<h5>🛑 Create constraint reference with valid credentials check</h5>
<p>If the DSS does not allow the creation of a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.801922Z)</p>
<h5>Create response format</h5>
<p>This test step fragment validates that a constraint references creation returns a body in the correct format.</p>
<h6>🛑 Create constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a creation request.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.803167Z)</p>
<h5>🛑 Get constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the fetching of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.805030Z)</p>
<h5>🛑 Get constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the fetching of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.817559Z)</p>
<h5>🛑 Get constraint reference with missing scope check</h5>
<p>If the DSS under test allows the fetching of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.827893Z)</p>
<h5>🛑 Get constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the fetching of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.839441Z)</p>
<h5>🛑 Get constraint reference with valid credentials check</h5>
<p>If the DSS does not allow fetching a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.850990Z)</p>
<h5>Read response format</h5>
<p>This test step fragment validates that a request for a constraint reference returns a properly formatted body.</p>
<h6>🛑 Get constraint reference response format conforms to spec check</h6>
<p>The response to a successful get constraint reference query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a mutation.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.851757Z)</p>
<h5>🛑 Mutate constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the mutation of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.857418Z)</p>
<h5>🛑 Mutate constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the mutation of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.871731Z)</p>
<h5>🛑 Mutate constraint reference with missing scope check</h5>
<p>If the DSS under test allows the mutation of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.885647Z)</p>
<h5>🛑 Mutate constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the mutation of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.899579Z)</p>
<h5>🛑 Mutate constraint reference with valid credentials check</h5>
<p>If the DSS does not allow the mutation of a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.915534Z)</p>
<h5>Mutate response format</h5>
<p>This test step fragment validates that updates to constraint references return a body in the correct format.</p>
<h6>🛑 Mutate constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a mutation.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.916320Z)</p>
<h5>🛑 Delete constraint reference with missing credentials check</h5>
<p>If the DSS under test allows the deletion of a constraint reference without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.918116Z)</p>
<h5>🛑 Delete constraint reference with invalid credentials check</h5>
<p>If the DSS under test allows the deletion of a constraint reference with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.928508Z)</p>
<h5>🛑 Delete constraint reference with missing scope check</h5>
<p>If the DSS under test allows the deletion of a constraint reference with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.937962Z)</p>
<h5>🛑 Delete constraint reference with incorrect scope check</h5>
<p>If the DSS under test allows the deletion of a constraint reference with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.947646Z)</p>
<h5>🛑 Delete constraint reference with valid credentials check</h5>
<p>If the DSS does not allow the deletion of a constraint reference when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.963810Z)</p>
<h5>Delete response format</h5>
<p>This test step fragment validates that a constraint references deletion returns a body in the correct format.</p>
<h6>🛑 Delete constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>Check response format of a deletion.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.964692Z)</p>
<h5>🛑 Search constraint references with missing credentials check</h5>
<p>If the DSS under test allows searching for constraint references without any credentials being presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.966972Z)</p>
<h5>🛑 Search constraint references with invalid credentials check</h5>
<p>If the DSS under test allows searching for constraint references with credentials that are well-formed but invalid,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.978633Z)</p>
<h5>🛑 Search constraint references with missing scope check</h5>
<p>If the DSS under test allows searching for constraint references with valid credentials but a missing scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.988051Z)</p>
<h5>🛑 Search constraint references with incorrect scope check</h5>
<p>If the DSS under test allows searching for constraint references with valid credentials but an incorrect scope,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,A2-7-2,7</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:49.997768Z)</p>
<h5>🛑 Search constraint references with valid credentials check</h5>
<p>If the DSS does not allow searching for constraint references when valid credentials are presented,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.009513Z)</p>
<h5>Search response format</h5>
<p>This test step fragment validates that constraint references search responses are properly formatted.</p>
<h6>🛑 Search constraint reference response format conforms to spec check</h6>
<p>The response to a successful constraint reference search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<p>Check response format of a search.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.009690Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.012501Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.014558Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.016936Z)</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>Availability can be requested</h4>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h5>🛑 USS Availability can be requested check</h5>
<p>If, when queried for the availability of a USS using valid credentials, the DSS does not return a valid 200 response,
it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.019502Z)</p>
<h4>Availability can be set</h4>
<p>This fragment contains the steps for the USS Availability synchronization scenario
where we confirm that a USS availability can be correctly read from a DSS instance</p>
<h5>🛑USS Availability can be updated check</h5>
<p>If, when presented with a valid query to update the availability state of a USS, a DSS
responds with anything else than a 200 OK response, it is in violation of the OpenAPI specification referenced by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,1</a></strong>.</p>
<p>The cleanup phase of this test scenario removes the subscription with the known test ID if it has not been removed before.</p>
<h2>[31] ASTM SCD DSS: Subscription Simple</h2>
<h3>Overview</h3>
<p>Perform basic operations on a single DSS instance to create, update and delete subscriptions.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription IDs for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>problematically_big_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/vertices.py"><code>VerticesResource</code></a> describing an area designed to be too big to be accepted by the DSS.</p>
<p>Provided by problematically_big_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.029262Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.031649Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.033828Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.036170Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.038313Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscription with the known test ID exists in the DSS.</p>
<h3>Subscription Simple test case</h3>
<p>This test case creates multiple subscriptions, goes on to query and search for them, then deletes and searches for them again.</p>
<h4>Create subscription validation test step</h4>
<p>This test step creates multiple subscriptions with different combinations of the optional end and start time parameters.</p>
<p>All subscriptions are left on the DSS when this step ends, as they are expected to be present for the subsequent step.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that subscriptions can be created.</p>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.047546Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.071491Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.094563Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.117835Z)</p>
<h6>🛑 Create subscription response format conforms to spec check</h6>
<p>The response to a successful subscription creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.059539Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.082783Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.106307Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.129111Z)</p>
<h6>🛑 Create subscription response content is correct check</h6>
<p>A successful subscription creation query is expected to return a well-defined body, the content of which reflects the created subscription.</p>
<p>If the content of the response does not correspond to the requested content, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check creation succeeds and response is correct.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.061396Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.084662Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.108187Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.131024Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060372Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083600Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107147Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.129960Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.061362Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.084628Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.108152Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130982Z)</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060422Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083650Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107199Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130010Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060465Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083697Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107243Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130053Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060502Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083755Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107279Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130089Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107353Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130164Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060537Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083795Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107313Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130123Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083839Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130204Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060575Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083875Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107398Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130239Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060610Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083909Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107434Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130272Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060644Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083943Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107468Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130307Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS after its creation is properly formatted and has the right content.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.060679Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.083976Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.107502Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.130341Z)</p>
<h4>Query Existing Subscription test step</h4>
<p>Query and search for the created subscription in various ways</p>
<h5>🛑 Get subscription query succeeds check</h5>
<p>If the query to get an existing subscription fails, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.424683Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.449461Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.466008Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.482701Z)</p>
<h5>🛑 Get subscription response is correct check</h5>
<p>A successful get subscription query is expected to return a well-defined body, the content of which reflects the created subscription.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.444086Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461360Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477979Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494597Z)</p>
<h5>⚠️ Get subscription response format conforms to spec check</h5>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.442009Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.460069Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.476555Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.493270Z)</p>
<h5>🛑 Search for all subscriptions in planning area query succeeds check</h5>
<p>If the search query for the area for which the subscription was just created fails, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.500383Z)</p>
<h5>🛑 Search for all subscriptions in planning area response is correct check</h5>
<p>A successful search query is expected to return a well-defined body, the content of which reflects the created subscription as well as any other subscription in the area.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517325Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.533071Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550318Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.566219Z)</p>
<h5>⚠️ Search subscriptions response format conforms to spec check</h5>
<p>The response to a successful subscription search query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516648Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532434Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.549684Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565513Z)</p>
<h5>🛑 Created Subscription is in search results check</h5>
<p>If the created subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516736Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532515Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.549773Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565591Z)</p>
<h5>🛑 No huge search area allowed check</h5>
<p>In accordance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS should not allow searches for areas that are too big.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.568963Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443272Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.460806Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477401Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494090Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516785Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532563Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.549822Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565641Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.444048Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461338Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477955Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494574Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517299Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.533046Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550292Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.566194Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443350Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.460858Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477454Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494143Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516826Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532603Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.549863Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565682Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443421Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.460903Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477500Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494188Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516868Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532645Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.549905Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565724Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443485Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.460942Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477540Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494228Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516907Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532683Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.549943Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565762Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443620Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461022Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477620Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494309Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516987Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532763Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550025Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565844Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443550Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.460980Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477578Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494266Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.516944Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532720Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.549981Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565800Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443688Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461062Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477661Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494350Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517027Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532804Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550066Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565886Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443751Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461100Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477698Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494387Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517064Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532841Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550103Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565923Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443875Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461217Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477801Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494461Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517164Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532916Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550175Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.566041Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443936Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461258Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477857Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494498Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517210Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532969Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550212Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.566104Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the search is correctly formatted and corresponds to what was created earlier.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443998Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461298Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477912Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494535Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517249Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.533008Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550254Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.566155Z)</p>
<h5>Validate version field</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version field is as expected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.443812Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.461169Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.477754Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.494424Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.517101Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.532878Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.550140Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.565972Z)</p>
<h4>Attempt Subscription mutation with incorrect version test step</h4>
<p>This test step attempts to mutate the subscription both with a missing and incorrect OVN, and checks that the DSS reacts properly.</p>
<h5>🛑 Mutation with empty version fails check</h5>
<p>If a request to mutate a subscription is missing the version and succeeds, the DSS is failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.136417Z)</p>
<h5>🛑 Mutation with incorrect version fails check</h5>
<p>If a request to mutate a subscription providing the wrong version succeeds, the DSS is failing to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.149868Z)</p>
<h4>Mutate Subscription test step</h4>
<p>This test step mutates the previously created subscription to verify that the DSS reacts properly: notably, it checks that the subscription version is updated,
including for changes that are not directly visible, such as changing the subscription's footprint.</p>
<h5>🛑 Mutate subscription query succeeds check</h5>
<p>If the query to mutate a subscription with valid parameters is not successful, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.162884Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.185891Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.289058Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.310445Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.333283Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.356317Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.378890Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.402367Z)</p>
<h5>🛑 Mutate subscription response is correct check</h5>
<p>A successful subscription mutation query is expected to return a well-defined body, the content of which reflects the newly defined subscription.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.177034Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279998Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301436Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322941Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.346127Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.369083Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.392159Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417726Z)</p>
<h5>⚠️ Mutate subscription response format conforms to spec check</h5>
<p>The response to a successful subscription mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.175640Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.278691Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.300175Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.321652Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.344764Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.367744Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.390849Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.415781Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176544Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279526Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.300926Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322455Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345654Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368605Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391689Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.416979Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.177010Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279975Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301414Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322920Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.346104Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.369061Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.392136Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417687Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176596Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279575Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.300976Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322504Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345704Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368655Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391738Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417051Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176639Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279618Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301018Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322547Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345747Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368699Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391781Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417119Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176677Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279654Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301054Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322584Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345784Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368736Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391817Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417195Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176753Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279729Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301149Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322659Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345858Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368811Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391891Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417312Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176712Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279689Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301089Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322620Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345818Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368771Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391852Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417254Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176793Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279767Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301194Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322697Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345895Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368851Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391929Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417367Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176828Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279803Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301232Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322744Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345929Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368886Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391963Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417421Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176896Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279872Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301306Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322815Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345997Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368954Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.392030Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417529Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176931Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279906Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301341Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322850Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.346033Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368989Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.392064Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417581Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the mutation is properly formatted and contains the correct content.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176965Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279940Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301376Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322884Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.346068Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.369025Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.392100Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417635Z)</p>
<h5>Validate version field</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Mutated subscription version is updated check</h6>
<p>Following a mutation, the DSS needs to update the subscription version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version field has been mutated.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.176862Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.279837Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.301270Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.322779Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.345962Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.368920Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.391996Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.417475Z)</p>
<h4>Delete Subscription test step</h4>
<p>Attempt to delete the subscription in various ways and ensure that the DSS reacts properly.</p>
<p>This also checks that the subscription data returned by a successful deletion is correct.</p>
<h5>🛑 Missing version prevents deletion check</h5>
<p>An attempt to delete a subscription without providing a version should fail, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.570366Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.575045Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.579333Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.584206Z)</p>
<h5>🛑 Incorrect version prevents deletion check</h5>
<p>An attempt to delete a subscription while providing an incorrect version should fail, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.573698Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.578074Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.582682Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.587203Z)</p>
<h5>🛑 Delete subscription query succeeds check</h5>
<p>If the query to delete an existing subscription fails, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.594079Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.614742Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.634642Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.654588Z)</p>
<h5>🛑 Delete subscription response is correct check</h5>
<p>A successful delete subscription query is expected to return a well-defined body, the content of which reflects the content of the subscription before deletion.
If the format and content of the response are not conforming, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606519Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626753Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.647147Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666546Z)</p>
<h5>⚠️ Delete subscription response format conforms to spec check</h5>
<p>The response to a successful delete subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.605888Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626189Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646541Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.665964Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.605993Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626276Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646645Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666058Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606494Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626731Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.647126Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666524Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606039Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626321Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646692Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666103Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606085Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626363Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646737Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666148Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606124Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626400Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646774Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666187Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606207Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626478Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646855Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666270Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606161Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626436Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646811Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666225Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606248Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626517Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646895Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666310Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606285Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626553Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646944Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666346Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606357Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626623Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.647017Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666416Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606394Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626659Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.647054Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666452Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606451Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626695Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.647090Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666488Z)</p>
<h5>Validate version field</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version field is as expected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.606321Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.626588Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.646982Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.666381Z)</p>
<h4>Query Deleted Subscription test step</h4>
<p>Attempt to query and search for the deleted subscription in various ways</p>
<h5>🛑 Query by subscription ID should fail check</h5>
<p>If the DSS provides a successful reply to a direct query for the deleted subscription, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.669570Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.672061Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.674573Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.677310Z)</p>
<h5>🛑 Search for all subscriptions in planning area query succeeds check</h5>
<p>If the DSS fails to let us search in the area for which the subscription was just created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.680899Z)</p>
<h5>🛑 Deleted subscription should not be present in search results check</h5>
<p>If the DSS returns the deleted subscription in a search that covers the area it was originally created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.681020Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.684188Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.687068Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.689429Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.691726Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[32] ASTM SCD DSS: Subscription Validation</h2>
<h3>Overview</h3>
<p>Ensures that a DSS properly enforces limitations on created subscriptions</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.697111Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.699393Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscription with the known test ID exists in the DSS.</p>
<h3>Subscription Validation test case</h3>
<p>This test attempts to create subscriptions that should be rejected or adapted by the DSS.</p>
<h4>Subscription duration limitations test step</h4>
<p>This test step attempts to create a subscription that exceeds the maximal subscription duration on the DSS.</p>
<p>It does so directly, by attempting to create a subscription that exceeds the maximal duration of <code>DSSMaxSubscriptionDuration</code> (24 hours),
and indirectly, by first creating a valid subscription and then attempting to mutate it to exceed the maximal duration.</p>
<h5>🛑 Accept a subscription of maximal duration check</h5>
<p>If the DSS under test does not allow the creation of a subscription of the maximal allowed duration of <code>DSSMaxSubscriptionDuration</code>,
it is failing to create a subscription using valid parameters, and is thus failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.710921Z)</p>
<h5>🛑 Don't create a too long subscription check</h5>
<p>If the DSS under test does not reject a subscription that exceeds the maximal allowed duration of <code>DSSMaxSubscriptionDuration</code>,
or fails to truncate the duration of the subscription to this duration, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0015</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.702984Z)</p>
<h5>🛑 Don't mutate a subscription to be too long check</h5>
<p>If the DSS under test does not reject a mutation that would cause a subscription to exceed the maximal allowed duration of <code>DSSMaxSubscriptionDuration</code>,
or fails to truncate the duration of the subscription to this duration, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0015</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.716349Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.721513Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.731380Z)</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>The cleanup phase of this test scenario removes the subscription with the known test ID if it has not been removed before.</p>
<h2>[33] ASTM F3548-21 UTM DSS Operational Intent Reference Access Control</h2>
<h3>Overview</h3>
<p>This scenario ensures that a DSS will only let the owner of an operational intent reference modify it.</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>A <code>resources.flight_planning.FlightIntentsResource</code> containing the flight intents to be used in this scenario:</p>
<p>This scenario expects to find at least two separate flight intents in this resource, as it will use their extent
to create two operational intents references.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>dss</h4>
<p>A <code>resources.astm.f3548.v21.DSSInstanceResource</code> pointing to the DSS instance to test for this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>second_utm_auth</h4>
<p>A <code>resources.communications.AuthAdapterResource</code> containing a second set of valid credentials for interacting with the DSS.</p>
<p>This second set of credentials is required to validate that the DSS is properly enforcing access control rules, and properly limits the actions of a client against
the resources exposed by the DSS.</p>
<p>The participant under test is responsible for providing this second set of credentials along the primary ones used in most other scenarios.</p>
<h5>Credential requirements</h5>
<p>In general, these test credentials may be in all points equal to the ones used by the <code>AuthAdapterResource</code> that is
provided to the <code>dss</code> resources above, except for the value contained in the <code>sub</code> claim of the token.</p>
<p>For the purpose of this scenario, these credentials must be allowed to create, modify and delete operational intents on the DSS,
as well as querying operational intent references.</p>
<h6>Required scope</h6>
<p>For the purpose of this scenario, the <code>second_utm_auth</code> resource must provide access to a token with at least the following scope:</p>
<ul>
<li><code>utm.strategic_coordination</code></li>
</ul>
<h6>Separate subscription</h6>
<p>Note that the subscription (or 'sub' claim) of the token that will be obtained for this resource
MUST be different from the one of the <code>dss</code> resources mentioned above:
this will be verified at runtime, and this scenario will fail if the second set of credentials belong to the same subscription as the main one.</p>
<p>Provided by second_utm_auth in top-level resource pool.</p>
<h4>id_generator</h4>
<p>A <code>resources.interuss.IDGeneratorResource</code> that will be used to generate the IDs of the operational intent references created in this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h3>Setup test case</h3>
<p>Makes sure that the DSS is in a clean and expected state before running the test, and that the passed resources work as required.</p>
<p>The setup will create two separate operational intent references: one for each set of the available credentials.</p>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.744940Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.749455Z)</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.759450Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.763295Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.767901Z)</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>⚠️ Any existing operational intent reference has been removed check</h5>
<p>If, after cleanup, one or more operational intent reference are still present at the DSS, this scenario cannot proceed.</p>
<p>This scenario is able to remove any operational intent reference that belongs to the configured credentials, but it cannot remove references
that belong to other credentials.</p>
<p>A regular failure of this check indicates that other scenarios might not properly clean up their resources, or that the <em>Prepare Flight Planners</em>
scenario should be moved in front of the present one.</p>
<p>If this check fails, the rest of the scenario is entirely skipped.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.767958Z)</p>
<h4>Create operational intent references with different credentials test step</h4>
<p>This test step ensures that an operation intent reference created with the main credentials is available for the main test case.</p>
<p>To verify that the second credentials are valid, it will also create an operational intent reference with those credentials.</p>
<h5>🛑 Can create an operational intent with valid credentials check</h5>
<p>If the DSS does not allow the creation of operation intents when the required parameters and credentials are provided,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.784381Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.801426Z)</p>
<h5>🛑 Passed sets of credentials are different check</h5>
<p>This scenario requires two sets of credentials that have a different 'sub' claim in order to validate that the
DSS properly controls access to operational intents.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.801611Z)</p>
<h3>Attempt unauthorized operational intent reference modification test case</h3>
<p>This test case ensures that the DSS does not allow a caller to modify or delete operational intent references that they did not create.</p>
<h4>Attempt unauthorized operational intent reference modification test step</h4>
<p>This test step will attempt to modify the operational intent references that was created using the configured <code>dss</code> resource,
using the credentials provided in the <code>second_utm_auth</code> resource, and expect all such attempts to fail.</p>
<h5>🛑 Operational intent references can be queried directly by their ID check</h5>
<p>If an existing operational intent cannot directly be queried by its ID, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.821225Z)</p>
<h5>🛑 Non-owning credentials cannot modify operational intent check</h5>
<p>If an operational intent reference can be modified by a client which did not create it, the DSS implementation is
in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0035</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.809507Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.815116Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.821275Z)</p>
<h5>🛑 Non-owning credentials cannot delete operational intent check</h5>
<p>If an operational intent reference can be deleted by a client which did not create it, the DSS implementation is
in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0035</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.817811Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.824555Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.838625Z)</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.835276Z)</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.850090Z)</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h2>[34] ASTM F3548-21 UTM DSS interoperability</h2>
<h3>Overview</h3>
<p>TODO: Complete with details once we check more than the prerequisites.</p>
<p>This scenario currently only checks that all specified DSS instances are publicly addressable and reachable.</p>
<h3>Resources</h3>
<h4>primary_dss_instance</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py">resources.astm.f3548.v21.DSSInstanceResource</a> containing the &quot;primary&quot; DSS instance for this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>all_dss_instances</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py">resources.astm.f3548.v21.DSSInstancesResource</a> containing at least two DSS instances complying with ASTM F3548-21.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>planning_area</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py">resources.astm.f3548.v21.PlanningAreaResource</a> containing a planning area that covers the area of interest for this</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>test_exclusions</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/dev/test_exclusions.py">resources.dev.TestExclusionsResource</a> containing test exclusions parameters like whether private addresses are allowed.
This resource is optional.</p>
<p>Provided by test_exclusions in top-level resource pool.</p>
<h3>Prerequisites test case</h3>
<h4>Test environment requirements test step</h4>
<h5>🛑 DSS instance is publicly addressable check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0300</a></strong> the DSS instance should be publicly addressable.
As such, this check will fail if the resolved IP of the DSS host is a private IP address.
This check is skipped if the test exclusion <code>allow_private_addresses</code> is set to <code>True</code>.</p>
<h5>🛑 DSS instance is reachable check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0300</a></strong> the DSS instance should be publicly addressable.
As such, this check will fail if the DSS is not reachable with a dummy query.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.857433Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:50.862227Z)</p>
<h2>[35] ASTM SCD DSS: Subscription Synchronization</h2>
<h3>Overview</h3>
<p>Verifies that all subscription CRUD operations performed on a single DSS instance are properly propagated to every other DSS</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> the DSS instance through which entities are created, modified and deleted.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h4>other_instances</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstancesResource</code></a> pointing to the DSS instances used to confirm that entities are properly propagated.</p>
<p>Provided by dss_instances in top-level resource pool.</p>
<h4>id_generator</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/interuss/id_generator.py"><code>IDGeneratorResource</code></a> providing the Subscription ID for this scenario.</p>
<p>Provided by id_generator in top-level resource pool.</p>
<h4>planning_area</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/planning_area.py"><code>PlanningAreaResource</code></a> describes the 3D volume in which subscriptions will be created.</p>
<p>Provided by planning_area in top-level resource pool.</p>
<h4>second_utm_auth</h4>
<p>A <code>resources.communications.AuthAdapterResource</code> containing a second set of valid credentials for interacting with the DSS.</p>
<p>This second set of credentials is required to validate that the DSS properly synchronizes the manager of a subscription to other DSS instances.</p>
<p>The test designer should provide this second set of credentials when full testing of manager synchronization behavior is desired.</p>
<h5>Credential requirements</h5>
<p>In general, these test credentials may be in all points equal to the ones used by the <code>AuthAdapterResource</code> that is
provided to the <code>dss</code> resources above, except for the value contained in the <code>sub</code> claim of the token.</p>
<p>Note that most checks in this scenario will work if the second set of credentials is not provided.</p>
<h6>Required scope</h6>
<p>For the purpose of this scenario, the <code>second_utm_auth</code> resource must provide access to a token with at least the following scope:</p>
<ul>
<li><code>utm.strategic_coordination</code></li>
</ul>
<h6>Separate subject</h6>
<p>Note that the subject (or 'sub' claim) of the token that will be obtained for this resource
MUST be different from the one of the <code>dss</code> resources mentioned above:
this will be verified at runtime, and the depending checks will not be run if this is not the case.</p>
<p>Provided by second_utm_auth in top-level resource pool.</p>
<h3>Setup test case</h3>
<h4>Ensure clean workspace test step</h4>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h5>🛑 Operational intent references can be queried by ID check</h5>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Operational intent references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h5>🛑 Operational intent reference removed check</h5>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h5>🛑 Successful subscription search query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.866982Z)</p>
<h5>🛑 Subscription can be queried by ID check</h5>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.869554Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.871748Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.873900Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.876728Z)</p>
<h5>🛑 Subscription can be deleted check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<h5>🛑 Constraint references can be queried by ID check</h5>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h5>🛑 Constraint references can be searched for check</h5>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h5>🛑 Constraint reference removed check</h5>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions with the known test IDs exist in the DSS.</p>
<p>This includes the main test subscription used in this test, as well as the extra subscription
used for testing the <code>manager</code> field sync, if the test is configured to test for it.</p>
<h3>Subscription Synchronization test case</h3>
<p>This test case create a subscription on the main DSS, and verifies that it is properly synchronized to the other DSS instances.</p>
<p>It then goes on to mutate and delete it, each time confirming that all other DSSes return the expected results.</p>
<h4>Create subscription validation test step</h4>
<p>This test step creates multiple subscriptions with different combinations of the optional end and start time parameters.</p>
<p>All subscriptions are left on the DSS when this step ends, as they are expected to be present for the subsequent step.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that subscriptions can be created.</p>
<h6>Query Success</h6>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Check query succeeds</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.885471Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.907554Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.931166Z)</p>
<h6>🛑 Create subscription response format conforms to spec check</h6>
<p>The response to a successful subscription creation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.896712Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.920234Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.941995Z)</p>
<h6>🛑 Create subscription response content is correct check</h6>
<p>A successful subscription creation query is expected to return a well-defined body, the content of which reflects the created subscription.</p>
<p>If the content of the response does not correspond to the requested content, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that a subscription can be created on the primary DSS.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.898546Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.922181Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.943826Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897505Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921026Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.942758Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.898516Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.922149Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.943794Z)</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897554Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921090Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.942810Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897595Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921170Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.942851Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897631Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921215Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.942886Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897708Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921313Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.942962Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897667Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921268Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.942920Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897747Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921354Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.943001Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897781Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921388Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.943035Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897815Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921423Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.943068Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897848Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921458Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.943103Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS under test is properly formatted and contains the expected content.</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.897881Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.921492Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.943145Z)</p>
<h4>Query newly created subscription test step</h4>
<p>Query the created subscription at every DSS provided in <code>dss_instances</code>.</p>
<h5>Subscription is synchronized</h5>
<p>This test step fragment validates that subscriptions are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Subscription can be found at every DSS check</h6>
<p>If the previously created or mutated subscription cannot be found at a DSS, either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.949221Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.979401Z)</p>
<h6>⚠️ Propagated subscription contains the correct USS base URL check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct USS base URL,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.950170Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.980301Z)</p>
<h6>⚠️ Propagated subscription contains the correct start time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct start time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.950251Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.980378Z)</p>
<h6>⚠️ Propagated subscription contains the correct end time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct end time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.950313Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.980446Z)</p>
<h6>⚠️ Propagated subscription contains the correct version check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct version,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.950362Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.980499Z)</p>
<h6>⚠️ Propagated subscription contains the correct notification flags check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct notification flags,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1g</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.950410Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.980549Z)</p>
<h6>⚠️ Propagated subscription contains the correct implicit flag check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct implicit flag,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1h</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.950453Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.980608Z)</p>
<h6>⚠️ Propagated subscription contains expected notification count check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the expected notification count,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1i</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.950496Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.980655Z)</p>
<h6>⚠️ Secondary DSS returns the subscription in searches for area that contains it check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area that encompasses the created subscription,
the secondary DSS should return the subscription in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.971386Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.999690Z)</p>
<h6>⚠️ Secondary DSS does not return the subscription in searches not encompassing the general area of the subscription check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area not in the vicinity of the created subscription,
the secondary DSS should not return it in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that the subscription that was just created is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:50.975201Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.003335Z)</p>
<h5>Get subscription</h5>
<p>This test step fragment validates that subscriptions can be read.</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Get subscription response format conforms to spec check</h6>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that each DSS provides access to the created subscription,</p>
<p>✅ uss1_dss (2024-11-18T16:33:50.960788Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.990753Z)</p>
<h5>Search subscription</h5>
<p>This test step fragment validates that subscriptions can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:50.967429Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:50.975125Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:50.996051Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.003259Z)</p>
<h6>🛑 Created Subscription is in search results check</h6>
<p>If the existing subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that each DSS returns the created subscription when searched for.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by every DSS is correctly formatted and corresponds to what was created earlier.</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by every DSS is as expected.</p>
<h4>Mutate subscription broadcast test step</h4>
<p>This test step mutates the previously created subscription, by accessing the primary DSS, to verify that the update is propagated to all other DSSes.
Notably, it checks that the subscription version is updated, including for changes that are not directly visible, such as changing the subscription's footprint.</p>
<h5>Update subscription</h5>
<p>This test step fragment validates that subscriptions can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update a subscription succeeds.</p>
<h6>🛑 Subscription can be mutated check</h6>
<p>If a subscription cannot be updated with a valid set of parameters, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.011131Z)</p>
<h6>🛑 Mutate subscription response format conforms to spec check</h6>
<p>The response to a successful subscription mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.023384Z)</p>
<h6>🛑 Mutate subscription response content is correct check</h6>
<p>A successful subscription mutation query is expected to return a well-defined body, the content of which reflects the mutated subscription.</p>
<p>If the content of the response does correspond to the requested mutation, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirm that the subscription can be mutated.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024666Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024190Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024646Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024239Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024281Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024318Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024395Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024353Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024435Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024471Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024541Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024576Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS is properly formatted and contains the correct content.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024610Z)</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Mutated subscription version is updated check</h6>
<p>Following a mutation, the DSS needs to update the subscription version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by the DSS has been updated.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.024506Z)</p>
<h4>Query updated subscription test step</h4>
<p>Query the updated subscription at every DSS provided in <code>dss_instances</code>.</p>
<h5>Subscription is synchronized</h5>
<p>This test step fragment validates that subscriptions are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Subscription can be found at every DSS check</h6>
<p>If the previously created or mutated subscription cannot be found at a DSS, either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.029333Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.056521Z)</p>
<h6>⚠️ Propagated subscription contains the correct USS base URL check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct USS base URL,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.030071Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.057495Z)</p>
<h6>⚠️ Propagated subscription contains the correct start time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct start time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.030135Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.057560Z)</p>
<h6>⚠️ Propagated subscription contains the correct end time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct end time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.030186Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.057613Z)</p>
<h6>⚠️ Propagated subscription contains the correct version check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct version,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.030233Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.057660Z)</p>
<h6>⚠️ Propagated subscription contains the correct notification flags check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct notification flags,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1g</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.030280Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.057707Z)</p>
<h6>⚠️ Propagated subscription contains the correct implicit flag check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct implicit flag,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1h</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.030322Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.057750Z)</p>
<h6>⚠️ Propagated subscription contains expected notification count check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the expected notification count,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1i</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.030366Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.057793Z)</p>
<h6>⚠️ Secondary DSS returns the subscription in searches for area that contains it check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area that encompasses the created subscription,
the secondary DSS should return the subscription in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.048557Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.076979Z)</p>
<h6>⚠️ Secondary DSS does not return the subscription in searches not encompassing the general area of the subscription check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area not in the vicinity of the created subscription,
the secondary DSS should not return it in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that the subscription that was just mutated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.053014Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.080557Z)</p>
<h5>Get subscription</h5>
<p>This test step fragment validates that subscriptions can be read.</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Get subscription response format conforms to spec check</h6>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be retrieved from any DSS.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.039997Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.067944Z)</p>
<h5>Search subscription</h5>
<p>This test step fragment validates that subscriptions can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.044964Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.052935Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.073359Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.080480Z)</p>
<h6>🛑 Created Subscription is in search results check</h6>
<p>If the existing subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be searched for from any DSS.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by every DSS is correctly formatted and corresponds to what was mutated earlier.</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by every DSS is as expected.</p>
<h4>Mutate subscription on secondaries test step</h4>
<p>This test step attempts to mutate the subscription on every secondary DSS instance (that is, instances through which the subscription has not been created) to confirm that such mutations are properly propagated to every DSS.</p>
<p>Note that this step is repeated for every secondary DSS instance.</p>
<h5>🛑 Subscription can be mutated on secondary DSS check</h5>
<p>If the secondary DSS does not allow the subscription to be mutated, either the secondary DSS or the primary DSS are in violation of one or both of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1b</a></strong>, if the <code>manager</code> of the subscription fails to be taken into account (either because the primary DSS did not propagated it, or because the secondary failed to consider it);
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, if the secondary DSS fails to properly implement the API to mutate subscriptions.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.103153Z)</p>
<h5>🛑 Subscription returned by a secondary DSS is valid and correct check</h5>
<p>When queried for a subscription that was created via another DSS, a DSS instance is expected to provide a valid subscription.</p>
<p>If it does not, it might be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h5>Update subscription</h5>
<p>This test step fragment validates that subscriptions can be updated.</p>
<h6>Update query succeeds</h6>
<p>This test step fragment validates that a query to update a subscription succeeds.</p>
<h6>🛑 Subscription can be mutated check</h6>
<p>If a subscription cannot be updated with a valid set of parameters, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Mutate subscription response format conforms to spec check</h6>
<p>The response to a successful subscription mutation query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.116220Z)</p>
<h6>🛑 Mutate subscription response content is correct check</h6>
<p>A successful subscription mutation query is expected to return a well-defined body, the content of which reflects the mutated subscription.</p>
<p>If the content of the response does correspond to the requested mutation, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirm that the secondary DSS handles the update properly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117475Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.116948Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117454Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.116998Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117040Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117079Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117182Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117115Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117225Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117263Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117340Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117378Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS is properly formatted and contains the correct content.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117415Z)</p>
<h5>Validate version is updated by mutation</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Mutated subscription version is updated check</h6>
<p>Following a mutation, the DSS needs to update the subscription version, otherwise it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription is updated after the mutation on the secondary.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.117299Z)</p>
<h4>Verify mutation on all secondaries test step</h4>
<p>This step verifies that the mutation of the subscription on a secondary instance, from the previous step, is properly propagated to every other DSS.</p>
<p>Note that this step is repeated for every secondary DSS instance.</p>
<h5>Subscription is synchronized</h5>
<p>This test step fragment validates that subscriptions are properly synchronized across a set of DSS instances.</p>
<h6>🛑 Subscription can be found at every DSS check</h6>
<p>If the previously created or mutated subscription cannot be found at a DSS, either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.121815Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.147394Z)</p>
<h6>⚠️ Propagated subscription contains the correct USS base URL check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct USS base URL,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1c</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.122577Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.148113Z)</p>
<h6>⚠️ Propagated subscription contains the correct start time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct start time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.122642Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.148175Z)</p>
<h6>⚠️ Propagated subscription contains the correct end time check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct end time,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1e</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.122695Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.148225Z)</p>
<h6>⚠️ Propagated subscription contains the correct version check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct version,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1f</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.122743Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.148270Z)</p>
<h6>⚠️ Propagated subscription contains the correct notification flags check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct notification flags,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1g</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.122791Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.148317Z)</p>
<h6>⚠️ Propagated subscription contains the correct implicit flag check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the correct implicit flag,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1h</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.122834Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.148360Z)</p>
<h6>⚠️ Propagated subscription contains expected notification count check</h6>
<p>If the subscription returned by a DSS to which the subscription was synchronized to does not contain the expected notification count,
either one of the instances at which the subscription was created or the one that was queried,
is failing to implement one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1i</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.122878Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.148403Z)</p>
<h6>⚠️ Secondary DSS returns the subscription in searches for area that contains it check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area that encompasses the created subscription,
the secondary DSS should return the subscription in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.140786Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.166725Z)</p>
<h6>⚠️ Secondary DSS does not return the subscription in searches not encompassing the general area of the subscription check</h6>
<p>The secondary DSS should be aware of the subscription's area: when a search query is issued for an area not in the vicinity of the created subscription,
the secondary DSS should not return it in its search results.</p>
<p>Otherwise, it is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1d</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>Confirm that the subscription that was just mutated is properly synchronized across all DSS instances.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.144253Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.170156Z)</p>
<h5>Get subscription</h5>
<p>This test step fragment validates that subscriptions can be read.</p>
<h6>Read query succeeds</h6>
<p>This test step fragment validates that a query to read a subscription succeeds.</p>
<h6>🛑 Get Subscription by ID check</h6>
<p>If a subscription cannot be queried using its ID, the DSS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<h6>🛑 Get subscription response format conforms to spec check</h6>
<p>The response to a successful get subscription query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be retrieved from any DSS, and that it has the expected content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.132317Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.158238Z)</p>
<h5>Search subscription</h5>
<p>This test step fragment validates that subscriptions can be searched for.</p>
<h6>Search query succeeds</h6>
<p>This test step fragment validates that a query to search for subscriptions succeeds.</p>
<h6>🛑 Successful subscription search query check</h6>
<p>If the DSS fails to let us search in the area for which the subscription was created, it is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.137206Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.144180Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.163079Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.170078Z)</p>
<h6>🛑 Created Subscription is in search results check</h6>
<p>If the existing subscription is not returned in a search that covers the area it was created for, the DSS is not properly implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that the subscription that was just mutated can be searched for from any DSS, and that it has the expected content.</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS is properly formatted and contains the correct content.</p>
<h5>Validate version is as expected when read</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that when we are reading the subscription without mutating it, the version is as expected.</p>
<h4>Create subscription with different credentials test step</h4>
<p>If the second set of credentials is provided, this test step will create a subscription using these credentials,
in order to prepare the next step that checks manager synchronization.</p>
<h5>Create subscription</h5>
<p>This test step fragment validates that a query to create a subscription with valid parameters succeeds.</p>
<h6>🛑 Create subscription query succeeds check</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>, the DSS API must allow callers to create a subscription with either one or both of the
start and end time missing, provided all the required parameters are valid.</p>
<p>Verify that a subscription can be created on the primary DSS using the separate set of credentials.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.089170Z)</p>
<h4>Verify manager synchronization test step</h4>
<p>If the second set of credentials is provided, checks that the manager of a subscription is properly synchronized across all DSS instances.</p>
<p>This is done by verifying that the main credentials are not able to delete the subscription via any of the secondary DSS instances.</p>
<h5>⚠️ Subscription deletion with different non-managing credentials on secondary DSS fails check</h5>
<p>If the subscription can be deleted by a client which did not create it, via a DSS instance to which the subscription was synced
following its creation on the primary DSS, either one of the primary DSS or the DSS that accepted the deletion failed to properly broadcast, respectively take into account, the manage of the subscription,
and therefore violates <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1b</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.092950Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.095802Z)</p>
<h4>Delete subscription on primary test step</h4>
<p>Attempt to delete the subscription that was created on the primary DSS through the primary DSS in various ways,
and ensure that the DSS reacts properly.</p>
<p>This also checks that the subscription data returned by a successful deletion is correct.</p>
<h5>Delete subscription</h5>
<p>This test step fragment validates that subscriptions can be deleted.</p>
<h6>Delete query succeeds</h6>
<p>This test step fragment validates that a query to remove a subscription succeeds.</p>
<h6>🛑 Subscription can be deleted check</h6>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.253587Z)</p>
<h6>🛑 Delete subscription response format conforms to spec check</h6>
<p>The response to a successful subscription deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.264841Z)</p>
<h6>🛑 Delete subscription response content is correct check</h6>
<p>A successful subscription deletion query is expected to return a well-defined body, the content of which reflects the deleted subscription.</p>
<p>If the content of the response does not correspond to the subscription at the time of deletion, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that a subscription can be deleted.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265404Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.264906Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265384Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.264950Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.264990Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265025Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265101Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265059Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265167Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265209Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265280Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265316Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265350Z)</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by the DSS is as expected</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.265246Z)</p>
<h4>Query deleted subscription test step</h4>
<p>Attempt to query and search for the deleted subscription in various ways</p>
<h5>🛑 DSS should not return the deleted subscription check</h5>
<p>If a DSS returns a subscription that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the subscription is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS through which the subscription was deleted is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.267864Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:51.269954Z)</p>
<h4>Delete subscriptions on secondaries test step</h4>
<p>Attempt to delete subscriptions that were created through the primary DSS via the secondary DSS instances.</p>
<h5>Delete subscription</h5>
<p>This test step fragment validates that subscriptions can be deleted.</p>
<h6>Delete query succeeds</h6>
<p>This test step fragment validates that a query to remove a subscription succeeds.</p>
<h6>🛑 Subscription can be deleted check</h6>
<p>An attempt to delete a subscription when the correct version is provided should succeed, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Check query succeeds.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.276169Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.301675Z)</p>
<h6>🛑 Delete subscription response format conforms to spec check</h6>
<p>The response to a successful subscription deletion query is expected to conform to the format defined by the OpenAPI specification under the <code>A3.1</code> Annex of ASTM F3548−21.</p>
<p>If it does not, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287443Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.313911Z)</p>
<h6>🛑 Delete subscription response content is correct check</h6>
<p>A successful subscription deletion query is expected to return a well-defined body, the content of which reflects the deleted subscription.</p>
<p>If the content of the response does not correspond to the subscription at the time of deletion, the DSS is failing to implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Confirms that a subscription can be deleted from a secondary DSS</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.288021Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314501Z)</p>
<h5>Validate subscription</h5>
<p>This test step fragment attempts to validate the content of a single subscription returned by the DSS.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Returned subscription ID is correct check</h6>
<p>If the returned subscription ID does not correspond to the one specified in the creation parameters,
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287529Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.313977Z)</p>
<h6>⚠️ New subscription has a notification index of 0 check</h6>
<p>The notification index of a newly created subscription must be 0, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<h6>⚠️ Returned notification index is equal to or greater than 0 check</h6>
<p>If the notification index of the subscription is less than 0, the DSS fails to properly implement <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287989Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314472Z)</p>
<h6>⚠️ Returned subscription has an USS base URL check</h6>
<p>If the returned subscription has no USS base URL defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287574Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314020Z)</p>
<h6>⚠️ Returned USS base URL has correct base URL check</h6>
<p>The returned USS base URL must be prefixed with the USS base URL that was provided at subscription creation, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287616Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314061Z)</p>
<h6>⚠️ Returned subscription has a start time check</h6>
<p>If the returned subscription has no start time defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287652Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314098Z)</p>
<h6>⚠️ Returned start time is correct check</h6>
<p>The returned start time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287733Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314175Z)</p>
<h6>⚠️ Returned subscription has an end time check</h6>
<p>Subscriptions need a defined end time in order to limit their duration: if the DSS omits to set the end time, it will be in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287688Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314133Z)</p>
<h6>⚠️ Returned end time is correct check</h6>
<p>The returned end time must be the same as the provided one, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287774Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314215Z)</p>
<h6>⚠️ Returned subscription has a version check</h6>
<p>If the returned subscription has no version defined, <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> is not respected.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287811Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314249Z)</p>
<h6>⚠️ Non-implicit subscription has implicit flag set to false check</h6>
<p>A subscription that was explicitly created by a client should always have its <code>implicit_subscription</code> flag set to false,
otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287881Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314318Z)</p>
<h6>⚠️ Operational intents notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_operational_intents</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287916Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314381Z)</p>
<h6>⚠️ Constraints notification flag is as requested check</h6>
<p>If the subscription was created with the <code>include_constraints</code> flag set to true, the returned subscription must have the same flag set to true, otherwise the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the subscription returned by the DSS via the deletion is properly formatted and contains the correct content.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287952Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314434Z)</p>
<h5>Validate version</h5>
<p>This test step fragment attempts to validate a single subscription returned by the DSS after its creation or mutation.</p>
<p>The code for these checks lives in the <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/dss/validators/subscription_validator.py">subscription_validator.py</a> class.</p>
<h6>⚠️ Non-mutated subscription keeps the same version check</h6>
<p>If the version of the subscription is updated without there having been any mutation of the subscription, the DSS is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong>.</p>
<p>Verify that the version of the subscription returned by the DSS is as expected</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.287846Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.314284Z)</p>
<h5>🛑 DSS should not return the deleted subscription check</h5>
<p>If a DSS returns a subscription that was previously successfully deleted from the primary DSS,
either one of the primary DSS or the DSS that returned the subscription is in violation of one of the following requirements:</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0210,1a</a></strong>, if the API is not working as described by the OpenAPI specification;
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0215</a></strong>, if the DSS through which the subscription was deleted is returning API calls to the client before having updated its underlying distributed storage.</p>
<p>As a result, the DSS pool under test is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0020</a></strong>.</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:51.290842Z)</p>
<p>✅ uss1_dss, uss1_dss (2024-11-18T16:33:51.293035Z)</p>
<p>✅ uss2_dss, uss1_dss (2024-11-18T16:33:51.295228Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:51.316977Z)</p>
<p>✅ uss1_dss, uss2_dss (2024-11-18T16:33:51.319209Z)</p>
<p>✅ uss2_dss, uss2_dss (2024-11-18T16:33:51.321282Z)</p>
<h3>Cleanup</h3>
<p>This page describes the content of a common test step that ensures a clean workspace for testing interactions with a DSS</p>
<h4>🛑 Operational intent references can be queried by ID check</h4>
<p>If an existing operational intent reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Operational intent references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for operational intents in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>.</p>
<h4>🛑 Operational intent reference removed check</h4>
<p>If an existing operational intent cannot be deleted when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>.</p>
<h4>🛑 Successful subscription search query check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to retrieve the subscriptions they created.</p>
<h4>🛑 Subscription can be queried by ID check</h4>
<p>If the DSS cannot be queried for the existing test ID, the DSS is likely not implementing <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> correctly.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.323438Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.325475Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.327497Z)</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.330761Z)</p>
<h4>🛑 Subscription can be deleted check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,5</a></strong> requires the implementation of the DSS endpoint to allow callers to delete subscriptions they created.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.337669Z)</p>
<h4>🛑 Constraint references can be queried by ID check</h4>
<p>If an existing constraint reference cannot directly be queried by its ID, or if for a non-existing one the DSS replies with a status code different than 404,
the DSS implementation is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<h4>🛑 Constraint references can be searched for check</h4>
<p>A client with valid credentials should be allowed to search for constraint references in a given area.
Otherwise, the DSS is not in compliance with <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,4</a></strong>.</p>
<h4>🛑 Constraint reference removed check</h4>
<p>If an existing constraint cannot be deleted by its manager when providing the proper ID and OVN, the DSS implementation is in violation of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,3</a></strong>.</p>
<p>This step ensures that no subscriptions with the known test IDs remain in the DSS by deleting them at this point if they do exist.</p>
<p>This includes the main test subscription used in this test, as well as the extra subscription
used for testing the <code>manager</code> field sync, if the test is configured to test for it.</p>
<h2>[skipped] ASTM UTM DSS: Direct CRDB access</h2>
<p>This instance of this test scenario was skipped in this test run because: Test suite action to run ActionType.TestScenario scenarios.astm.utm.dss.CRDBAccess could not find required resource ID &quot;dss_crdb_cluster&quot; used to populate child resource ID &quot;crdb_cluster&quot;</p>
<h2>[skipped] OVN Request Optional Extension to ASTM F3548-21</h2>
<p>This instance of this test scenario was skipped in this test run because: DSS resource with ID uss2_dss does not support OVN requests</p>
<h2>[36] ASTM SCD DSS: Report</h2>
<h3>Overview</h3>
<p>This scenario tests the ability of the DSS to receive DSS reports.</p>
<h3>Resources</h3>
<h4>dss</h4>
<p><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/astm/f3548/v21/dss.py"><code>DSSInstanceResource</code></a> to be tested in this scenario.</p>
<p>Provided by instance 2 in dss_instances in top-level resource pool.</p>
<h3>DSS Report test case</h3>
<p>This test attempts to submit to the DSS a report about a communication issue with a DSS that might otherwise go unnoticed.
A dummy <code>getOperationalIntentReference</code> query is made to a non-existent DSS in order to produce a realistic report, as if a DSS was not reachable when trying to retrieve an operational intent reference.</p>
<h4>Make valid DSS report test step</h4>
<h5>Make report to DSS</h5>
<p>This step makes a report to the DSS.</p>
<p>See <code>make_dss_report</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS report successfully submitted check</h6>
<p>If the submission of the report to the DSS does not succeed, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.528429Z)</p>
<h6>⚠️ DSS returned a valid report ID check</h6>
<p>If the ID returned by the DSS is not present or is empty, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0100,2</a></strong>.</p>
<p>✅ uss2_dss (2024-11-18T16:33:51.528477Z)</p>
<h2>[37] Solo happy path</h2>
<h3>Description</h3>
<p>This scenario performs a simple flight planning sequence with a single USS and no interactions with other USSs.  It
verifies that basic planning functionality for the USS works properly.</p>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance,
PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>The FlightIntentsResource must provide the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Priority</th>
    <th>Airspace usage state</th>
    <th>UAS state</th>
  </tr>
  <tr>
    <td><code>flight1_planned</code></td>
    <td rowspan="2">Flight 1</td>
    <td rowspan="2">Any (but all the same)</td>
    <td>Planned</td>
    <td rowspan="2">Nominal</td>
  </tr>
  <tr>
    <td><code>flight1_activated</code></td>
    <td>InUse</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, the start times of all activated intents must be during the time
the test scenario is executed (not before). Additionally, their end times must leave sufficient time for the execution
of the test scenario.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that is under test and will manage Flight 1 and its variants.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Cleanup</h3>
<h4>⚠️ Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<h2>[38] Solo happy path</h2>
<h3>Description</h3>
<p>This scenario performs a simple flight planning sequence with a single USS and no interactions with other USSs.  It
verifies that basic planning functionality for the USS works properly.</p>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance,
PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>The FlightIntentsResource must provide the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Priority</th>
    <th>Airspace usage state</th>
    <th>UAS state</th>
  </tr>
  <tr>
    <td><code>flight1_planned</code></td>
    <td rowspan="2">Flight 1</td>
    <td rowspan="2">Any (but all the same)</td>
    <td>Planned</td>
    <td rowspan="2">Nominal</td>
  </tr>
  <tr>
    <td><code>flight1_activated</code></td>
    <td>InUse</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, the start times of all activated intents must be during the time
the test scenario is executed (not before). Additionally, their end times must leave sufficient time for the execution
of the test scenario.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that is under test and will manage Flight 1 and its variants.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Cleanup</h3>
<h4>⚠️ Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<h2>[39] Validation of operational intents</h2>
<h3>Description</h3>
<p>This test checks that the USS validates correctly the operational intents it creates.
Notably the following requirements:</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0030</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0040</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong></li>
</ul>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>FlightIntentsResource that provides the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Usage State</th>
    <th>UAS State</th>
    <th>Invalid details</th>
  </tr>
  <tr>
    <td><code>valid_flight</code></td>
    <td rowspan="2">Valid Flight</td>
    <td>Planned</td>
    <td rowspan="2">Nominal</td>
    <td rowspan="2">N/A</td>
  </tr>
  <tr>
    <td><code>valid_activated</code></td>
    <td>InUse</td>
  </tr>
  <tr>
    <td><code>valid_conflict_tiny_overlap</code></td>
    <td>Tiny Overlap Conflict Flight</td>
    <td rowspan="3">Planned</td>
    <td rowspan="3">Nominal</td>
    <td>Conflicts with Flight 1 such that their 3D volumes have an overlap just above <code>IntersectionMinimumPrecision</code> = 1cm</td>
  </tr>
  <tr>
    <td><code>invalid_too_far_away</code></td>
    <td>Too Far Away Flight</td>
    <td>Has a start time that is more than <code>OiMaxPlanHorizon</code> = 30 days ahead of time</td>
  </tr>
  <tr>
    <td><code>invalid_recently_ended</code></td>
    <td>Recently Ended Flight</td>
    <td>Has an end time that is within 5 to 10 seconds in the past.</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, all activated intents must be active during the execution of the
test scenario. Additionally, their end time must leave sufficient time for the execution of the test scenario. For the
sake of simplicity, it is recommended to set the start and end times of all the intents to the same range.</p>
<p>Provided by invalid_flight_intents in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that will be tested for its validation of operational intents.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Attempt to plan invalid flights test case</h3>
<h4>Attempt to plan Too Far Away Flight test step</h4>
<p>The user flight intent that the test driver attempts to plan has a start time that is more than OiMaxPlanHorizon = 30 days ahead of
time. As such, the attempt should be rejected.</p>
<h5>🛑 Incorrectly planned check</h5>
<p>If the USS successfully plans the flight or otherwise fails to indicate a rejection, it means that it failed to validate
the intent provided.  Therefore, this check will fail if the USS indicates success in creating the flight from the user
flight intent, per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0030</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.561908Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.561866Z)</p>
<h5>Validate Too Far Away Flight not planned</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.540404Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.565586Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.565648Z)</p>
<h4>Attempt to plan Recently Ended Flight test step</h4>
<p>The user flight intent that the test driver attempts to plan has recently ended by just slightly more than <code>TimeSyncMaxDifferentialSeconds</code> = 5 seconds.
As such, if the USS synchronizes its time correctly, the attempt should be rejected.</p>
<h5>🛑 Incorrectly planned check</h5>
<p>If the USS successfully plans the flight or otherwise fails to indicate a rejection, it means that it failed to validate
that the intent provided was in the past. Therefore, this check will fail if the USS indicates success in creating the
flight from the user flight intent, per one of the following requirements:</p>
<ul>
<li>the USS does not implement properly the interface <em>getOperationalIntentDetails</em> as required by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>, which specifies that <em>The end time may not be in the past</em>; or</li>
<li>the USS did not synchronize its time within <code>TimeSyncMaxDifferentialSeconds</code> = 5 seconds of an industry-recognized time source as required by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0100</a></strong>; or</li>
<li>the USS did not use the synchronized time for the operational intent timestamps, as required by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0105</a></strong>.</li>
</ul>
<p>✅ uss1_core (2024-11-18T16:33:51.587905Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.587865Z)</p>
<h5>Validate Recently Ended Flight not planned</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.572852Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.591578Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.591631Z)</p>
<h3>Validate transition to Ended state after cancellation test case</h3>
<h4>Plan Valid Flight test step</h4>
<h5>Plan Valid Flight</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.639312Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The valid flight should be successfully planned by the flight planner.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.639270Z)</p>
<h5>Validate Valid Flight shared correctly</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.598863Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.644396Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.644462Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.644518Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.660759Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.674239Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.675691Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.675733Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:51.675770Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Validate that the flight was shared correctly and is discoverable.</p>
<h4>Remove Valid Flight test step</h4>
<h5>Cancel Valid Flight</h5>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful deletion check</h6>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
The flight should be successfully transitioned to Ended state by the flight planner.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.705073Z)</p>
<h5>Validate Valid Flight is non-discoverable</h5>
<p>This step verifies that ending/removal/cancellation of a flight resulted in the operational intent reference being removed from the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted removal.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_removed()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:51.681724Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.709521Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If the operational intent reference for the flight is still found in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.709574Z)</p>
<h5>🛑 Operational intent not shared check</h5>
<p>If the operational intent is still discoverable after it was transitioned to Ended,
this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0040</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.709574Z)</p>
<h3>Validate precision of intersection computations test case</h3>
<h4>Plan Valid Flight test step</h4>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful planning check</h5>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.750249Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The valid flight intent should be successfully planned by the flight planner.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.750207Z)</p>
<h4>Attempt to plan Tiny Overlap Conflict Flight test step</h4>
<p>The tested USS is instructed to plan a flight that is constructed in a way that it intersects with Valid Flight by just
over <code>IntersectionMinimumPrecision</code> = 1 cm.</p>
<h5>🛑 Incorrectly planned check</h5>
<p>If the tested USS successfully plans the flight or otherwise fails to indicate a rejection, it means that it failed
to correctly compute the conflicting intersection. Therefore, this check will fail if the USS indicates success in
planning the flight from the user flight intent, per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.794828Z)</p>
<h5>Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.794788Z)</p>
<h5>Validate Tiny Overlap Conflict Flight not planned</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.758174Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.799356Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:51.799408Z)</p>
<h3>Cleanup</h3>
<h4>Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:51.822522Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:51.830578Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:51.837515Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:51.844537Z)</p>
<h2>[40] Validation of operational intents</h2>
<h3>Description</h3>
<p>This test checks that the USS validates correctly the operational intents it creates.
Notably the following requirements:</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0030</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0040</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong></li>
</ul>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>FlightIntentsResource that provides the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Usage State</th>
    <th>UAS State</th>
    <th>Invalid details</th>
  </tr>
  <tr>
    <td><code>valid_flight</code></td>
    <td rowspan="2">Valid Flight</td>
    <td>Planned</td>
    <td rowspan="2">Nominal</td>
    <td rowspan="2">N/A</td>
  </tr>
  <tr>
    <td><code>valid_activated</code></td>
    <td>InUse</td>
  </tr>
  <tr>
    <td><code>valid_conflict_tiny_overlap</code></td>
    <td>Tiny Overlap Conflict Flight</td>
    <td rowspan="3">Planned</td>
    <td rowspan="3">Nominal</td>
    <td>Conflicts with Flight 1 such that their 3D volumes have an overlap just above <code>IntersectionMinimumPrecision</code> = 1cm</td>
  </tr>
  <tr>
    <td><code>invalid_too_far_away</code></td>
    <td>Too Far Away Flight</td>
    <td>Has a start time that is more than <code>OiMaxPlanHorizon</code> = 30 days ahead of time</td>
  </tr>
  <tr>
    <td><code>invalid_recently_ended</code></td>
    <td>Recently Ended Flight</td>
    <td>Has an end time that is within 5 to 10 seconds in the past.</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, all activated intents must be active during the execution of the
test scenario. Additionally, their end time must leave sufficient time for the execution of the test scenario. For the
sake of simplicity, it is recommended to set the start and end times of all the intents to the same range.</p>
<p>Provided by invalid_flight_intents in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that will be tested for its validation of operational intents.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Attempt to plan invalid flights test case</h3>
<h4>Attempt to plan Too Far Away Flight test step</h4>
<p>The user flight intent that the test driver attempts to plan has a start time that is more than OiMaxPlanHorizon = 30 days ahead of
time. As such, the attempt should be rejected.</p>
<h5>🛑 Incorrectly planned check</h5>
<p>If the USS successfully plans the flight or otherwise fails to indicate a rejection, it means that it failed to validate
the intent provided.  Therefore, this check will fail if the USS indicates success in creating the flight from the user
flight intent, per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0030</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.872285Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.872245Z)</p>
<h5>Validate Too Far Away Flight not planned</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.853407Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.875825Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.875872Z)</p>
<h4>Attempt to plan Recently Ended Flight test step</h4>
<p>The user flight intent that the test driver attempts to plan has recently ended by just slightly more than <code>TimeSyncMaxDifferentialSeconds</code> = 5 seconds.
As such, if the USS synchronizes its time correctly, the attempt should be rejected.</p>
<h5>🛑 Incorrectly planned check</h5>
<p>If the USS successfully plans the flight or otherwise fails to indicate a rejection, it means that it failed to validate
that the intent provided was in the past. Therefore, this check will fail if the USS indicates success in creating the
flight from the user flight intent, per one of the following requirements:</p>
<ul>
<li>the USS does not implement properly the interface <em>getOperationalIntentDetails</em> as required by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>, which specifies that <em>The end time may not be in the past</em>; or</li>
<li>the USS did not synchronize its time within <code>TimeSyncMaxDifferentialSeconds</code> = 5 seconds of an industry-recognized time source as required by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0100</a></strong>; or</li>
<li>the USS did not use the synchronized time for the operational intent timestamps, as required by <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0105</a></strong>.</li>
</ul>
<p>✅ uss2_core (2024-11-18T16:33:51.896726Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.896689Z)</p>
<h5>Validate Recently Ended Flight not planned</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.882435Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.899672Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.899720Z)</p>
<h3>Validate transition to Ended state after cancellation test case</h3>
<h4>Plan Valid Flight test step</h4>
<h5>Plan Valid Flight</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.944220Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The valid flight should be successfully planned by the flight planner.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.944180Z)</p>
<h5>Validate Valid Flight shared correctly</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.905982Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:51.948609Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.948674Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.948735Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.970664Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.983690Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.985119Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:51.985198Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:51.985237Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Validate that the flight was shared correctly and is discoverable.</p>
<h4>Remove Valid Flight test step</h4>
<h5>Cancel Valid Flight</h5>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful deletion check</h6>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
The flight should be successfully transitioned to Ended state by the flight planner.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.015354Z)</p>
<h5>Validate Valid Flight is non-discoverable</h5>
<p>This step verifies that ending/removal/cancellation of a flight resulted in the operational intent reference being removed from the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted removal.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_removed()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong></p>
<p>✅ uss1_dss (2024-11-18T16:33:51.990849Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.020368Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If the operational intent reference for the flight is still found in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.020423Z)</p>
<h5>🛑 Operational intent not shared check</h5>
<p>If the operational intent is still discoverable after it was transitioned to Ended,
this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0040</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.020423Z)</p>
<h3>Validate precision of intersection computations test case</h3>
<h4>Plan Valid Flight test step</h4>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful planning check</h5>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.060630Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The valid flight intent should be successfully planned by the flight planner.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.060590Z)</p>
<h4>Attempt to plan Tiny Overlap Conflict Flight test step</h4>
<p>The tested USS is instructed to plan a flight that is constructed in a way that it intersects with Valid Flight by just
over <code>IntersectionMinimumPrecision</code> = 1 cm.</p>
<h5>🛑 Incorrectly planned check</h5>
<p>If the tested USS successfully plans the flight or otherwise fails to indicate a rejection, it means that it failed
to correctly compute the conflicting intersection. Therefore, this check will fail if the USS indicates success in
planning the flight from the user flight intent, per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.106600Z)</p>
<h5>Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.106558Z)</p>
<h5>Validate Tiny Overlap Conflict Flight not planned</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.068969Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.111081Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:52.111133Z)</p>
<h3>Cleanup</h3>
<h4>Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:52.122308Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:52.132687Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:52.142971Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:52.166625Z)</p>
<h2>[skipped] All actions from action generator</h2>
<p>This instance of this test scenario was skipped in this test run because: Test suite action to run ActionType.ActionGenerator action_generators.flight_planning.FlightPlannerCombinations could not find required resource ID &quot;priority_preemption_flights&quot; used to populate child resource ID &quot;priority_preemption_flights&quot;</p>
<h2>[41] Nominal planning: not permitted conflict with equal priority</h2>
<h3>Description</h3>
<p>This test aims at testing the strategic coordination requirements that relate to the prioritization scenarios where
there exists a conflict with an equal priority flight that is not permitted by regulation:</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong></li>
</ul>
<p>It involves a tested USS and a control USS through which conflicting flights are injected.</p>
<p>This scenario skips execution and completes successfully at the setup case if a resource containing equal priority flight intents where conflicts are not allow is not provided, such as if a jurisdiction does not have any priority levels at which conflicts are not allowed.</p>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>If the jurisdiction in which these tests are being conducted does not have a priority level at which conflicts are not allowed, the FlightIntentsResource must be None to prevent the
execution of this test.</p>
<p>Otherwise, the FlightIntentsResource must provide the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Priority</th>
    <th>State</th><!-- TODO: Update with usage_state and uas_state when new flight planning API is adopted -->
    <th>Must conflict with</th>
    <th>Must not conflict with</th>
  </tr>
  <tr>
    <td><code>flight1_planned</code></td>
    <td rowspan="2">Flight 1</td>
    <td rowspan="9">Any (but all the same)</td>
    <td>Accepted</td>
    <td rowspan="2">Flight 2</td>
    <td rowspan="2">N/A</td>
  </tr>
  <tr>
    <td><code>flight1_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>flight1m_activated</code></td>
    <td>Flight 1m</td>
    <td>Activated</td>
    <td>Flight 2</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td><code>flight1c_planned</code></td>
    <td rowspan="2">Flight 1c</td>
    <td>Planned</td>
    <td rowspan="2">N/A</td>
    <td rowspan="2">Flight 2</td>
  </tr>
  <tr>
    <td><code>flight1c_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2m_planned</code></td>
    <td>Flight 2m</td>
    <td rowspan="2">Planned</td>
    <td>N/A</td>
    <td>Flight 1</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_planned</code></td>
    <td rowspan="3">Flight 2</td>
    <td rowspan="3">Flight 1, Flight 1m</td>
    <td rowspan="3">Flight 1c</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_nonconforming</code></td>
    <td>Nonconforming</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, the start times of all activated intents must be during the time
the test scenario is executed (not before). Additionally, their end times must leave sufficient time for the execution
of the test scenario.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that is under test and will manage Flight 1 and its variants.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>control_uss</h4>
<p>FlightPlannerResource that will be used to inject conflicting Flight 2. Note that this control USS needs to support the
CMSA role in order to transition to the <code>Nonconforming</code> state in order to create a pre-existing conflict among equal-priority operational intents.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Prerequisites check test case</h3>
<h4>Verify area is clear test step</h4>
<p>uss_qualifier verifies with the DSS that there are no operational intents remaining in the area.</p>
<h5>🛑 DSS responses check</h5>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area, or fails to allow the deletion of
an operational intent from its own creator, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.174010Z)</p>
<h5>🛑 Area is clear of op intents check</h5>
<p>If operational intents exist in the 4D area(s) that should be clear, then the current state of the test environment is not suitable to conduct tests so this check will fail.</p>
<p>While this scenario assumes that the area used is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario) in order to avoid a large number of area-clearing operations, the scenario will not proceed correctly if the area was left in a dirty state following a previous scenario that was supposed to leave the area clear.  This test step verifies that the area is clear.</p>
<p>✅  (2024-11-18T16:33:52.174154Z)</p>
<h3>Attempt to plan flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_plan_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 2 test step</h4>
<h5>Plan Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.222192Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully planned by the control USS.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.222152Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.181893Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.227039Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.227098Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.227150Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.251223Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.264249Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.265776Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.265818Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:52.265854Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Activate Flight 2 test step</h4>
<h5>Activate Flight 2</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.332412Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully activated by the control USS.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.332370Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.274458Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.336909Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.337020Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.336993Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.337064Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.350522Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.363445Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.364929Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.364971Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:52.365007Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to plan Flight 1 test step</h4>
<h5>Attempt to plan Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied planning because of
a non-permitted conflict with an equal priority flight intent.
See <code>plan_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly planned check</h6>
<p>If the USS successfully plans the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.410998Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to plan the Flight 1 via the tested USS. However, it conflicts with Flight 2
which is of equal priority but came first. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.410957Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.373542Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.415364Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.415414Z)</p>
<h3>Attempt to activate flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_activate_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Attempt to directly activate conflicting Flight 1 test step</h4>
<h5>Attempt to activate Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied activation because of
a non-permitted conflict with an equal priority flight intent.
See <code>activate_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly activated check</h6>
<p>If the USS successfully activates the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.460713Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to activate directly Flight 1, i.e. without the flight being planned before.
However, this conflicts with activated Flight 2, which is of equal priority. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.460671Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.423173Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.465912Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.465966Z)</p>
<h3>Attempt to modify planned flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_planned_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 1c test step</h4>
<h5>Plan Flight 1c</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.535199Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 1c form (which doesn't conflict with Flight 2) should be successfully planned by the tested USS.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.535157Z)</p>
<h5>ℹ️ Validate tested USS intersection algorithm check</h5>
<p>Because Flight 2 is nearby Flight 1c, successful planning of Flight 1c indicates the tested USS is complying with the portion of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong> that requires a USS to indicate two 4D volumes are non-intersecting when they are separated by more than 1 cm.</p>
<p>This check does not fail if the planning is rejected.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.535243Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.474056Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.540284Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.540344Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.540396Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.556225Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.570519Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.572005Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.572048Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:52.572084Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify planned Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_planned_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.634819Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
However, Flight 2 is of equal priority but was planned first.
As such the change to Flight 1c should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.634778Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.584218Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.640461Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.640534Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.640581Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.656659Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.669702Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.671172Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.671214Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:52.671249Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h3>Attempt to modify activated flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_activated_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1c test step</h4>
<h5>Activate Flight 1c</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.758923Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the smaller Flight 1c form, which should be done successfully.
Note that Flight 1c could be either planned or non-existent before this step. In the latter case, the &quot;user&quot; will
directly activate the flight without planning it beforehand.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.758883Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.680789Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.764505Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.764619Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.764592Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.764672Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.780738Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.793933Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.795451Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.795493Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:52.795528Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_activated_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.860740Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
Both flights are activated at the point where that change is requested. However, because the conflict did not
exist when the modification was initiated, it should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.860682Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.807254Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.866329Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.866437Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.866411Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.866479Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.882606Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.895564Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.897023Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.897065Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:52.897100Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h4>Delete Flight 2 test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
To prepare for the next test case, Flight 2 must be removed from the system.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.927409Z)</p>
<h3>Modify activated flight with pre-existing conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/modify_activated_flight_with_preexisting_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1 test step</h4>
<h5>Activate Flight 1</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.997717Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the normal form of Flight 1, which should be done successfully since Flight 2 was removed at the end of the previous step.
Note that Flight 1 could be either already activated in the smaller Flight 1c form or non-existent before this step. In the former case, Flight 1c is enlarged to its normal size. In the latter case, the flight will be directly activated without being planned beforehand.</p>
<p>✅ uss1_core (2024-11-18T16:33:52.997675Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:52.936954Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.002771Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.002882Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.002856Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.002924Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.016221Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.029471Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.030952Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.030994Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:53.031029Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Plan Flight 2m test step</h4>
<h5>Plan Flight 2m</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.094973Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 2 form should be successfully planned by the control USS because it does not conflict with Flight 1.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.094931Z)</p>
<h5>Validate Flight 2m sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.038482Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.100011Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.100072Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.100124Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.116287Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.129328Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.130757Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.130798Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:53.130832Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Declare Flight 2 non-conforming test step</h4>
<p>The test driver instructs the control USS to declare Flight 2 as non-conforming. This makes non-conforming Flight 2 conflict with activated Flight 1 -- this same-priority conflict would not be allowed if Flight 2 were in a nominal state.</p>
<p>Do note that executing this test step requires the control USS to support the CMSA role. As such, if the USS rejects the
transition to non-conforming state, it will be assumed that the control USS does not support this role and the test
execution will stop without failing.</p>
<h5>🛑 Successful transition to non-conforming state check</h5>
<p>All flight intent data provided is correct, therefore it should have been
transitioned to non-conforming state by the USS
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS rejects the transition, this check will fail.
If the USS indicates that the operation is not supported, the USS does not support the CMSA role, and as such the scenario execution will stop without failing.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.196928Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.196885Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.142414Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.202423Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.202495Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.202543Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.218479Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.232455Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.234009Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.234052Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:53.234088Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1 in conflict with nonconforming Flight 2 test step</h4>
<p>Before execution of this step, Flight 1 is activated (onto time range A) and Flight 2 is non-conforming (onto time range
A), and both are in conflict. The test driver modifies Flight 1 in a way that still conflicts with Flight 2 by extending
its time range A.
This modification results in a conflict between the two equal priority flight that already existed before the
modification was initiated. While this modification is expected to be accepted by the tested USS in general, the
rejection of the modification does not constitute a violation of a requirement. However, the modification request must
not result in a failure per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<h5>🛑 Successful modification or rejection check</h5>
<p>All flight intent data provided is correct and the USS should have either successfully modified the flight or rejected
properly the modification per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.295684Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.295643Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.245783Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.301525Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.301638Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.301612Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.301680Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.317873Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.330891Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.332357Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.332399Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:53.332435Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
This step validates that the response of the USS is consistent with the flight shared, i.e. either it was properly
modified, or the USS considered the attempt invalid. In the latter case, because the modification attempt was invalid,
either Flight 1 should not have been modified (because the USS kept the original accepted request), or it should have
been removed (because the USS rejected the replacement plan provided).</p>
<h3>Cleanup</h3>
<h4>⚠️ Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:53.346636Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:53.375575Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:53.387394Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:53.410590Z)</p>
<h2>[42] Nominal planning: not permitted conflict with equal priority</h2>
<h3>Description</h3>
<p>This test aims at testing the strategic coordination requirements that relate to the prioritization scenarios where
there exists a conflict with an equal priority flight that is not permitted by regulation:</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong></li>
</ul>
<p>It involves a tested USS and a control USS through which conflicting flights are injected.</p>
<p>This scenario skips execution and completes successfully at the setup case if a resource containing equal priority flight intents where conflicts are not allow is not provided, such as if a jurisdiction does not have any priority levels at which conflicts are not allowed.</p>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>If the jurisdiction in which these tests are being conducted does not have a priority level at which conflicts are not allowed, the FlightIntentsResource must be None to prevent the
execution of this test.</p>
<p>Otherwise, the FlightIntentsResource must provide the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Priority</th>
    <th>State</th><!-- TODO: Update with usage_state and uas_state when new flight planning API is adopted -->
    <th>Must conflict with</th>
    <th>Must not conflict with</th>
  </tr>
  <tr>
    <td><code>flight1_planned</code></td>
    <td rowspan="2">Flight 1</td>
    <td rowspan="9">Any (but all the same)</td>
    <td>Accepted</td>
    <td rowspan="2">Flight 2</td>
    <td rowspan="2">N/A</td>
  </tr>
  <tr>
    <td><code>flight1_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>flight1m_activated</code></td>
    <td>Flight 1m</td>
    <td>Activated</td>
    <td>Flight 2</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td><code>flight1c_planned</code></td>
    <td rowspan="2">Flight 1c</td>
    <td>Planned</td>
    <td rowspan="2">N/A</td>
    <td rowspan="2">Flight 2</td>
  </tr>
  <tr>
    <td><code>flight1c_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2m_planned</code></td>
    <td>Flight 2m</td>
    <td rowspan="2">Planned</td>
    <td>N/A</td>
    <td>Flight 1</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_planned</code></td>
    <td rowspan="3">Flight 2</td>
    <td rowspan="3">Flight 1, Flight 1m</td>
    <td rowspan="3">Flight 1c</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_nonconforming</code></td>
    <td>Nonconforming</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, the start times of all activated intents must be during the time
the test scenario is executed (not before). Additionally, their end times must leave sufficient time for the execution
of the test scenario.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that is under test and will manage Flight 1 and its variants.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>control_uss</h4>
<p>FlightPlannerResource that will be used to inject conflicting Flight 2. Note that this control USS needs to support the
CMSA role in order to transition to the <code>Nonconforming</code> state in order to create a pre-existing conflict among equal-priority operational intents.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Prerequisites check test case</h3>
<h4>Verify area is clear test step</h4>
<p>uss_qualifier verifies with the DSS that there are no operational intents remaining in the area.</p>
<h5>🛑 DSS responses check</h5>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area, or fails to allow the deletion of
an operational intent from its own creator, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.417479Z)</p>
<h5>🛑 Area is clear of op intents check</h5>
<p>If operational intents exist in the 4D area(s) that should be clear, then the current state of the test environment is not suitable to conduct tests so this check will fail.</p>
<p>While this scenario assumes that the area used is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario) in order to avoid a large number of area-clearing operations, the scenario will not proceed correctly if the area was left in a dirty state following a previous scenario that was supposed to leave the area clear.  This test step verifies that the area is clear.</p>
<p>✅  (2024-11-18T16:33:53.417629Z)</p>
<h3>Attempt to plan flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_plan_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 2 test step</h4>
<h5>Plan Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.463558Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully planned by the control USS.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.463517Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.425014Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.468014Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.468071Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.468122Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.481115Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.494218Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.495691Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.495733Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:53.495769Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Activate Flight 2 test step</h4>
<h5>Activate Flight 2</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.562555Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully activated by the control USS.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.562514Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.505548Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.567286Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.567396Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.567370Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.567438Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.579176Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.592543Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.594229Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:53.594272Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:53.594323Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to plan Flight 1 test step</h4>
<h5>Attempt to plan Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied planning because of
a non-permitted conflict with an equal priority flight intent.
See <code>plan_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly planned check</h6>
<p>If the USS successfully plans the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.656388Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to plan the Flight 1 via the tested USS. However, it conflicts with Flight 2
which is of equal priority but came first. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.656348Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.603103Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.661832Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.661889Z)</p>
<h3>Attempt to activate flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_activate_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Attempt to directly activate conflicting Flight 1 test step</h4>
<h5>Attempt to activate Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied activation because of
a non-permitted conflict with an equal priority flight intent.
See <code>activate_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly activated check</h6>
<p>If the USS successfully activates the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.702376Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to activate directly Flight 1, i.e. without the flight being planned before.
However, this conflicts with activated Flight 2, which is of equal priority. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.702335Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.669858Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.706867Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.706917Z)</p>
<h3>Attempt to modify planned flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_planned_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 1c test step</h4>
<h5>Plan Flight 1c</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.773490Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 1c form (which doesn't conflict with Flight 2) should be successfully planned by the tested USS.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.773447Z)</p>
<h5>ℹ️ Validate tested USS intersection algorithm check</h5>
<p>Because Flight 2 is nearby Flight 1c, successful planning of Flight 1c indicates the tested USS is complying with the portion of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong> that requires a USS to indicate two 4D volumes are non-intersecting when they are separated by more than 1 cm.</p>
<p>This check does not fail if the planning is rejected.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.773539Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.715363Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.779562Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.779627Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.779679Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.803755Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.816710Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.818286Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.818328Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:53.818364Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify planned Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_planned_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.874234Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
However, Flight 2 is of equal priority but was planned first.
As such the change to Flight 1c should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.874194Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.830256Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.879561Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.879630Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.879676Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.894614Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.907614Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.909070Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.909112Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:53.909199Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h3>Attempt to modify activated flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_activated_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1c test step</h4>
<h5>Activate Flight 1c</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.996677Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the smaller Flight 1c form, which should be done successfully.
Note that Flight 1c could be either planned or non-existent before this step. In the latter case, the &quot;user&quot; will
directly activate the flight without planning it beforehand.</p>
<p>✅ uss1_core (2024-11-18T16:33:53.996638Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:53.918697Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.002583Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.002693Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.002667Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.002734Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.018064Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.031860Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.033363Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.033404Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:54.033439Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_activated_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.092541Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
Both flights are activated at the point where that change is requested. However, because the conflict did not
exist when the modification was initiated, it should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.092500Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.045686Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.098567Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.098679Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.098654Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.098721Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.113278Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.126479Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.127935Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.127976Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:54.128012Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h4>Delete Flight 2 test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
To prepare for the next test case, Flight 2 must be removed from the system.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.164264Z)</p>
<h3>Modify activated flight with pre-existing conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/modify_activated_flight_with_preexisting_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1 test step</h4>
<h5>Activate Flight 1</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.239838Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the normal form of Flight 1, which should be done successfully since Flight 2 was removed at the end of the previous step.
Note that Flight 1 could be either already activated in the smaller Flight 1c form or non-existent before this step. In the former case, Flight 1c is enlarged to its normal size. In the latter case, the flight will be directly activated without being planned beforehand.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.239797Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.173038Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.244425Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.244529Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.244504Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.244572Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.259148Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.272226Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.273741Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.273783Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:54.273818Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Plan Flight 2m test step</h4>
<h5>Plan Flight 2m</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.330549Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 2 form should be successfully planned by the control USS because it does not conflict with Flight 1.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.330508Z)</p>
<h5>Validate Flight 2m sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.281451Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.335386Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.335445Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.335496Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.346985Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.360344Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.361810Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.361851Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:54.361887Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Declare Flight 2 non-conforming test step</h4>
<p>The test driver instructs the control USS to declare Flight 2 as non-conforming. This makes non-conforming Flight 2 conflict with activated Flight 1 -- this same-priority conflict would not be allowed if Flight 2 were in a nominal state.</p>
<p>Do note that executing this test step requires the control USS to support the CMSA role. As such, if the USS rejects the
transition to non-conforming state, it will be assumed that the control USS does not support this role and the test
execution will stop without failing.</p>
<h5>🛑 Successful transition to non-conforming state check</h5>
<p>All flight intent data provided is correct, therefore it should have been
transitioned to non-conforming state by the USS
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS rejects the transition, this check will fail.
If the USS indicates that the operation is not supported, the USS does not support the CMSA role, and as such the scenario execution will stop without failing.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.426148Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.426107Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.373785Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.431722Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.431790Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.431838Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.443781Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.456728Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.458199Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.458241Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:54.458276Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1 in conflict with nonconforming Flight 2 test step</h4>
<p>Before execution of this step, Flight 1 is activated (onto time range A) and Flight 2 is non-conforming (onto time range
A), and both are in conflict. The test driver modifies Flight 1 in a way that still conflicts with Flight 2 by extending
its time range A.
This modification results in a conflict between the two equal priority flight that already existed before the
modification was initiated. While this modification is expected to be accepted by the tested USS in general, the
rejection of the modification does not constitute a violation of a requirement. However, the modification request must
not result in a failure per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<h5>🛑 Successful modification or rejection check</h5>
<p>All flight intent data provided is correct and the USS should have either successfully modified the flight or rejected
properly the modification per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.532302Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.532261Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.470091Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.538653Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.538768Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.538742Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.538811Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.555580Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.568439Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.569922Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.569963Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:54.569999Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
This step validates that the response of the USS is consistent with the flight shared, i.e. either it was properly
modified, or the USS considered the attempt invalid. In the latter case, because the modification attempt was invalid,
either Flight 1 should not have been modified (because the USS kept the original accepted request), or it should have
been removed (because the USS rejected the replacement plan provided).</p>
<h3>Cleanup</h3>
<h4>⚠️ Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:54.602606Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:54.616663Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:54.642628Z)</p>
<p>✅ uss1_core (2024-11-18T16:33:54.653766Z)</p>
<h2>[43] Nominal planning: not permitted conflict with equal priority</h2>
<h3>Description</h3>
<p>This test aims at testing the strategic coordination requirements that relate to the prioritization scenarios where
there exists a conflict with an equal priority flight that is not permitted by regulation:</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong></li>
</ul>
<p>It involves a tested USS and a control USS through which conflicting flights are injected.</p>
<p>This scenario skips execution and completes successfully at the setup case if a resource containing equal priority flight intents where conflicts are not allow is not provided, such as if a jurisdiction does not have any priority levels at which conflicts are not allowed.</p>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>If the jurisdiction in which these tests are being conducted does not have a priority level at which conflicts are not allowed, the FlightIntentsResource must be None to prevent the
execution of this test.</p>
<p>Otherwise, the FlightIntentsResource must provide the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Priority</th>
    <th>State</th><!-- TODO: Update with usage_state and uas_state when new flight planning API is adopted -->
    <th>Must conflict with</th>
    <th>Must not conflict with</th>
  </tr>
  <tr>
    <td><code>flight1_planned</code></td>
    <td rowspan="2">Flight 1</td>
    <td rowspan="9">Any (but all the same)</td>
    <td>Accepted</td>
    <td rowspan="2">Flight 2</td>
    <td rowspan="2">N/A</td>
  </tr>
  <tr>
    <td><code>flight1_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>flight1m_activated</code></td>
    <td>Flight 1m</td>
    <td>Activated</td>
    <td>Flight 2</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td><code>flight1c_planned</code></td>
    <td rowspan="2">Flight 1c</td>
    <td>Planned</td>
    <td rowspan="2">N/A</td>
    <td rowspan="2">Flight 2</td>
  </tr>
  <tr>
    <td><code>flight1c_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2m_planned</code></td>
    <td>Flight 2m</td>
    <td rowspan="2">Planned</td>
    <td>N/A</td>
    <td>Flight 1</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_planned</code></td>
    <td rowspan="3">Flight 2</td>
    <td rowspan="3">Flight 1, Flight 1m</td>
    <td rowspan="3">Flight 1c</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_nonconforming</code></td>
    <td>Nonconforming</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, the start times of all activated intents must be during the time
the test scenario is executed (not before). Additionally, their end times must leave sufficient time for the execution
of the test scenario.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that is under test and will manage Flight 1 and its variants.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>control_uss</h4>
<p>FlightPlannerResource that will be used to inject conflicting Flight 2. Note that this control USS needs to support the
CMSA role in order to transition to the <code>Nonconforming</code> state in order to create a pre-existing conflict among equal-priority operational intents.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Prerequisites check test case</h3>
<h4>Verify area is clear test step</h4>
<p>uss_qualifier verifies with the DSS that there are no operational intents remaining in the area.</p>
<h5>🛑 DSS responses check</h5>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area, or fails to allow the deletion of
an operational intent from its own creator, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.659882Z)</p>
<h5>🛑 Area is clear of op intents check</h5>
<p>If operational intents exist in the 4D area(s) that should be clear, then the current state of the test environment is not suitable to conduct tests so this check will fail.</p>
<p>While this scenario assumes that the area used is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario) in order to avoid a large number of area-clearing operations, the scenario will not proceed correctly if the area was left in a dirty state following a previous scenario that was supposed to leave the area clear.  This test step verifies that the area is clear.</p>
<p>✅  (2024-11-18T16:33:54.659983Z)</p>
<h3>Attempt to plan flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_plan_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 2 test step</h4>
<h5>Plan Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.720626Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully planned by the control USS.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.720585Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.666523Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.725349Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.725414Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.725469Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.742733Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.757101Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.758578Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.758620Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:54.758655Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Activate Flight 2 test step</h4>
<h5>Activate Flight 2</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.840545Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully activated by the control USS.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.840505Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.766938Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.845492Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.845602Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.845576Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.845645Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.861908Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.875024Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.876493Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:54.876535Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:54.876571Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to plan Flight 1 test step</h4>
<h5>Attempt to plan Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied planning because of
a non-permitted conflict with an equal priority flight intent.
See <code>plan_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly planned check</h6>
<p>If the USS successfully plans the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.927801Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to plan the Flight 1 via the tested USS. However, it conflicts with Flight 2
which is of equal priority but came first. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.927760Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.885098Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.932545Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.932598Z)</p>
<h3>Attempt to activate flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_activate_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Attempt to directly activate conflicting Flight 1 test step</h4>
<h5>Attempt to activate Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied activation because of
a non-permitted conflict with an equal priority flight intent.
See <code>activate_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly activated check</h6>
<p>If the USS successfully activates the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.972534Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to activate directly Flight 1, i.e. without the flight being planned before.
However, this conflicts with activated Flight 2, which is of equal priority. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.972493Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.940592Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.977024Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss2_core (2024-11-18T16:33:54.977076Z)</p>
<h3>Attempt to modify planned flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_planned_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 1c test step</h4>
<h5>Plan Flight 1c</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.044647Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 1c form (which doesn't conflict with Flight 2) should be successfully planned by the tested USS.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.044607Z)</p>
<h5>ℹ️ Validate tested USS intersection algorithm check</h5>
<p>Because Flight 2 is nearby Flight 1c, successful planning of Flight 1c indicates the tested USS is complying with the portion of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong> that requires a USS to indicate two 4D volumes are non-intersecting when they are separated by more than 1 cm.</p>
<p>This check does not fail if the planning is rejected.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.044689Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:54.985374Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.050392Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.050462Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.050514Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.066062Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.079345Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.080811Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.080853Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:55.080890Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify planned Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_planned_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.138956Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
However, Flight 2 is of equal priority but was planned first.
As such the change to Flight 1c should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.138914Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.093031Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.144919Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.144991Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.145037Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.159620Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.172632Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.174155Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.174197Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:55.174233Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h3>Attempt to modify activated flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_activated_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1c test step</h4>
<h5>Activate Flight 1c</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.262538Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the smaller Flight 1c form, which should be done successfully.
Note that Flight 1c could be either planned or non-existent before this step. In the latter case, the &quot;user&quot; will
directly activate the flight without planning it beforehand.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.262498Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.184472Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.268410Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.268523Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.268498Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.268565Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.282863Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.295925Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.297406Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.297448Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:55.297483Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_activated_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.356052Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
Both flights are activated at the point where that change is requested. However, because the conflict did not
exist when the modification was initiated, it should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.356010Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.309462Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.362095Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.362209Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.362183Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.362250Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.376123Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.389046Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.390592Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.390633Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:55.390669Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h4>Delete Flight 2 test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
To prepare for the next test case, Flight 2 must be removed from the system.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.426914Z)</p>
<h3>Modify activated flight with pre-existing conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/modify_activated_flight_with_preexisting_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1 test step</h4>
<h5>Activate Flight 1</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.502604Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the normal form of Flight 1, which should be done successfully since Flight 2 was removed at the end of the previous step.
Note that Flight 1 could be either already activated in the smaller Flight 1c form or non-existent before this step. In the former case, Flight 1c is enlarged to its normal size. In the latter case, the flight will be directly activated without being planned beforehand.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.502562Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.435495Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.507623Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.507737Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.507711Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.507780Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.522162Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.535800Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.537310Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.537354Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:55.537390Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Plan Flight 2m test step</h4>
<h5>Plan Flight 2m</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.608961Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 2 form should be successfully planned by the control USS because it does not conflict with Flight 1.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.608921Z)</p>
<h5>Validate Flight 2m sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.544698Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.613706Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.613766Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.613818Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.630021Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.642711Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.644115Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.644156Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:55.644192Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Declare Flight 2 non-conforming test step</h4>
<p>The test driver instructs the control USS to declare Flight 2 as non-conforming. This makes non-conforming Flight 2 conflict with activated Flight 1 -- this same-priority conflict would not be allowed if Flight 2 were in a nominal state.</p>
<p>Do note that executing this test step requires the control USS to support the CMSA role. As such, if the USS rejects the
transition to non-conforming state, it will be assumed that the control USS does not support this role and the test
execution will stop without failing.</p>
<h5>🛑 Successful transition to non-conforming state check</h5>
<p>All flight intent data provided is correct, therefore it should have been
transitioned to non-conforming state by the USS
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS rejects the transition, this check will fail.
If the USS indicates that the operation is not supported, the USS does not support the CMSA role, and as such the scenario execution will stop without failing.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.715400Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.715359Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.655906Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.721363Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.721434Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.721483Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.737654Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.751007Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.752474Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:55.752516Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:55.752551Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1 in conflict with nonconforming Flight 2 test step</h4>
<p>Before execution of this step, Flight 1 is activated (onto time range A) and Flight 2 is non-conforming (onto time range
A), and both are in conflict. The test driver modifies Flight 1 in a way that still conflicts with Flight 2 by extending
its time range A.
This modification results in a conflict between the two equal priority flight that already existed before the
modification was initiated. While this modification is expected to be accepted by the tested USS in general, the
rejection of the modification does not constitute a violation of a requirement. However, the modification request must
not result in a failure per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<h5>🛑 Successful modification or rejection check</h5>
<p>All flight intent data provided is correct and the USS should have either successfully modified the flight or rejected
properly the modification per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.828077Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.828034Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.764913Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.834216Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.834339Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.834313Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.834382Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.850239Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.863164Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.864623Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:55.864665Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:55.864700Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
This step validates that the response of the USS is consistent with the flight shared, i.e. either it was properly
modified, or the USS considered the attempt invalid. In the latter case, because the modification attempt was invalid,
either Flight 1 should not have been modified (because the USS kept the original accepted request), or it should have
been removed (because the USS rejected the replacement plan provided).</p>
<h3>Cleanup</h3>
<h4>⚠️ Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:55.901029Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:55.915342Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:55.929045Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:55.964298Z)</p>
<h2>[44] Nominal planning: not permitted conflict with equal priority</h2>
<h3>Description</h3>
<p>This test aims at testing the strategic coordination requirements that relate to the prioritization scenarios where
there exists a conflict with an equal priority flight that is not permitted by regulation:</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong></li>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong></li>
</ul>
<p>It involves a tested USS and a control USS through which conflicting flights are injected.</p>
<p>This scenario skips execution and completes successfully at the setup case if a resource containing equal priority flight intents where conflicts are not allow is not provided, such as if a jurisdiction does not have any priority levels at which conflicts are not allowed.</p>
<p>It assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>If the jurisdiction in which these tests are being conducted does not have a priority level at which conflicts are not allowed, the FlightIntentsResource must be None to prevent the
execution of this test.</p>
<p>Otherwise, the FlightIntentsResource must provide the following flight intents:</p>
<table>
  <tr>
    <th>Flight intent ID</th>
    <th>Flight name</th>
    <th>Priority</th>
    <th>State</th><!-- TODO: Update with usage_state and uas_state when new flight planning API is adopted -->
    <th>Must conflict with</th>
    <th>Must not conflict with</th>
  </tr>
  <tr>
    <td><code>flight1_planned</code></td>
    <td rowspan="2">Flight 1</td>
    <td rowspan="9">Any (but all the same)</td>
    <td>Accepted</td>
    <td rowspan="2">Flight 2</td>
    <td rowspan="2">N/A</td>
  </tr>
  <tr>
    <td><code>flight1_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>flight1m_activated</code></td>
    <td>Flight 1m</td>
    <td>Activated</td>
    <td>Flight 2</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td><code>flight1c_planned</code></td>
    <td rowspan="2">Flight 1c</td>
    <td>Planned</td>
    <td rowspan="2">N/A</td>
    <td rowspan="2">Flight 2</td>
  </tr>
  <tr>
    <td><code>flight1c_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2m_planned</code></td>
    <td>Flight 2m</td>
    <td rowspan="2">Planned</td>
    <td>N/A</td>
    <td>Flight 1</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_planned</code></td>
    <td rowspan="3">Flight 2</td>
    <td rowspan="3">Flight 1, Flight 1m</td>
    <td rowspan="3">Flight 1c</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_activated</code></td>
    <td>Activated</td>
  </tr>
  <tr>
    <td><code>equal_prio_flight2_nonconforming</code></td>
    <td>Nonconforming</td>
  </tr>
</table>
<p>Because the scenario involves activation of intents, the start times of all activated intents must be during the time
the test scenario is executed (not before). Additionally, their end times must leave sufficient time for the execution
of the test scenario.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that is under test and will manage Flight 1 and its variants.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>control_uss</h4>
<p>FlightPlannerResource that will be used to inject conflicting Flight 2. Note that this control USS needs to support the
CMSA role in order to transition to the <code>Nonconforming</code> state in order to create a pre-existing conflict among equal-priority operational intents.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Prerequisites check test case</h3>
<h4>Verify area is clear test step</h4>
<p>uss_qualifier verifies with the DSS that there are no operational intents remaining in the area.</p>
<h5>🛑 DSS responses check</h5>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area, or fails to allow the deletion of
an operational intent from its own creator, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.970442Z)</p>
<h5>🛑 Area is clear of op intents check</h5>
<p>If operational intents exist in the 4D area(s) that should be clear, then the current state of the test environment is not suitable to conduct tests so this check will fail.</p>
<p>While this scenario assumes that the area used is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario) in order to avoid a large number of area-clearing operations, the scenario will not proceed correctly if the area was left in a dirty state following a previous scenario that was supposed to leave the area clear.  This test step verifies that the area is clear.</p>
<p>✅  (2024-11-18T16:33:55.970542Z)</p>
<h3>Attempt to plan flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_plan_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 2 test step</h4>
<h5>Plan Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.033018Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully planned by the control USS.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.032977Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:55.977059Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.038010Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.038073Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.038126Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.065315Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.078386Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.079842Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.079883Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:56.079918Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Activate Flight 2 test step</h4>
<h5>Activate Flight 2</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.163631Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 2 should be successfully activated by the control USS.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.163589Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.088455Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.168944Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.169058Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.169032Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.169109Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.185450Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.198570Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.200024Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.200067Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:56.200101Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to plan Flight 1 test step</h4>
<h5>Attempt to plan Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied planning because of
a non-permitted conflict with an equal priority flight intent.
See <code>plan_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly planned check</h6>
<p>If the USS successfully plans the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.261105Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to plan the Flight 1 via the tested USS. However, it conflicts with Flight 2
which is of equal priority but came first. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.261064Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.208910Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.266445Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.266502Z)</p>
<h3>Attempt to activate flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_activate_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Attempt to directly activate conflicting Flight 1 test step</h4>
<h5>Attempt to activate Flight 1</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied activation because of
a non-permitted conflict with an equal priority flight intent.
See <code>activate_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly activated check</h6>
<p>If the USS successfully activates the flight or otherwise fails to indicate a conflict, it means they failed to detect the
conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in creating the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.326506Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to activate directly Flight 1, i.e. without the flight being planned before.
However, this conflicts with activated Flight 2, which is of equal priority. As such it should be rejected
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0045</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.326464Z)</p>
<h5>Validate Flight 1 not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.274724Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.331508Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
Flight 1 should not have been shared with the interoperability ecosystem since it was rejected.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.331562Z)</p>
<h3>Attempt to modify planned flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_planned_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Plan Flight 1c test step</h4>
<h5>Plan Flight 1c</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.414717Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 1c form (which doesn't conflict with Flight 2) should be successfully planned by the tested USS.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.414675Z)</p>
<h5>ℹ️ Validate tested USS intersection algorithm check</h5>
<p>Because Flight 2 is nearby Flight 1c, successful planning of Flight 1c indicates the tested USS is complying with the portion of
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0500</a></strong> that requires a USS to indicate two 4D volumes are non-intersecting when they are separated by more than 1 cm.</p>
<p>This check does not fail if the planning is rejected.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.414763Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.340209Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.420462Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.420527Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.420580Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.440023Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.453532Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.454999Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.455041Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:56.455076Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify planned Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_planned_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.530108Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
However, Flight 2 is of equal priority but was planned first.
As such the change to Flight 1c should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0040</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.530065Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.466598Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.536368Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.536451Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.536499Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.554773Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.567800Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.569292Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.569335Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:56.569370Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h3>Attempt to modify activated flight into conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/attempt_to_modify_activated_flight_into_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1c test step</h4>
<h5>Activate Flight 1c</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.669398Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the smaller Flight 1c form, which should be done successfully.
Note that Flight 1c could be either planned or non-existent before this step. In the latter case, the &quot;user&quot; will
directly activate the flight without planning it beforehand.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.669358Z)</p>
<h5>Validate Flight 1c sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.578257Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.674791Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.674907Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.674882Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.674948Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.694058Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.707469Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.708944Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.708985Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:56.709019Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1c into conflict test step</h4>
<h5>Attempt to modify Flight 1c</h5>
<p>This page describes the content of a common test step where a user flight intent should be denied modification because
of a non-permitted conflict with an equal priority flight intent.
See <code>modify_activated_conflict_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/prioritization_test_steps.py">prioritization_test_steps.py</a>.</p>
<h6>🛑 Incorrectly modified check</h6>
<p>If the USS successfully modifies the flight or otherwise fails to indicate a conflict, it means they failed to detect
the conflict with the pre-existing flight.
Therefore, this check will fail if the USS indicates success in modifying the flight from the user flight intent,
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.786027Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver attempts to enlarge Flight 1c so that it conflicts with Flight 2.
Both flights are activated at the point where that change is requested. However, because the conflict did not
exist when the modification was initiated, it should be rejected per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0050</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.785986Z)</p>
<h5>Validate Flight 1c not modified</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.720550Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.791714Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.791832Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.791806Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.791873Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.811258Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.824093Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.825598Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.825640Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:56.825675Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
Because the modification attempt was invalid, either Flight 1c should not have been modified (because the USS kept the
original accepted request), or it should have been removed (because the USS rejected the replacement plan provided).</p>
<h4>Delete Flight 2 test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
To prepare for the next test case, Flight 2 must be removed from the system.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.857282Z)</p>
<h3>Modify activated flight with pre-existing conflict test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/nominal_planning/conflict_equal_priority_not_permitted/assets/modify_activated_flight_with_preexisting_conflict.svg" alt="Test case summary illustration" /></p>
<h4>Activate Flight 1 test step</h4>
<h5>Activate Flight 1</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.942035Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The test driver activates the normal form of Flight 1, which should be done successfully since Flight 2 was removed at the end of the previous step.
Note that Flight 1 could be either already activated in the smaller Flight 1c form or non-existent before this step. In the former case, Flight 1c is enlarged to its normal size. In the latter case, the flight will be directly activated without being planned beforehand.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.941995Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.866455Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.947263Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.947376Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.947350Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.947418Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.963255Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.976102Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.977651Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:56.977693Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:56.977729Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Plan Flight 2m test step</h4>
<h5>Plan Flight 2m</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.058428Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
The smaller Flight 2 form should be successfully planned by the control USS because it does not conflict with Flight 1.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.058387Z)</p>
<h5>Validate Flight 2m sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:56.985471Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.063468Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.063527Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.063578Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.082891Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.095545Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.096939Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.096980Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:57.097016Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Declare Flight 2 non-conforming test step</h4>
<p>The test driver instructs the control USS to declare Flight 2 as non-conforming. This makes non-conforming Flight 2 conflict with activated Flight 1 -- this same-priority conflict would not be allowed if Flight 2 were in a nominal state.</p>
<p>Do note that executing this test step requires the control USS to support the CMSA role. As such, if the USS rejects the
transition to non-conforming state, it will be assumed that the control USS does not support this role and the test
execution will stop without failing.</p>
<h5>🛑 Successful transition to non-conforming state check</h5>
<p>All flight intent data provided is correct, therefore it should have been
transitioned to non-conforming state by the USS
per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS rejects the transition, this check will fail.
If the USS indicates that the operation is not supported, the USS does not support the CMSA role, and as such the scenario execution will stop without failing.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.169669Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.169628Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.108665Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.175352Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.175435Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.175505Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.194423Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.208195Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.209716Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.209758Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:57.209794Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Attempt to modify activated Flight 1 in conflict with nonconforming Flight 2 test step</h4>
<p>Before execution of this step, Flight 1 is activated (onto time range A) and Flight 2 is non-conforming (onto time range
A), and both are in conflict. The test driver modifies Flight 1 in a way that still conflicts with Flight 2 by extending
its time range A.
This modification results in a conflict between the two equal priority flight that already existed before the
modification was initiated. While this modification is expected to be accepted by the tested USS in general, the
rejection of the modification does not constitute a violation of a requirement. However, the modification request must
not result in a failure per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<h5>🛑 Successful modification or rejection check</h5>
<p>All flight intent data provided is correct and the USS should have either successfully modified the flight or rejected
properly the modification per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.284459Z)</p>
<h5>🛑 Failure check</h5>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.284418Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.221451Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.290036Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.290153Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.290127Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.290195Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.308954Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.322216Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.323691Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:33:57.323732Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:57.323767Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.
This step validates that the response of the USS is consistent with the flight shared, i.e. either it was properly
modified, or the USS considered the attempt invalid. In the latter case, because the modification attempt was invalid,
either Flight 1 should not have been modified (because the USS kept the original accepted request), or it should have
been removed (because the USS rejected the replacement plan provided).</p>
<h3>Cleanup</h3>
<h4>⚠️ Successful flight deletion check</h4>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:33:57.341295Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:57.370826Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:57.397694Z)</p>
<p>✅ uss2_core (2024-11-18T16:33:57.409391Z)</p>
<h2>[45] Data Validation of GET operational intents by USS</h2>
<h3>Description</h3>
<p>This test checks that the USS being tested validates the operational intents received as response to its GET request from another USS.
mock_uss plans an operation designed to be relevant to (but not intersect) the operation tested_uss will plan, and provides the data that tested_uss GETs.
tested_uss validates the GET response from mock_uss and accordingly plan its operation.</p>
<p>The primary requirement tested by this scenario is <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong> because a USS cannot verify its operational intent does not conflict when it cannot obtain valid details for that operational intent.</p>
<p>This scenario assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>FlightIntentsResource provides the two flight intents which must be relevant to each other, but must not intersect.
This can generally be accomplished when the convex hulls of the 2D footprints of the two flights intersect, but the polygons do not intersect.
There is an overlap in time and altitude of the two flights.</p>
<ul>
<li>flight_1</li>
<li>flight_2</li>
</ul>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>mock_uss</h4>
<p>MockUSSResource that will be used for planning flights, controlling data shared for validation testing, and gathering interuss interactions from mock_uss.</p>
<p>Provided by mock_uss in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that will be used for the USS being tested for its data validation of operational intent.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Successfully plan flight near an existing flight test case</h3>
<h4>mock_uss plans flight 2 test step</h4>
<h5>Plan successfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.464710Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 2 should be successfully planned by mock_uss.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.464670Z)</p>
<h5>Validate operational intent is shared</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.418864Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.469582Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.469644Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.469704Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.484987Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.498075Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.499587Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ mock_uss (2024-11-18T16:33:57.499629Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:33:57.499664Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>tested_uss plans flight 1 test step</h4>
<h5>Plan successfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.610559Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>The test driver instructs tested_uss to attempt to plan flight 1. tested_uss checks if any conflicts with flight 2
which is of equal priority and came first.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.610518Z)</p>
<h5>Validate operational intent is shared</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.508325Z)</p>
<p>✅ uss1_dss (2024-11-18T16:33:57.616437Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.616503Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.616555Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.635109Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.648051Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.649555Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:33:57.649597Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:33:57.649633Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Validate that tested_uss obtained flight2 details test step</h4>
<p>This step verifies that a USS obtained operational intent details from a Mock USS by means of either a notification from
the Mock USS (push), or a GET request (operation <em>getOperationalIntentDetails</em>) to the Mock USS.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.664098Z)</p>
<h5>🛑 USS obtained operational intent details by means of either notification or GET request check</h5>
<p>SCD0035 requires a USS to verify before transitioning to Accepted that it does not conflict with another operational
intent, and the only way to have verified this is by knowing all operational intent details.
As such, if the USS was neither notified of the details by the Mock USS, nor did it retrieve them directly from the Mock
USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>
Validate that tested_uss obtained flight2 details from mock_uss, by means of either
a notification pushed by mock_uss to tested_uss due to the pre-existing subscription, or
direct retrieval by tested_uss from mock_uss.</p>
<p>✅ uss1_core (2024-11-18T16:34:04.664390Z)</p>
<h4>Validate flight1 Notification sent to mock_uss test step</h4>
<p>This step verifies that, when creating or modifying an operational intent, a USS sent the required notification for a relevant subscription owned by a mock_uss instance by checking the interactions of that mock_uss instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.674323Z)</p>
<h5>⚠️ Expect Notification sent check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0085</a></strong>, the notification should be sent by a
USS about its operational intent to the subscribing USS in no more than MaxRespondToSubscriptionNotification (5) seconds,
95 percent of the time.
To verify that notification was indeed sent for this check, waiting up to MaxRespondToSubscriptionNotificationSeconds gets us
95 percent confidence in declaring the USS non-compliant if notification is not received.
To ensure the notifications sent are not missed for a test case, we can pick a threshold that gives
a very high (e.g., 99 percent per test) confidence of non-compliance. We can make conservative assumptions
about the distribution of the delays. If we assume that the notification delays have a normal distribution
with 95 percentile at 5 seconds, then with the standard deviation of 3.04, we get the 99 percentile at 7.07 seconds.
Hence, for test cases that check notification sent for an operational intent, we will wait for notifications till threshold
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/data_exchange_validation/test_steps/wait.py">MaxTimeToWaitForSubscriptionNotificationSeconds</a>  (rounding to 7 seconds).</p>
<h6>Note</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0085</a></strong>, MaxRespondToSubscriptionNotification
is measured from time_start - Receipt of subscription notification from DSS -
till time_end - Entity details sent to subscribing USS.
To make sure the test driver gives enough time for notifications to be received by mock_uss,
it marks the time to get interactions from mock_uss as - the time test driver initiates the plan.
The sequence of events is -</p>
<ol>
<li>Test driver initiates plan to tested_uss. t0</li>
<li>tested_uss shares the plan with DSS and receives DSS response. t_time_start.</li>
<li>tested_uss responds to test driver with Completed.</li>
<li>Test driver checks for shared operational_intent in DSS and checks its retrievable. t1</li>
<li>Test driver waits for MaxTimeToWaitForSubscriptionNotificationSeconds.</li>
<li>Test driver retrieves interactions from mock_uss. t1 + MaxTimeToWaitForSubscriptionNotificationSeconds</li>
<li>Test driver should find the notification in these interactions to declare that USS sent notifications.</li>
</ol>
<p>We know from above that waiting from t_time_start for MaxTimeToWaitForSubscriptionNotificationSeconds would
give us 99% confidence that we receive the notifications. But, test_driver doesn't have access to t_time_start.
So, it starts waiting from a point of time after the t_time_start that is t1.
This ensures that test driver waits for a long enough duration before getting the interactions. Hence, we get
a high confidence that the test driver correctly verifies if a notification was sent by tested_uss.</p>
<p>✅ uss1_core (2024-11-18T16:34:04.674416Z)</p>
<h5>🛑 Notification data is valid check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0085</a></strong>
tested_uss notifies mock_uss of flight 1, due to mock_uss's subscription covering flight 2 (which is necessarily relevant to flight 1 per test design).</p>
<h4>Delete tested_uss flight test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.</p>
<p>To prepare for the next test case, tested_uss's flight 1 is closed.</p>
<p>✅ uss1_core (2024-11-18T16:34:04.736268Z)</p>
<h4>Delete mock_uss flight test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.</p>
<p>To prepare for the next test case, mock_uss's flight 2 is closed.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.762703Z)</p>
<h3>Flight planning prevented due to invalid data sharing test case</h3>
<p>In this test case, mock_uss is manipulated to share invalid operational intent details which should prevent tested_uss from planning since it cannot verify the absence of a conflict.</p>
<h4>mock_uss plans flight 2, sharing invalid operational intent data test step</h4>
<h5>Plan successfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.817639Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 2 should be successfully planned by the mock_uss.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.817597Z)</p>
<h5>Validate invalid operational intent details shared</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>expect_shared_with_invalid_data</code> in invalid_op_test_steps.py.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intent references in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:04.771001Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:04.823023Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.823086Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.840731Z)</p>
<h6>🛑 Invalid data in Operational intent details shared by Mock USS for negative test check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>Mock USS shares operational intent details with specified invalid data in response for the negative test case as per
<a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>.
If the operational intent details from mock_uss does not contain the specified invalid data, this check will fail.
It would mean mock_uss is not behaving correctly.</p>
<p>The mock_uss is instructed to share invalid data with other USS, for negative test.</p>
<p>✅ mock_uss (2024-11-18T16:34:04.852154Z)</p>
<h4>tested_uss attempts to plan flight 1, expect failure test step</h4>
<h5>Plan unsuccessfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent fails in a flight planner, because of invalid data shared for a nearby flight shared by another USS.  See <code>plan_flight_intent_expect_failed</code> in invalid_op_test_steps.py.</p>
<h6>🛑 Plan should fail check</h6>
<p>A USS shouldn't go ahead and plan if it doesn't have accurate information.
As per SCD0035 a USS needs to verify a particular conflict status.
If flight intent data shared for a nearby flight shared is invalid, the USS can't successfully perform that verification.
It couldn't have obtained valid information about the other operational intents it's supposed to verify that conflict status against.
Therefore, the USS should fail an attempt to plan. If the plan succeeds, we know they've violated SCD0035 because they failed to verify that particular conflict status.</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong></p>
<p>The test driver instructs tested_uss to plan flight 1. tested_uss should (per SCD0035) check if any conflicts with flight 2
which is of equal priority and came first.
The planning attempt should fail because tested_uss will be unable to obtain valid operational intent details for flight 2.</p>
<p>✅ uss1_core (2024-11-18T16:34:04.930249Z)</p>
<h5>Validate operational intent not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:04.861026Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:04.935894Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Validate flight 1 is not shared with DSS, as plan failed.</p>
<p>✅ uss1_core (2024-11-18T16:34:04.935957Z)</p>
<h4>Validate that tested_uss obtained flight2 details test step</h4>
<p>This step verifies that a USS obtained operational intent details from a Mock USS by means of either a notification from
the Mock USS (push), or a GET request (operation <em>getOperationalIntentDetails</em>) to the Mock USS.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:11.948116Z)</p>
<h5>🛑 USS obtained operational intent details by means of either notification or GET request check</h5>
<p>SCD0035 requires a USS to verify before transitioning to Accepted that it does not conflict with another operational
intent, and the only way to have verified this is by knowing all operational intent details.
As such, if the USS was neither notified of the details by the Mock USS, nor did it retrieve them directly from the Mock
USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>
Validate that tested_uss obtained flight2 details from mock_uss, by means of either
a notification pushed by mock_uss to tested_uss due to the pre-existing subscription, or
direct retrieval by tested_uss from mock_uss.</p>
<p>✅ uss1_core (2024-11-18T16:34:11.948334Z)</p>
<h4>Validate flight 1 Notification not sent to mock_uss test step</h4>
<p>This step verifies when a flight is not created, it is also not notified by checking the interuss interactions of mock_uss instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:11.956575Z)</p>
<h5>ℹ️ Mock USS interaction can be parsed check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<h5>🛑 Expect Notification not sent check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/f3548/notification_requirements.md">interuss.f3548.notification_requirements.NoDssEntityNoNotification</a></strong></p>
<p>As per the above requirement, the notification should not be sent by a USS about an entity that could not be created in DSS
to any USS. To verify that notification was indeed not sent, we need to wait and check up to a threshold to get confidence
that USS did not send notification.
The max duration for sending a notification in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">SCD0085</a> is MaxRespondToSubscriptionNotification(5) seconds.
However, this duration is from time start - Receipt of subscription notification from DSS, which does not exist for this check.
In this check we use time start when the test driver asked the USS to plan the failed flight.
When checking notification not sent, we should wait for the same duration that is used for when checking notification sent.
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/data_exchange_validation/test_steps/validate_notification_operational_intent.md">Expect Notification sent</a>.
So, we plan to use <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/data_exchange_validation/test_steps/wait.py">MaxTimeToWaitForSubscriptionNotificationSeconds</a> (7 seconds).</p>
<h4>Delete mock_uss flight test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
Teardown</p>
<p>✅ mock_uss (2024-11-18T16:34:12.003450Z)</p>
<h3>Cleanup</h3>
<h4>Successful flight deletion check</h4>
<p>This cleanup is for both - after testcase ends and after test scenario ends
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:34:12.018473Z)</p>
<h2>[46] Data Validation of GET operational intents by USS</h2>
<h3>Description</h3>
<p>This test checks that the USS being tested validates the operational intents received as response to its GET request from another USS.
mock_uss plans an operation designed to be relevant to (but not intersect) the operation tested_uss will plan, and provides the data that tested_uss GETs.
tested_uss validates the GET response from mock_uss and accordingly plan its operation.</p>
<p>The primary requirement tested by this scenario is <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong> because a USS cannot verify its operational intent does not conflict when it cannot obtain valid details for that operational intent.</p>
<p>This scenario assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>FlightIntentsResource provides the two flight intents which must be relevant to each other, but must not intersect.
This can generally be accomplished when the convex hulls of the 2D footprints of the two flights intersect, but the polygons do not intersect.
There is an overlap in time and altitude of the two flights.</p>
<ul>
<li>flight_1</li>
<li>flight_2</li>
</ul>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>mock_uss</h4>
<p>MockUSSResource that will be used for planning flights, controlling data shared for validation testing, and gathering interuss interactions from mock_uss.</p>
<p>Provided by mock_uss in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that will be used for the USS being tested for its data validation of operational intent.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Successfully plan flight near an existing flight test case</h3>
<h4>mock_uss plans flight 2 test step</h4>
<h5>Plan successfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.073795Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 2 should be successfully planned by mock_uss.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.073752Z)</p>
<h5>Validate operational intent is shared</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:12.028098Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:12.079221Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.079294Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.079349Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.094832Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.107707Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.109293Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ mock_uss (2024-11-18T16:34:12.109337Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:34:12.109373Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>tested_uss plans flight 1 test step</h4>
<h5>Plan successfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.226009Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>The test driver instructs tested_uss to attempt to plan flight 1. tested_uss checks if any conflicts with flight 2
which is of equal priority and came first.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.225967Z)</p>
<h5>Validate operational intent is shared</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:12.118429Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:12.232538Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.232615Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.232668Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.252314Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.266350Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.267823Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:34:12.267864Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:34:12.267899Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Validate that tested_uss obtained flight2 details test step</h4>
<p>This step verifies that a USS obtained operational intent details from a Mock USS by means of either a notification from
the Mock USS (push), or a GET request (operation <em>getOperationalIntentDetails</em>) to the Mock USS.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.282821Z)</p>
<h5>🛑 USS obtained operational intent details by means of either notification or GET request check</h5>
<p>SCD0035 requires a USS to verify before transitioning to Accepted that it does not conflict with another operational
intent, and the only way to have verified this is by knowing all operational intent details.
As such, if the USS was neither notified of the details by the Mock USS, nor did it retrieve them directly from the Mock
USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>
Validate that tested_uss obtained flight2 details from mock_uss, by means of either
a notification pushed by mock_uss to tested_uss due to the pre-existing subscription, or
direct retrieval by tested_uss from mock_uss.</p>
<p>✅ uss2_core (2024-11-18T16:34:19.283064Z)</p>
<h4>Validate flight1 Notification sent to mock_uss test step</h4>
<p>This step verifies that, when creating or modifying an operational intent, a USS sent the required notification for a relevant subscription owned by a mock_uss instance by checking the interactions of that mock_uss instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.293905Z)</p>
<h5>⚠️ Expect Notification sent check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0085</a></strong>, the notification should be sent by a
USS about its operational intent to the subscribing USS in no more than MaxRespondToSubscriptionNotification (5) seconds,
95 percent of the time.
To verify that notification was indeed sent for this check, waiting up to MaxRespondToSubscriptionNotificationSeconds gets us
95 percent confidence in declaring the USS non-compliant if notification is not received.
To ensure the notifications sent are not missed for a test case, we can pick a threshold that gives
a very high (e.g., 99 percent per test) confidence of non-compliance. We can make conservative assumptions
about the distribution of the delays. If we assume that the notification delays have a normal distribution
with 95 percentile at 5 seconds, then with the standard deviation of 3.04, we get the 99 percentile at 7.07 seconds.
Hence, for test cases that check notification sent for an operational intent, we will wait for notifications till threshold
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/data_exchange_validation/test_steps/wait.py">MaxTimeToWaitForSubscriptionNotificationSeconds</a>  (rounding to 7 seconds).</p>
<h6>Note</h6>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0085</a></strong>, MaxRespondToSubscriptionNotification
is measured from time_start - Receipt of subscription notification from DSS -
till time_end - Entity details sent to subscribing USS.
To make sure the test driver gives enough time for notifications to be received by mock_uss,
it marks the time to get interactions from mock_uss as - the time test driver initiates the plan.
The sequence of events is -</p>
<ol>
<li>Test driver initiates plan to tested_uss. t0</li>
<li>tested_uss shares the plan with DSS and receives DSS response. t_time_start.</li>
<li>tested_uss responds to test driver with Completed.</li>
<li>Test driver checks for shared operational_intent in DSS and checks its retrievable. t1</li>
<li>Test driver waits for MaxTimeToWaitForSubscriptionNotificationSeconds.</li>
<li>Test driver retrieves interactions from mock_uss. t1 + MaxTimeToWaitForSubscriptionNotificationSeconds</li>
<li>Test driver should find the notification in these interactions to declare that USS sent notifications.</li>
</ol>
<p>We know from above that waiting from t_time_start for MaxTimeToWaitForSubscriptionNotificationSeconds would
give us 99% confidence that we receive the notifications. But, test_driver doesn't have access to t_time_start.
So, it starts waiting from a point of time after the t_time_start that is t1.
This ensures that test driver waits for a long enough duration before getting the interactions. Hence, we get
a high confidence that the test driver correctly verifies if a notification was sent by tested_uss.</p>
<p>✅ uss2_core (2024-11-18T16:34:19.294006Z)</p>
<h5>🛑 Notification data is valid check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0085</a></strong>
tested_uss notifies mock_uss of flight 1, due to mock_uss's subscription covering flight 2 (which is necessarily relevant to flight 1 per test design).</p>
<h4>Delete tested_uss flight test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.</p>
<p>To prepare for the next test case, tested_uss's flight 1 is closed.</p>
<p>✅ uss2_core (2024-11-18T16:34:19.337340Z)</p>
<h4>Delete mock_uss flight test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.</p>
<p>To prepare for the next test case, mock_uss's flight 2 is closed.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.363954Z)</p>
<h3>Flight planning prevented due to invalid data sharing test case</h3>
<p>In this test case, mock_uss is manipulated to share invalid operational intent details which should prevent tested_uss from planning since it cannot verify the absence of a conflict.</p>
<h4>mock_uss plans flight 2, sharing invalid operational intent data test step</h4>
<h5>Plan successfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.428694Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 2 should be successfully planned by the mock_uss.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.428651Z)</p>
<h5>Validate invalid operational intent details shared</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>expect_shared_with_invalid_data</code> in invalid_op_test_steps.py.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intent references in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:19.372456Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:19.436748Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.436842Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.459606Z)</p>
<h6>🛑 Invalid data in Operational intent details shared by Mock USS for negative test check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>Mock USS shares operational intent details with specified invalid data in response for the negative test case as per
<a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>.
If the operational intent details from mock_uss does not contain the specified invalid data, this check will fail.
It would mean mock_uss is not behaving correctly.</p>
<p>The mock_uss is instructed to share invalid data with other USS, for negative test.</p>
<p>✅ mock_uss (2024-11-18T16:34:19.471192Z)</p>
<h4>tested_uss attempts to plan flight 1, expect failure test step</h4>
<h5>Plan unsuccessfully</h5>
<p>This page describes the content of a common test case where a valid user flight intent fails in a flight planner, because of invalid data shared for a nearby flight shared by another USS.  See <code>plan_flight_intent_expect_failed</code> in invalid_op_test_steps.py.</p>
<h6>🛑 Plan should fail check</h6>
<p>A USS shouldn't go ahead and plan if it doesn't have accurate information.
As per SCD0035 a USS needs to verify a particular conflict status.
If flight intent data shared for a nearby flight shared is invalid, the USS can't successfully perform that verification.
It couldn't have obtained valid information about the other operational intents it's supposed to verify that conflict status against.
Therefore, the USS should fail an attempt to plan. If the plan succeeds, we know they've violated SCD0035 because they failed to verify that particular conflict status.</p>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong></p>
<p>The test driver instructs tested_uss to plan flight 1. tested_uss should (per SCD0035) check if any conflicts with flight 2
which is of equal priority and came first.
The planning attempt should fail because tested_uss will be unable to obtain valid operational intent details for flight 2.</p>
<p>✅ uss2_core (2024-11-18T16:34:19.543458Z)</p>
<h5>Validate operational intent not shared</h5>
<p>This step verifies that a previous attempt to create a flight did not result in a flight being shared with the DSS.
It does so by querying the DSS for operational intents in the area of the flight before and after an attempted creation.
This assumes an area lock on the extent of the flight intent.</p>
<p>See <code>OpIntentValidator.expect_not_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:19.480760Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:19.548778Z)</p>
<h6>🛑 Operational intent not shared check</h6>
<p>If there are new operational intent references in the area of the flight intent, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Validate flight 1 is not shared with DSS, as plan failed.</p>
<p>✅ uss2_core (2024-11-18T16:34:19.548841Z)</p>
<h4>Validate that tested_uss obtained flight2 details test step</h4>
<p>This step verifies that a USS obtained operational intent details from a Mock USS by means of either a notification from
the Mock USS (push), or a GET request (operation <em>getOperationalIntentDetails</em>) to the Mock USS.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.560846Z)</p>
<h5>🛑 USS obtained operational intent details by means of either notification or GET request check</h5>
<p>SCD0035 requires a USS to verify before transitioning to Accepted that it does not conflict with another operational
intent, and the only way to have verified this is by knowing all operational intent details.
As such, if the USS was neither notified of the details by the Mock USS, nor did it retrieve them directly from the Mock
USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0035</a></strong>
Validate that tested_uss obtained flight2 details from mock_uss, by means of either
a notification pushed by mock_uss to tested_uss due to the pre-existing subscription, or
direct retrieval by tested_uss from mock_uss.</p>
<p>✅ uss2_core (2024-11-18T16:34:26.561074Z)</p>
<h4>Validate flight 1 Notification not sent to mock_uss test step</h4>
<p>This step verifies when a flight is not created, it is also not notified by checking the interuss interactions of mock_uss instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.569315Z)</p>
<h5>ℹ️ Mock USS interaction can be parsed check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.</p>
<h5>🛑 Expect Notification not sent check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/f3548/notification_requirements.md">interuss.f3548.notification_requirements.NoDssEntityNoNotification</a></strong></p>
<p>As per the above requirement, the notification should not be sent by a USS about an entity that could not be created in DSS
to any USS. To verify that notification was indeed not sent, we need to wait and check up to a threshold to get confidence
that USS did not send notification.
The max duration for sending a notification in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">SCD0085</a> is MaxRespondToSubscriptionNotification(5) seconds.
However, this duration is from time start - Receipt of subscription notification from DSS, which does not exist for this check.
In this check we use time start when the test driver asked the USS to plan the failed flight.
When checking notification not sent, we should wait for the same duration that is used for when checking notification sent.
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/data_exchange_validation/test_steps/validate_notification_operational_intent.md">Expect Notification sent</a>.
So, we plan to use <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/data_exchange_validation/test_steps/wait.py">MaxTimeToWaitForSubscriptionNotificationSeconds</a> (7 seconds).</p>
<h4>Delete mock_uss flight test step</h4>
<p>This page describes the content of a common test case where a flight intent should be successfully deleted by a flight planner.
See <code>delete_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h5>🛑 Successful deletion check</h5>
<p>The flight ID provided is correct and corresponds to an existing flight intent, therefore it should have been deleted by
the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS indicates a failure, this check will fail.
Teardown</p>
<p>✅ mock_uss (2024-11-18T16:34:26.600859Z)</p>
<h3>Cleanup</h3>
<h4>Successful flight deletion check</h4>
<p>This cleanup is for both - after testcase ends and after test scenario ends
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:34:26.615845Z)</p>
<h2>[47] Awareness of relevant operational intents</h2>
<h3>Description</h3>
<p>When a USS submits an operational intent to DSS, a subscription is associated with that operational intent in DSS.
This subscription can be either an implicit or explicit subscription that covers the area of the operational intent.
The subscription helps the USS to be notified of new or modified operations in the area, when its operational intent is in
Activated, NonConforming and Contingent states. In this scenario, we will verify that USS under test has a subscription
to cover the operational intent area, and receives relevant notifications from other USSes.</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0080</a></strong></li>
</ul>
<p>This scenario assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>FlightIntentsResource that provides the following flight intents:</p>
<table>
    <tr>
        <th>Flight intent ID</th>
        <th>Flight name</th>
        <th>State</th><!-- TODO: Update with usage_state and uas_state when new flight planning API is adopted -->
        <th>Must be relevant, but not intersecting</th>
    </tr>
    <tr>
        <td><code>flight_1_planned</code></td>
        <td rowspan="2">Flight 1</td>
        <td>Accepted</td>
        <td rowspan="2">Flight 2</td>
    </tr>
    <tr>
        <td><code>flight_1_activated</code></td>
        <td>Activated</td>
    </tr>
    <tr>
        <td><code>flight_2_planned</code></td>
        <td rowspan="2">Flight 2</td>
        <td rowspan="2">Accepted</td>
        <td rowspan="2">Flight 1</td>
    </tr>
    <tr>
        <td><code>flight_2_planned_modified</code></td>
    </tr>
</table>
<p>To reach a situation where Flight 1 and Flight 2 do not intersect but are relevant to each other:</p>
<ul>
<li>their time ranges and altitudes do intersect;</li>
<li>their geometries do not intersect, but their convex hulls do.</li>
</ul>
<p>Because the scenario involves activation of intents, all activated intents must be active during the execution of the test scenario. Additionally, their end time must leave sufficient time for the execution of the test scenario. For the sake of simplicity, it is recommended to set the start and end times of all the intents to the same range.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>mock_uss</h4>
<p>MockUSSResource will be used for planning flights in order to send notifications to tested_uss, and gathering interuss interactions from mock_uss.</p>
<p>Provided by mock_uss in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that will be used for the USS being tested for its ability to maintain awareness of operational intent.</p>
<p>Provided by instance 1 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Activated operational intent receives notification of relevant intent test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/receive_notifications_for_awareness/assets/flight1_activated_flight2_planned.svg" alt="Test case summary illustration" /></p>
<p>This test case verifies that relevant notifications for new operational intents are received through subscription of an operational intent in Activated state.</p>
<h4>Tested_uss plans and activates Flight 1 test step</h4>
<h5>Plan Flight 1</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.697403Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 1 should be successfully planned by tested_uss.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.697360Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.827092Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.631020Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.702355Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.741226Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.831787Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.702424Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.831907Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.831881Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.702484Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.831956Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.721887Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.854449Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.734590Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.867288Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.736053Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.868749Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.736103Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.868797Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:34:26.736145Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.868839Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h5>Activate Flight 1</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.827132Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 1 should be successfully activated by the tested USS.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.697360Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.827092Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.631020Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.702355Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.741226Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.831787Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.702424Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.831907Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.831881Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.702484Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.831956Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.721887Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.854449Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.734590Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.867288Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.736053Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.868749Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss1_core (2024-11-18T16:34:26.736103Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.868797Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:34:26.736145Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:26.868839Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>While validating that Flight 1 has been shared, we will be able to find the  subscription id associated with Flight 1 in DSS.
Notifications of relevant flights will be sent to tested_uss using this subscription id.</p>
<h4>Mock_uss plans Flight 2 test step</h4>
<h5>Plan Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.954458Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>The test driver successfully plans Flight 2 via the mock uss, as there is no conflict with Flight 1.
However, because they are relevant to each other mock_uss will send Flight 2 notification to tested_uss.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.954415Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.873903Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:26.960406Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.960467Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.960519Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.975679Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.988472Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.990092Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ mock_uss (2024-11-18T16:34:26.990133Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:34:26.990169Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Validate Flight 2 notification received by tested_uss test step</h4>
<p>This step verifies that a Tested USS successfully received a notification about a relevant operational intent from a Mock USS instance.
This is done by checking the interactions of that Mock USS instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.
Mock USS provides a GET endpoint to retrieve all the interactions that took place between Mock USS
and other USSes after a particular time.
These interactions also include the notifications sent and received by Mock USS.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.001455Z)</p>
<h5>⚠️ Mock USS sends valid notification check</h5>
<p>There is an assumption here that DSS shared the correct subscriber information with Mock USS in response to planning or modifying its operational intent.</p>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong>,
Mock USS should send valid notification to USSes subscribed in the area.
The validation of notification involves checking that Mock USS included the correct subscription_id in the notification.
The check will fail if the notification to tested USS does not include the expected subscription_id.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.003620Z)</p>
<h5>⚠️ Tested USS receives valid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0080</a></strong>, USSes shall maintain awareness of
operational intents relevant to their own ones when they are in the Activated, NonConforming or Contingent states.
In DSS, there is a subscription associated with an operational intent managed by a USS. A tested USS should successfully
receive a notification of relevant intent from Mock USS based on this subscription.
The check will be done if valid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 204 to a valid notification attempt by Mock USS.</p>
<p>✅ uss1_core (2024-11-18T16:34:27.003671Z)</p>
<h5>⚠️ Tested USS rejects invalid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>, Tested USS should validate that the notification
received includes the subscription_id associated with its managed operation.
The check will be done if invalid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 400 for an invalid notification attempt by Mock USS.</p>
<p>Check a notification was received by tested_uss for Flight 2, with Flight 1's subscription_id.</p>
<h3>Modify Activated operational intent area and receive notification of relevant intent test case</h3>
<p>This test case verifies that relevant notifications for modified operational intents are received through subscription of an operational intent in Activated state.</p>
<h4>Mock_uss modifies planned Flight 2 test step</h4>
<h5>Modify Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent in planned state should be
successfully modified by a flight planner.  See <code>modify_planned_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful modification check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have
been modified by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS fails to modify the flight, wrongly indicates a conflict, or wrongly indicates the planned state of the
flight, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.093093Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>The test driver successfully modifies planned Flight 2 via the mock uss, as there is still no conflict with Flight 1.
However, because they are relevant to each other mock_uss will send Flight 2 notification to tested_uss.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.093038Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.013779Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.099453Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.099533Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.099579Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.114767Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.127859Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.129543Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.129586Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:34:27.129623Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Validate Flight 2 notification received by tested_uss test step</h4>
<p>This step verifies that a Tested USS successfully received a notification about a relevant operational intent from a Mock USS instance.
This is done by checking the interactions of that Mock USS instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.
Mock USS provides a GET endpoint to retrieve all the interactions that took place between Mock USS
and other USSes after a particular time.
These interactions also include the notifications sent and received by Mock USS.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.140267Z)</p>
<h5>⚠️ Mock USS sends valid notification check</h5>
<p>There is an assumption here that DSS shared the correct subscriber information with Mock USS in response to planning or modifying its operational intent.</p>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong>,
Mock USS should send valid notification to USSes subscribed in the area.
The validation of notification involves checking that Mock USS included the correct subscription_id in the notification.
The check will fail if the notification to tested USS does not include the expected subscription_id.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.142355Z)</p>
<h5>⚠️ Tested USS receives valid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0080</a></strong>, USSes shall maintain awareness of
operational intents relevant to their own ones when they are in the Activated, NonConforming or Contingent states.
In DSS, there is a subscription associated with an operational intent managed by a USS. A tested USS should successfully
receive a notification of relevant intent from Mock USS based on this subscription.
The check will be done if valid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 204 to a valid notification attempt by Mock USS.</p>
<p>✅ uss1_core (2024-11-18T16:34:27.142409Z)</p>
<h5>⚠️ Tested USS rejects invalid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>, Tested USS should validate that the notification
received includes the subscription_id associated with its managed operation.
The check will be done if invalid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 400 for an invalid notification attempt by Mock USS.</p>
<p>Check a notification was received by tested_uss for Flight 2, with Flight 1's subscription_id, after modification of the flight.</p>
<h3>Cleanup</h3>
<h4>Successful flight deletion check</h4>
<p>The flights are cleaned up at the end of the test scenario.
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:34:27.176691Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:27.205959Z)</p>
<h2>[48] Awareness of relevant operational intents</h2>
<h3>Description</h3>
<p>When a USS submits an operational intent to DSS, a subscription is associated with that operational intent in DSS.
This subscription can be either an implicit or explicit subscription that covers the area of the operational intent.
The subscription helps the USS to be notified of new or modified operations in the area, when its operational intent is in
Activated, NonConforming and Contingent states. In this scenario, we will verify that USS under test has a subscription
to cover the operational intent area, and receives relevant notifications from other USSes.</p>
<ul>
<li><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0080</a></strong></li>
</ul>
<p>This scenario assumes that the area used in the scenario is already clear of any pre-existing flights (using, for instance, PrepareFlightPlanners scenario).</p>
<h3>Resources</h3>
<h4>flight_intents</h4>
<p>FlightIntentsResource that provides the following flight intents:</p>
<table>
    <tr>
        <th>Flight intent ID</th>
        <th>Flight name</th>
        <th>State</th><!-- TODO: Update with usage_state and uas_state when new flight planning API is adopted -->
        <th>Must be relevant, but not intersecting</th>
    </tr>
    <tr>
        <td><code>flight_1_planned</code></td>
        <td rowspan="2">Flight 1</td>
        <td>Accepted</td>
        <td rowspan="2">Flight 2</td>
    </tr>
    <tr>
        <td><code>flight_1_activated</code></td>
        <td>Activated</td>
    </tr>
    <tr>
        <td><code>flight_2_planned</code></td>
        <td rowspan="2">Flight 2</td>
        <td rowspan="2">Accepted</td>
        <td rowspan="2">Flight 1</td>
    </tr>
    <tr>
        <td><code>flight_2_planned_modified</code></td>
    </tr>
</table>
<p>To reach a situation where Flight 1 and Flight 2 do not intersect but are relevant to each other:</p>
<ul>
<li>their time ranges and altitudes do intersect;</li>
<li>their geometries do not intersect, but their convex hulls do.</li>
</ul>
<p>Because the scenario involves activation of intents, all activated intents must be active during the execution of the test scenario. Additionally, their end time must leave sufficient time for the execution of the test scenario. For the sake of simplicity, it is recommended to set the start and end times of all the intents to the same range.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h4>mock_uss</h4>
<p>MockUSSResource will be used for planning flights in order to send notifications to tested_uss, and gathering interuss interactions from mock_uss.</p>
<p>Provided by mock_uss in top-level resource pool.</p>
<h4>tested_uss</h4>
<p>FlightPlannerResource that will be used for the USS being tested for its ability to maintain awareness of operational intent.</p>
<p>Provided by instance 2 in flight_planners in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource that provides access to a DSS instance where flight creation/sharing can be verified.</p>
<p>Provided by dss in top-level resource pool.</p>
<h3>Activated operational intent receives notification of relevant intent test case</h3>
<p><img src="https://raw.githubusercontent.com/interuss/monitoring/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/receive_notifications_for_awareness/assets/flight1_activated_flight2_planned.svg" alt="Test case summary illustration" /></p>
<p>This test case verifies that relevant notifications for new operational intents are received through subscription of an operational intent in Activated state.</p>
<h4>Tested_uss plans and activates Flight 1 test step</h4>
<h5>Plan Flight 1</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.301513Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 1 should be successfully planned by tested_uss.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.301463Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.427136Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.221274Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.306129Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.343544Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.432312Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.306192Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.432430Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.432405Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.306249Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.432477Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.323894Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.450307Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.337548Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.463037Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.339033Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.464499Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.339082Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.464547Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:34:27.339125Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.464589Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h5>Activate Flight 1</h5>
<p>This page describes the content of a common test step where a valid user flight intent should be successfully activated by a flight planner.  See <code>activate_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful activation check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been activated by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.427177Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>Flight 1 should be successfully activated by the tested USS.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.301463Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.427136Z)</p>
<h5>Validate Flight 1 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.221274Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.306129Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.343544Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.432312Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.306192Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.432430Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.432405Z)</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.306249Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.432477Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.323894Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.450307Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.337548Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.463037Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.339033Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.464499Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.339082Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.464547Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ uss2_core (2024-11-18T16:34:27.339125Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.464589Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>While validating that Flight 1 has been shared, we will be able to find the  subscription id associated with Flight 1 in DSS.
Notifications of relevant flights will be sent to tested_uss using this subscription id.</p>
<h4>Mock_uss plans Flight 2 test step</h4>
<h5>Plan Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent should be successfully planned by a flight planner.  See <code>plan_flight_intent</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful planning check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have been planned by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.  If the USS indicates a conflict, this check will fail.  If the USS indicates that the flight was rejected, this check will fail.  If the USS indicates that the injection attempt failed, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.554764Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>The test driver successfully plans Flight 2 via the mock uss, as there is no conflict with Flight 1.
However, because they are relevant to each other mock_uss will send Flight 2 notification to tested_uss.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.554724Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.469437Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.560407Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.560468Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.560520Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.577373Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.590306Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.591806Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.591848Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:34:27.591885Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Validate Flight 2 notification received by tested_uss test step</h4>
<p>This step verifies that a Tested USS successfully received a notification about a relevant operational intent from a Mock USS instance.
This is done by checking the interactions of that Mock USS instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.
Mock USS provides a GET endpoint to retrieve all the interactions that took place between Mock USS
and other USSes after a particular time.
These interactions also include the notifications sent and received by Mock USS.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.602676Z)</p>
<h5>⚠️ Mock USS sends valid notification check</h5>
<p>There is an assumption here that DSS shared the correct subscriber information with Mock USS in response to planning or modifying its operational intent.</p>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong>,
Mock USS should send valid notification to USSes subscribed in the area.
The validation of notification involves checking that Mock USS included the correct subscription_id in the notification.
The check will fail if the notification to tested USS does not include the expected subscription_id.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.604650Z)</p>
<h5>⚠️ Tested USS receives valid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0080</a></strong>, USSes shall maintain awareness of
operational intents relevant to their own ones when they are in the Activated, NonConforming or Contingent states.
In DSS, there is a subscription associated with an operational intent managed by a USS. A tested USS should successfully
receive a notification of relevant intent from Mock USS based on this subscription.
The check will be done if valid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 204 to a valid notification attempt by Mock USS.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.604696Z)</p>
<h5>⚠️ Tested USS rejects invalid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>, Tested USS should validate that the notification
received includes the subscription_id associated with its managed operation.
The check will be done if invalid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 400 for an invalid notification attempt by Mock USS.</p>
<p>Check a notification was received by tested_uss for Flight 2, with Flight 1's subscription_id.</p>
<h3>Modify Activated operational intent area and receive notification of relevant intent test case</h3>
<p>This test case verifies that relevant notifications for modified operational intents are received through subscription of an operational intent in Activated state.</p>
<h4>Mock_uss modifies planned Flight 2 test step</h4>
<h5>Modify Flight 2</h5>
<p>This page describes the content of a common test case where a valid user flight intent in planned state should be
successfully modified by a flight planner.  See <code>modify_planned_flight</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/flight_planning/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 Successful modification check</h6>
<p>All flight intent data provided is correct and valid and free of conflict in space and time, therefore it should have
been modified by the USS per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.
If the USS fails to modify the flight, wrongly indicates a conflict, or wrongly indicates the planned state of the
flight, this check will fail.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.701824Z)</p>
<h6>🛑 Failure check</h6>
<p>All flight intent data provided was complete and correct. It should have been processed successfully, allowing the USS
to reject or accept the flight. If the USS indicates that the injection attempt failed, this check will fail per
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>The test driver successfully modifies planned Flight 2 via the mock uss, as there is still no conflict with Flight 1.
However, because they are relevant to each other mock_uss will send Flight 2 notification to tested_uss.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.701783Z)</p>
<h5>Validate Flight 2 sharing</h5>
<p>This step verifies that a created flight is shared properly per ASTM F3548-21 by querying the DSS for flights in the area of the flight intent, and then retrieving the details from the USS if the operational intent reference is found.  See <code>OpIntentValidator.expect_shared()</code> in <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/test_steps.py">test_steps.py</a>.</p>
<h6>🛑 DSS responses check</h6>
<p>If the DSS fails to properly respond to a valid search query for operational intents in an area,
it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.614810Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:27.707678Z)</p>
<h6>🛑 Operational intent shared correctly check</h6>
<p>If a reference to the operational intent for the flight is not found in the DSS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.707750Z)</p>
<h6>🛑 Operational intent for active flight not deleted check</h6>
<p>If an activated operational intent is expected to exist after it has been modified or activated and that it is not found
in the DSS, this means that there is an active flight without a corresponding operational intent, then this check will
fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.FlightCoveredByOperationalIntent</a></strong>.</p>
<h6>🛑 Operational intent state is correct check</h6>
<p>If the state of the operational intent found in the DSS does not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.707796Z)</p>
<h6>🛑 Operational intent details retrievable check</h6>
<p>If the operational intent details for the flight cannot be retrieved from the USS, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.724225Z)</p>
<h6>⚠️ Operational intent details data format check</h6>
<p>If the operational intent details response does not validate against <a href="https://github.com/astm-utm/Protocol/blob/v1.0.0/utm.yaml#L1120">the GetOperationalIntentDetailsResponse schema of the OpenAPI specification</a>, this check fill fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.737414Z)</p>
<h6>🛑 Correct operational intent details check</h6>
<p>If the operational intent details reported by the USS do not match the user's flight intent, this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ExpectedBehavior</a></strong> and <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0025</a></strong>.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.738929Z)</p>
<h6>⚠️ Off-nominal volumes check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0015</a></strong> specifies that nominal operational intents (Accepted and Activated) must not include any off-nominal 4D volumes, so this check will fail if an Accepted or Activated operational intent includes off-nominal volumes.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.738973Z)</p>
<h6>⚠️ Vertices check</h6>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.OPIN0020</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:34:27.739009Z)</p>
<h6>🛑 Operational intent telemetry retrievable check</h6>
<p>If:</p>
<ul>
<li>the operational intent is in an off-nominal state,</li>
<li>that its telemetry cannot be retrieved from the USS, and</li>
<li>that the USS does not explicitly indicate that no telemetry is available,</li>
</ul>
<p>this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>.</p>
<h4>Validate Flight 2 notification received by tested_uss test step</h4>
<p>This step verifies that a Tested USS successfully received a notification about a relevant operational intent from a Mock USS instance.
This is done by checking the interactions of that Mock USS instance.</p>
<h5>Get Mock USS interactions logs</h5>
<p>This step obtains interactions of interest from mock_uss.</p>
<h6>🛑 Mock USS interactions logs retrievable check</h6>
<p>The Mock USSes provide a GET endpoint to retrieve all the interactions that took place between them and other USSes
after a particular time.
If there is any error retrieving these interactions, this check will fail as per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/mock_uss/hosted_instance.md">interuss.mock_uss.hosted_instance.ExposeInterface</a></strong>.
Mock USS provides a GET endpoint to retrieve all the interactions that took place between Mock USS
and other USSes after a particular time.
These interactions also include the notifications sent and received by Mock USS.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.749829Z)</p>
<h5>⚠️ Mock USS sends valid notification check</h5>
<p>There is an assumption here that DSS shared the correct subscriber information with Mock USS in response to planning or modifying its operational intent.</p>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0005</a></strong>,
Mock USS should send valid notification to USSes subscribed in the area.
The validation of notification involves checking that Mock USS included the correct subscription_id in the notification.
The check will fail if the notification to tested USS does not include the expected subscription_id.</p>
<p>✅ mock_uss (2024-11-18T16:34:27.751889Z)</p>
<h5>⚠️ Tested USS receives valid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0080</a></strong>, USSes shall maintain awareness of
operational intents relevant to their own ones when they are in the Activated, NonConforming or Contingent states.
In DSS, there is a subscription associated with an operational intent managed by a USS. A tested USS should successfully
receive a notification of relevant intent from Mock USS based on this subscription.
The check will be done if valid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 204 to a valid notification attempt by Mock USS.</p>
<p>✅ uss2_core (2024-11-18T16:34:27.751937Z)</p>
<h5>⚠️ Tested USS rejects invalid notification check</h5>
<p>As per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.USS0105</a></strong>, Tested USS should validate that the notification
received includes the subscription_id associated with its managed operation.
The check will be done if invalid notification is sent by Mock USS, which is determined in
<a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/scenarios/astm/utm/subscription_notifications/test_steps/#%E2%9A%A0%EF%B8%8F-mock-uss-sends-valid-notification-check">Mock USS sends valid notification check</a> above.
This check will fail if tested USS does not respond with http status 400 for an invalid notification attempt by Mock USS.</p>
<p>Check a notification was received by tested_uss for Flight 2, with Flight 1's subscription_id, after modification of the flight.</p>
<h3>Cleanup</h3>
<h4>Successful flight deletion check</h4>
<p>The flights are cleaned up at the end of the test scenario.
<strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.DeleteFlightSuccess</a></strong></p>
<p>✅ mock_uss (2024-11-18T16:34:27.787798Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.816138Z)</p>
<h2>[skipped] All actions from action generator</h2>
<p>This instance of this test scenario was skipped in this test run because: AuthAdapterResource provided to monitoring.uss_qualifier.resources.astm.f3548.v21.dss.DSSInstanceResource is not declared (in its resource specification) as authorized to obtain scope <code>utm.conformance_monitoring_sa</code> which it requires to create operational intent references in an off-nominal state.  Update <code>scopes_authorized</code> to include <code>utm.conformance_monitoring_sa</code> to provide this authorization.  7 scopes currently declared as authorized for AuthAdapterResource: , interuss.flight_planning.direct_automated_test, utm.constraint_management, interuss.versioning.read_system_versions, utm.strategic_coordination, interuss.flight_planning.plan, utm.availability_arbitration</p>
<h2>[skipped] All actions from action generator</h2>
<p>This instance of this test scenario was skipped in this test run because: AuthAdapterResource provided to monitoring.uss_qualifier.resources.astm.f3548.v21.dss.DSSInstanceResource is not declared (in its resource specification) as authorized to obtain scope <code>utm.conformance_monitoring_sa</code> which it requires to create operational intent references in an off-nominal state.  Update <code>scopes_authorized</code> to include <code>utm.conformance_monitoring_sa</code> to provide this authorization.  7 scopes currently declared as authorized for AuthAdapterResource: , interuss.flight_planning.direct_automated_test, utm.constraint_management, interuss.versioning.read_system_versions, utm.strategic_coordination, interuss.flight_planning.plan, utm.availability_arbitration</p>
<h2>[49] ASTM F3548 flight planners preparation</h2>
<h3>Description</h3>
<p>This scenario prepares flight planner systems for execution of controlled test scenarios by checking planner systems' readiness and having them remove any existing flights that may already be in the test area.</p>
<h3>Resources</h3>
<h4>flight_planners</h4>
<p>FlightPlannersResource listing all USSs undergoing planning tests so that they can be checked for readiness and instructed to remove any existing flights from the area in this scenario.</p>
<p>Provided by flight_planners in top-level resource pool.</p>
<h4>mock_uss</h4>
<p>(Optional) MockUSSResource is checked for readiness and instructed to remove any existing flights from the area in this scenario.</p>
<p>Provided by mock_uss in top-level resource pool.</p>
<h4>dss</h4>
<p>DSSInstanceResource to check for lingering operational intents after the area has been cleared.</p>
<p>Provided by dss in top-level resource pool.</p>
<h4>flight_intents</h4>
<p>FlightIntentsResource containing flight intents that will be used in subsequent tests, so all planners should be instructed to clear any area involved with any of these intents of flights it manages.</p>
<p>Provided by invalid_flight_intents in top-level resource pool.</p>
<h4>flight_intents3</h4>
<p>(Optional) If more than one FlightIntentsResource will be used in subsequent tests, additional intents may be specified with this resource.</p>
<p>Provided by conflicting_flights in top-level resource pool.</p>
<h4>flight_intents4</h4>
<p>(Optional) If more than one FlightIntentsResource will be used in subsequent tests, additional intents may be specified with this resource.</p>
<p>Provided by non_conflicting_flights in top-level resource pool.</p>
<h3>Flight planners preparation test case</h3>
<h4>Check for flight planning readiness test step</h4>
<p>All USSs are queried for their readiness to ensure later tests can proceed.</p>
<h5>⚠️ Valid response to readiness query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ImplementAPI</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:34:27.824871Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.832235Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:27.839498Z)</p>
<h5>⚠️ Flight planning USS ready check</h5>
<p>This readiness indicates the USS's ability to inject test data, so if this check fails, not only has the USS not met <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.Readiness</a></strong>, but it also does not meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0310</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:27.824934Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.832326Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:27.839584Z)</p>
<h4>Area clearing test step</h4>
<p>All USSs are requested to remove all flights from the area under test.</p>
<h5>⚠️ Valid response to clearing query check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ImplementAPI</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:34:27.867850Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.896278Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:27.920272Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:27.947062Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.974217Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:27.997696Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:28.025072Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.052562Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:28.076486Z)</p>
<h5>⚠️ Area cleared successfully check</h5>
<p><strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/interuss/automated_testing/flight_planning.md">interuss.automated_testing.flight_planning.ClearArea</a></strong></p>
<p>✅ uss1_core (2024-11-18T16:34:27.867923Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.896365Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:27.920359Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:27.947148Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:27.974327Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:27.997815Z)</p>
<p>✅ uss1_core (2024-11-18T16:34:28.025224Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.052690Z)</p>
<p>✅ mock_uss (2024-11-18T16:34:28.076624Z)</p>
<h4>Clear area validation test step</h4>
<p>uss_qualifier verifies with the DSS that there are no operational intents remaining in the area.</p>
<h5>🛑 DSS responses check</h5>
<p>If the DSS fails to reply to a query concerning operational intent references in a given area, or fails to allow the deletion of
an operational intent from its own creator, it is in violation of <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,1</a></strong>
or <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.DSS0005,2</a></strong>, and this check will fail.</p>
<p>✅ uss1_dss (2024-11-18T16:34:28.081727Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:28.085804Z)</p>
<p>✅ uss1_dss (2024-11-18T16:34:28.089843Z)</p>
<h5>🛑 Area is clear of op intents check</h5>
<p>If operational intents exist in the 4D area(s) that should be clear, then the current state of the test environment is not suitable to conduct tests so this check will fail.</p>
<p>This step examines whether any operational intents remain.  If any foreign (other than uss_qualifier-owned) operational intents remain, then this step's checks will fail.  If any uss_qualifier-owned operational intents remain, the checks for this step do not fail but instead we proceed to the next test case.  If the area is clear, we skip the next test case.</p>
<p>✅  (2024-11-18T16:34:28.081858Z)</p>
<p>✅  (2024-11-18T16:34:28.085902Z)</p>
<p>✅  (2024-11-18T16:34:28.089940Z)</p>
<h2>[50] ASTM F3548-21 evaluate system versions</h2>
<h3>Overview</h3>
<p>ASTM F3548-21 GEN0305 requires that the USS's test system (provided per GEN0300) uses the currently deployed software version except when testing an update.  This scenario checks the test and production versions of all participants' systems and ensures that no more than one participant's test system (presumably the participant who is testing an update) has a different version than their production system.</p>
<h3>Resources</h3>
<h4>test_env_version_providers</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/versioning/client.py"><code>VersionProvidersResource</code></a> containing the means by which to query test-environment system versions for each applicable participant.</p>
<p>Provided by test_env_version_providers in top-level resource pool.</p>
<h4>prod_env_version_providers</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/versioning/client.py"><code>VersionProvidersResource</code></a> containing the means by which to query production-environment system versions for each applicable participant.</p>
<p>Provided by prod_env_version_providers in top-level resource pool.</p>
<h4>system_identity</h4>
<p>A <a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/resources/versioning/system_identity.py"><code>SystemIdentityResource</code></a> indicating the identity of the system for which to query the version from all providers.</p>
<p>Provided by system_identity in suites.astm.utm.f3548_21.</p>
<h3>Evaluate versions test case</h3>
<h4>Get test environment test versions test step</h4>
<p>Each version provider is queried for the version of its system (identified by system_identity) in the test environment.</p>
<h5>⚠️ Valid response check</h5>
<p>If a valid response is not received from a version provider, they will have failed to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/versioning.md">versioning.ReportSystemVersion</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:28.098620Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.106428Z)</p>
<h4>Get production environment versions test step</h4>
<p>Each version provider is queried for the version of its system (identified by system_identity) in the production environment.</p>
<h5>⚠️ Valid response check</h5>
<p>If a valid response is not received from a version provider, they will have failed to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/versioning.md">versioning.ReportSystemVersion</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:28.113855Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.121417Z)</p>
<h4>Evaluate current system versions test step</h4>
<h5>⚠️ At most one participant is testing a new software version check</h5>
<p>Per GEN0305, a participant may temporarily have a different software version in the test environment than in production in order to test that new software version.  But, as the purpose of testing is to ensure continued compliance and interoperation with other participants' systems that have already been demonstrated functional, if two or more participants have differing software versions between the test and production environments, at least one of these participants will have failed to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0305</a></strong>.</p>
<p>✅ uss1_core, uss2_core (2024-11-18T16:34:28.121569Z)</p>
<h5>⚠️ Test software version matches production check</h5>
<p>For participants not testing a new software version, their test-environment software version must match their production-environment software version or that participant does not meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0305</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:28.121511Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.121541Z)</p>
<h4>Evaluate system version consistency test step</h4>
<h5>⚠️ Software versions are consistent throughout test run check</h5>
<p>If the system version reported by a participant at one point during the test run is different from the system version reported by that participant at a different point during the test run, that participant cannot meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0305</a></strong> because the test environment and production environment system versions cannot be compared because the version in at least one of those environments does not have a consistent value.</p>
<p>✅ uss1_core (2024-11-18T16:34:28.121787Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.121929Z)</p>
<h2>[51] ASTM F3548 UTM aggregate checks</h2>
<h3>Overview</h3>
<p>In this special scenario, the report of previously executed ASTM F3548 UTM scenario(s) are evaluated for the
performances of the queries made during their execution.</p>
<h3>Resources</h3>
<h4>flight_planners</h4>
<p>The flight planners subject to evaluation.</p>
<p>Provided by flight_planners in top-level resource pool.</p>
<h3>Performance of SCD requests to USS test case</h3>
<h4>Performance of successful operational intent details requests test step</h4>
<p>In this step, all successful requests for operational intent details made to the USSs that are part of the flight
planners provided as resource are used to determine and evaluate the 95th percentile of the requests durations.</p>
<h5>⚠️ Operational intent details requests take no more than [MaxRespondToOIDetailsRequest] second 95% of the time check</h5>
<p>If the 95th percentile of the requests durations is higher than the threshold <code>MaxRespondToOIDetailsRequest</code> (1 second),
this check will fail per <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.SCD0075</a></strong>.</p>
<p>✅ uss1_core (2024-11-18T16:34:28.131213Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.131612Z)</p>
<h3>Interoperability test instance is available test case</h3>
<h4>Interoperability test instance is available test step</h4>
<p>This step verifies that interactions with the interoperability test instances happened and where at least partly successful.</p>
<h5>⚠️ Interoperability test instance is available check</h5>
<p>This check ensures that interactions with the interoperability test instance that each USS must provide are possible.</p>
<p>If all interactions fail, or if no test instance can be reached, the USS is failing to meet <strong><a href="https://github.com/interuss/monitoring/blob/ab321559aa3b6680cbc1911acfabde4e1afddf6e/monitoring/uss_qualifier/requirements/astm/f3548/v21.md">astm.f3548.v21.GEN0300</a></strong>.</p>
<p>If no interaction with a test instance was found, this check is skipped.</p>
<p>✅ uss1_core (2024-11-18T16:34:28.132149Z)</p>
<p>✅ uss2_core (2024-11-18T16:34:28.132423Z)</p>
</body>
</html>
